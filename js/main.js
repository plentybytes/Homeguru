var ZPG={};(function(b){var d={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:'<div class="icon icon-right-open icon-muted"></div>',buttonPrevHTML:'<div class="icon icon-left-open icon-muted"></div>',buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},a=!1;b(window).bind("load.jcarousel",function(){a=!0});b.jcarousel=function(r,p){this.options=b.extend({},d,p||{});this.autoStopped=this.locked=!1;this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;if(!p||p.rtl===void 0){this.options.rtl=(b(r).attr("dir")||b("html").attr("dir")||"").toLowerCase()=="rtl"}this.wh=!this.options.vertical?"width":"height";this.lt=!this.options.vertical?this.options.rtl?"right":"left":"top";for(var q="",o=r.className.split(" "),m=0;m<o.length;m++){if(o[m].indexOf("jcarousel-skin")!=-1){b(r).removeClass(o[m]);q=o[m];break}}r.nodeName.toUpperCase()=="UL"||r.nodeName.toUpperCase()=="OL"?(this.list=b(r),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=b(r),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip"));if(this.clip.size()===0){this.clip=this.list.wrap("<div></div>").parent()}if(this.container.size()===0){this.container=this.clip.wrap("<div></div>").parent()}q!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+q+'"></div>');this.buttonPrev=b(".jcarousel-prev",this.container);if(this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null){this.buttonPrev=b(this.options.buttonPrevHTML).appendTo(this.container)}this.buttonPrev.addClass(this.className("jcarousel-prev"));this.buttonNext=b(".jcarousel-next",this.container);if(this.buttonNext.size()===0&&this.options.buttonNextHTML!==null){this.buttonNext=b(this.options.buttonNextHTML).appendTo(this.container)}this.buttonNext.addClass(this.className("jcarousel-next"));this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var g=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,q=this.list.children("li"),n=this;if(q.size()>0){var l=0,k=this.options.offset;q.each(function(){n.format(this,k++);l+=n.dimension(this,g)});this.list.css(this.wh,l+100+"px");if(!p||p.size===void 0){this.options.size=q.size()}}this.container.css("display","block");this.buttonNext.css("display","block");this.buttonPrev.css("display","block");this.funcNext=function(){n.next()};this.funcPrev=function(){n.prev()};this.funcResize=function(){n.resizeTimer&&clearTimeout(n.resizeTimer);n.resizeTimer=setTimeout(function(){n.reload()},100)};this.options.initCallback!==null&&this.options.initCallback(this,"init");!a&&b.browser.safari?(this.buttons(!1,!1),b(window).bind("load.jcarousel",function(){n.setup()})):this.setup()};var c=b.jcarousel;c.fn=c.prototype={jcarousel:"0.2.8"};c.fn.extend=c.extend=b.extend;c.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null;this.animating=!1;this.tail=this.resizeTimer=this.timer=null;this.inTail=!1;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var e=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null;this.animate(e,!1);b(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize);this.options.setupCallback!==null&&this.options.setupCallback(this)}},reset:function(){this.list.empty();this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");this.options.initCallback!==null&&this.options.initCallback(this,"reset");this.setup()},reload:function(){this.tail!==null&&this.inTail&&this.list.css(this.lt,c.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=!1;this.options.reloadCallback!==null&&this.options.reloadCallback(this);if(this.options.visible!==null){var f=this,h=Math.ceil(this.clipping()/this.options.visible),e=0,g=0;this.list.children("li").each(function(i){e+=f.dimension(this,h);i+1<f.first&&(g=e)});this.list.css(this.wh,e+"px");this.list.css(this.lt,-g+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0;this.buttons()},unlock:function(){this.locked=!1;this.buttons()},size:function(e){if(e!==void 0){this.options.size=e,this.locked||this.buttons()}return this.options.size},has:function(f,h){if(h===void 0||!h){h=f}if(this.options.size!==null&&h>this.options.size){h=this.options.size}for(var e=f;e<=h;e++){var g=this.get(e);if(!g.length||g.hasClass("jcarousel-item-placeholder")){return !1}}return !0},get:function(e){return b(">.jcarousel-item-"+e,this.list)},add:function(g,m){var f=this.get(g),l=0,k=b(m);if(f.length===0){for(var h,i=c.intval(g),f=this.create(g);;){if(h=this.get(--i),i<=0||h.length){i<=0?this.list.prepend(f):h.after(f);break}}}else{l=this.dimension(f)}k.get(0).nodeName.toUpperCase()=="LI"?(f.replaceWith(k),f=k):f.empty().append(m);this.format(f.removeClass(this.className("jcarousel-item-placeholder")),g);k=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;l=this.dimension(f,k)-l;g>0&&g<this.first&&this.list.css(this.lt,c.intval(this.list.css(this.lt))-l+"px");this.list.css(this.wh,c.intval(this.list.css(this.wh))+l+"px");return f},remove:function(f){var g=this.get(f);if(g.length&&!(f>=this.first&&f<=this.last)){var e=this.dimension(g);f<this.first&&this.list.css(this.lt,c.intval(this.list.css(this.lt))+e+"px");g.remove();this.list.css(this.wh,c.intval(this.list.css(this.wh))-e+"px")}},next:function(){this.tail!==null&&!this.inTail?this.scrollTail(!1):this.scroll((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!==null&&this.last==this.options.size?1:this.first+this.options.scroll)},prev:function(){this.tail!==null&&this.inTail?this.scrollTail(!0):this.scroll((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!==null&&this.first==1?this.options.size:this.first-this.options.scroll)},scrollTail:function(e){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var f=c.intval(this.list.css(this.lt)),f=!e?f-this.tail:f+this.tail;this.inTail=!e;this.prevFirst=this.first;this.prevLast=this.last;this.animate(f)}},scroll:function(e,f){!this.locked&&!this.animating&&(this.pauseAuto(),this.animate(this.pos(e),f))},pos:function(C,A){var B=c.intval(this.list.css(this.lt));if(this.locked||this.animating){return B}this.options.wrap!="circular"&&(C=C<1?1:this.options.size&&C>this.options.size?this.options.size:C);for(var z=this.first>C,w=this.options.wrap!="circular"&&this.first<=1?1:this.first,t=z?this.get(w):this.get(this.last),y=z?w:w-1,v=null,u=0,s=!1,r=0;z?--y>=C:++y<C;){v=this.get(y);s=!v.length;if(v.length===0&&(v=this.create(y).addClass(this.className("jcarousel-item-placeholder")),t[z?"before":"after"](v),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(y<=0||y>this.options.size))){t=this.get(this.index(y)),t.length&&(v=this.add(y,t.clone(!0)))}t=v;r=this.dimension(v);s&&(u+=r);if(this.first!==null&&(this.options.wrap=="circular"||y>=1&&(this.options.size===null||y<=this.options.size))){B=z?B+r:B-r}}for(var w=this.clipping(),q=[],f=0,p=0,t=this.get(C-1),y=C;++f;){v=this.get(y);s=!v.length;if(v.length===0){v=this.create(y).addClass(this.className("jcarousel-item-placeholder"));if(t.length===0){this.list.prepend(v)}else{t[z?"before":"after"](v)}if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(y<=0||y>this.options.size)){t=this.get(this.index(y)),t.length&&(v=this.add(y,t.clone(!0)))}}t=v;r=this.dimension(v);if(r===0){throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...")}this.options.wrap!="circular"&&this.options.size!==null&&y>this.options.size?q.push(v):s&&(u+=r);p+=r;if(p>=w){break}y++}for(v=0;v<q.length;v++){q[v].remove()}u>0&&(this.list.css(this.wh,this.dimension(this.list)+u+"px"),z&&(B-=u,this.list.css(this.lt,c.intval(this.list.css(this.lt))-u+"px")));u=C+f-1;if(this.options.wrap!="circular"&&this.options.size&&u>this.options.size){u=this.options.size}if(y>u){f=0;y=u;for(p=0;++f;){v=this.get(y--);if(!v.length){break}p+=this.dimension(v);if(p>=w){break}}}y=u-f+1;this.options.wrap!="circular"&&y<1&&(y=1);if(this.inTail&&z){B+=this.tail,this.inTail=!1}this.tail=null;if(this.options.wrap!="circular"&&u==this.options.size&&u-f+1>=1&&(z=c.intval(this.get(u).css(!this.options.vertical?"marginRight":"marginBottom")),p-z>w)){this.tail=p-w-z}if(A&&C===this.options.size&&this.tail){B-=this.tail,this.inTail=!0}for(;C-->y;){B+=this.dimension(this.get(C))}this.prevFirst=this.first;this.prevLast=this.last;this.first=y;this.last=u;return B},animate:function(g,j){if(!this.locked&&!this.animating){this.animating=!0;var e=this,i=function(){e.animating=!1;g===0&&e.list.css(e.lt,0);!e.autoStopped&&(e.options.wrap=="circular"||e.options.wrap=="both"||e.options.wrap=="last"||e.options.size===null||e.last<e.options.size||e.last==e.options.size&&e.tail!==null&&!e.inTail)&&e.startAuto();e.buttons();e.notify("onAfterAnimation");if(e.options.wrap=="circular"&&e.options.size!==null){for(var f=e.prevFirst;f<=e.prevLast;f++){f!==null&&!(f>=e.first&&f<=e.last)&&(f<1||f>e.options.size)&&e.remove(f)}}};this.notify("onBeforeAnimation");if(!this.options.animation||j===!1){this.list.css(this.lt,g+"px"),i()}else{var h=!this.options.vertical?this.options.rtl?{right:g}:{left:g}:{top:g},i={duration:this.options.animation,easing:this.options.easing,complete:i};if(b.isFunction(this.options.animationStepCallback)){i.step=this.options.animationStepCallback}this.list.animate(h,i)}}},startAuto:function(e){if(e!==void 0){this.options.auto=e}if(this.options.auto===0){return this.stopAuto()}if(this.timer===null){this.autoStopped=!1;var f=this;this.timer=window.setTimeout(function(){f.next()},this.options.auto*1000)}},stopAuto:function(){this.pauseAuto();this.autoStopped=!0},pauseAuto:function(){if(this.timer!==null){window.clearTimeout(this.timer),this.timer=null}},buttons:function(f,g){if(f==null&&(f=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size===null||this.last<this.options.size),!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size)){f=this.tail!==null&&!this.inTail}if(g==null&&(g=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1),!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1)){g=this.tail!==null&&this.inTail}var e=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),f&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[f?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",f?!1:!0),this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=f&&this.buttonNext.each(function(){e.options.buttonNextCallback(e,this,f)}).data("jcarouselstate",f)):this.options.buttonNextCallback!==null&&this.buttonNextState!=f&&this.options.buttonNextCallback(e,null,f);this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),g&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[g?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",g?!1:!0),this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=g&&this.buttonPrev.each(function(){e.options.buttonPrevCallback(e,this,g)}).data("jcarouselstate",g)):this.options.buttonPrevCallback!==null&&this.buttonPrevState!=g&&this.options.buttonPrevCallback(e,null,g);this.buttonNextState=f;this.buttonPrevState=g},notify:function(e){var f=this.prevFirst===null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",e,f);this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",e,f,this.first),this.callback("itemFirstOutCallback",e,f,this.prevFirst));this.prevLast!==this.last&&(this.callback("itemLastInCallback",e,f,this.last),this.callback("itemLastOutCallback",e,f,this.prevLast));this.callback("itemVisibleInCallback",e,f,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",e,f,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(t,r,s,q,o,l,p){if(!(this.options[t]==null||typeof this.options[t]!="object"&&r!="onAfterAnimation")){var n=typeof this.options[t]=="object"?this.options[t][r]:this.options[t];if(b.isFunction(n)){var m=this;if(q===void 0){n(m,s,r)}else{if(o===void 0){this.get(q).each(function(){n(m,this,q,s,r)})}else{for(var t=function(e){m.get(e).each(function(){n(m,this,e,s,r)})},g=q;g<=o;g++){g!==null&&!(g>=l&&g<=p)&&t(g)}}}}}},create:function(e){return this.format("<li></li>",e)},format:function(f,h){for(var f=b(f),e=f.get(0).className.split(" "),g=0;g<e.length;g++){e[g].indexOf("jcarousel-")!=-1&&f.removeClass(e[g])}f.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+h)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",h);return f},className:function(e){return e+" "+e+(!this.options.vertical?"-horizontal":"-vertical")},dimension:function(f,h){var e=b(f);if(h==null){return !this.options.vertical?e.outerWidth(!0)||c.intval(this.options.itemFallbackDimension):e.outerHeight(!0)||c.intval(this.options.itemFallbackDimension)}else{var g=!this.options.vertical?h-c.intval(e.css("marginLeft"))-c.intval(e.css("marginRight")):h-c.intval(e.css("marginTop"))-c.intval(e.css("marginBottom"));b(e).css(this.wh,g+"px");return this.dimension(e)}},clipping:function(){return !this.options.vertical?this.clip[0].offsetWidth-c.intval(this.clip.css("borderLeftWidth"))-c.intval(this.clip.css("borderRightWidth")):this.clip[0].offsetHeight-c.intval(this.clip.css("borderTopWidth"))-c.intval(this.clip.css("borderBottomWidth"))},index:function(e,f){if(f==null){f=this.options.size}return Math.round(((e-1)/f-Math.floor((e-1)/f))*f)+1}});c.extend({defaults:function(e){return b.extend(d,e||{})},intval:function(e){e=parseInt(e,10);return isNaN(e)?0:e},windowLoaded:function(){a=!0}});b.fn.jcarousel=function(f){if(typeof f=="string"){var g=b(this).data("jcarousel"),e=Array.prototype.slice.call(arguments,1);return g[f].apply(g,e)}else{return this.each(function(){var h=b(this).data("jcarousel");h?(f&&b.extend(h.options,f),h.reload()):b(this).data("jcarousel",new c(this,f))})}}})(jQuery);(function(b){b.extend(b.fn,{validate:function(a){if(!this.length){a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var f=b.data(this[0],"validator");if(f){return f}this.attr("novalidate","novalidate");f=new b.validator(a,this[0]);b.data(this[0],"validator",f);if(f.settings.onsubmit){var e=this.find("input, button");e.filter(".cancel").click(function(){f.cancelSubmit=true});if(f.settings.submitHandler){e.filter(":submit").click(function(){f.submitButton=this})}this.submit(function(d){if(f.settings.debug){d.preventDefault()}function c(){if(f.settings.submitHandler){if(f.submitButton){var h=b("<input type='hidden'/>").attr("name",f.submitButton.name).val(f.submitButton.value).appendTo(f.currentForm)}f.settings.submitHandler.call(f,f.currentForm);if(f.submitButton){h.remove()}return false}return true}if(f.cancelSubmit){f.cancelSubmit=false;return c()}if(f.form()){if(f.pendingRequest){f.formSubmitted=true;return false}return c()}else{f.focusInvalid();return false}})}return f},valid:function(){if(b(this[0]).is("form")){return this.validate().form()}else{var d=true;var a=b(this[0].form).validate();this.each(function(){d&=a.element(this)});return d}},removeAttrs:function(e){var a={},f=this;b.each(e.split(/\s/),function(d,c){a[c]=f.attr(c);f.removeAttr(c)});return a},rules:function(o,r){var m=this[0];if(o){var p=b.data(m.form,"validator").settings;var k=p.rules;var a=b.validator.staticRules(m);switch(o){case"add":b.extend(a,b.validator.normalizeRule(r));k[m.name]=a;if(r.messages){p.messages[m.name]=b.extend(p.messages[m.name],r.messages)}break;case"remove":if(!r){delete k[m.name];return a}var l={};b.each(r.split(/\s/),function(d,c){l[c]=a[c];delete a[c]});return l}}var n=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(m),b.validator.classRules(m),b.validator.attributeRules(m),b.validator.staticRules(m)),m);if(n.required){var q=n.required;delete n.required;n=b.extend({required:q},n)}return n}});b.extend(b.expr[":"],{blank:function(a){return !b.trim(""+a.value)},filled:function(a){return !!b.trim(""+a.value)},unchecked:function(a){return !a.checked}});b.validator=function(a,d){this.settings=b.extend(true,{},b.validator.defaults,a);this.currentForm=d;this.init()};b.validator.format=function(a,d){if(arguments.length==1){return function(){var c=b.makeArray(arguments);c.unshift(a);return b.validator.format.apply(this,c)}}if(arguments.length>2&&d.constructor!=Array){d=b.makeArray(arguments).slice(1)}if(d.constructor!=Array){d=[d]}b.each(d,function(f,c){a=a.replace(new RegExp("\\{"+f+"\\}","g"),c)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a,d){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a,d){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))){this.element(a)}},onkeyup:function(a,d){if(a.name in this.submitted||a==this.lastElement){this.element(a)}},onclick:function(a,d){if(a.name in this.submitted){this.element(a)}else{if(a.parentNode.name in this.submitted){this.element(a.parentNode)}}},highlight:function(e,a,f){if(e.type==="radio"){this.findByName(e.name).addClass(a).removeClass(f)}else{b(e).addClass(a).removeClass(f)}},unhighlight:function(e,a,f){if(e.type==="radio"){this.findByName(e.name).removeClass(a).addClass(f)}else{b(e).removeClass(a).addClass(f)}}},setDefaults:function(a){b.extend(b.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var a=(this.groups={});b.each(this.settings.groups,function(d,c){b.each(c.split(/\s/),function(i,j){a[j]=d})});var e=this.settings.rules;b.each(e,function(d,c){e[d]=b.validator.normalizeRule(c)});function f(c){var d=b.data(this[0].form,"validator"),h="on"+c.type.replace(/^validate/,"");d.settings[h]&&d.settings[h].call(d,this[0],c)}b(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",f).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",f);if(this.settings.invalidHandler){b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);if(!this.valid()){b(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,d=(this.currentElements=this.elements());d[a];a++){this.check(d[a])}return this.valid()},element:function(d){d=this.validationTargetFor(this.clean(d));this.lastElement=d;this.prepareElement(d);this.currentElements=b(d);var a=this.check(d);if(a){delete this.invalid[d.name]}else{this.invalid[d.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return a},showErrors:function(d){if(d){b.extend(this.errorMap,d);this.errorList=[];for(var a in d){this.errorList.push({message:d[a],element:this.findByName(a)[0]})}this.successList=b.grep(this.successList,function(c){return !(c.name in d)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(b.fn.resetForm){b(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var f=0;for(var a in e){f++}return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}}},findLastActive:function(){var a=this.lastActive;return a&&b.grep(this.errorList,function(d){return d.element.name==a.name}).length==1&&a},elements:function(){var d=this,a={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&d.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in a||!d.objectLength(b(this).rules())){return false}a[this.name]=true;return true})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(n){n=this.validationTargetFor(this.clean(n));var j=b(n).rules();var m=false;for(var e in j){var k={method:e,parameters:j[e]};try{var a=b.validator.methods[e].call(this,n.value.replace(/\r/g,""),n,k.parameters);if(a=="dependency-mismatch"){m=true;continue}m=false;if(a=="pending"){this.toHide=this.toHide.not(this.errorsFor(n));return}if(!a){this.formatAndAdd(n,k);return false}}catch(l){this.settings.debug&&window.console&&console.log("exception occured when checking element "+n.id+", check the '"+k.method+"' method",l);throw l}}if(m){return}if(this.objectLength(j)){this.successList.push(n)}return true},customMetaMessage:function(a,e){if(!b.metadata){return}var f=this.settings.meta?b(a).metadata()[this.settings.meta]:b(a).metadata();return f&&f.messages&&f.messages[e]},customMessage:function(f,e){var a=this.settings.messages[f];return a&&(a.constructor==String?a:a[e])},findDefined:function(){for(var a=0;a<arguments.length;a++){if(arguments[a]!==undefined){return arguments[a]}}return undefined},defaultMessage:function(a,d){return this.findDefined(this.customMessage(a.name,d),this.customMetaMessage(a,d),!this.settings.ignoreTitle&&a.title||undefined,b.validator.messages[d],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(h,f){var g=this.defaultMessage(h,f.method),a=/\$?\{(\d+)\}/g;if(typeof g=="function"){g=g.call(this,f.parameters,h)}else{if(a.test(g)){g=jQuery.format(g.replace(a,"{$1}"),f.parameters)}}this.errorList.push({message:g,element:h});this.errorMap[h.name]=g;this.submitted[h.name]=g},addWrapper:function(a){if(this.settings.wrapper){a=a.add(a.parent(this.settings.wrapper))}return a},defaultShowErrors:function(){for(var f=0;this.errorList[f];f++){var a=this.errorList[f];this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass);this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var f=0;this.successList[f];f++){this.showLabel(this.successList[f])}}if(this.settings.unhighlight){for(var f=0,e=this.validElements();e[f];f++){this.settings.unhighlight.call(this,e[f],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(f,e){var a=this.errorsFor(f);if(a.length){a.removeClass(this.settings.validClass).addClass(this.settings.errorClass);a.attr("generated")&&a.html(e)}else{a=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(f),generated:true}).addClass(this.settings.errorClass).html(e||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(a).length){this.settings.errorPlacement?this.settings.errorPlacement(a,b(f)):a.insertAfter(f)}}if(!e&&this.settings.success){a.text("");typeof this.settings.success=="string"?a.addClass(this.settings.success):this.settings.success(a)}this.toShow=this.toShow.add(a)},errorsFor:function(d){var a=this.idOrName(d);return this.errors().filter(function(){return b(this).attr("for")==a})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a)){a=this.findByName(a.name).not(this.settings.ignore)[0]}return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var d=this.currentForm;return b(document.getElementsByName(a)).map(function(f,c){return c.form==d&&c.name==a&&c||null})},getLength:function(d,a){switch(a.nodeName.toLowerCase()){case"select":return b("option:selected",a).length;case"input":if(this.checkable(a)){return this.findByName(a.name).filter(":checked").length}}return d.length},depend:function(d,a){return this.dependTypes[typeof d]?this.dependTypes[typeof d](d,a):true},dependTypes:{"boolean":function(d,a){return d},string:function(d,a){return !!b(d,a.form).length},"function":function(d,a){return d(a)}},optional:function(a){return !b.validator.methods.required.call(this,b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,d){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[a.name];if(d&&this.pendingRequest==0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=false}else{if(!d&&this.pendingRequest==0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,d){a.constructor==String?this.classRuleSettings[a]=d:b.extend(this.classRuleSettings,a)},classRules:function(f){var e={};var a=b(f).attr("class");a&&b.each(a.split(" "),function(){if(this in b.validator.classRuleSettings){b.extend(e,b.validator.classRuleSettings[this])}});return e},attributeRules:function(j){var h={};var a=b(j);for(var g in b.validator.methods){var i;if(g==="required"&&typeof b.fn.prop==="function"){i=a.prop(g)}else{i=a.attr(g)}if(i){h[g]=i}else{if(a[0].getAttribute("type")===g){h[g]=true}}}if(h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)){delete h.maxlength}return h},metadataRules:function(a){if(!b.metadata){return{}}var d=b.data(a.form,"validator").settings.meta;return d?b(a).metadata()[d]:b(a).metadata()},staticRules:function(f){var e={};var a=b.data(f.form,"validator");if(a.settings.rules){e=b.validator.normalizeRule(a.settings.rules[f.name])||{}}return e},normalizeRules:function(d,a){b.each(d,function(c,g){if(g===false){delete d[c];return}if(g.param||g.depends){var h=true;switch(typeof g.depends){case"string":h=!!b(g.depends,a.form).length;break;case"function":h=g.depends.call(a,a);break}if(h){d[c]=g.param!==undefined?g.param:true}else{delete d[c]}}});b.each(d,function(f,c){d[f]=b.isFunction(c)?c(a):c});b.each(["minlength","maxlength","min","max"],function(){if(d[this]){d[this]=Number(d[this])}});b.each(["rangelength","range"],function(){if(d[this]){d[this]=[Number(d[this][0]),Number(d[this][1])]}});if(b.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}if(d.messages){delete d.messages}return d},normalizeRule:function(d){if(typeof d=="string"){var a={};b.each(d.split(/\s/),function(){a[this]=true});d=a}return d},addMethod:function(a,e,f){b.validator.methods[a]=e;b.validator.messages[a]=f!=undefined?f:b.validator.messages[a];if(e.length<3){b.validator.addClassRules(a,b.validator.normalizeRule(a))}},methods:{required:function(h,a,f){if(!this.depend(f,a)){return"dependency-mismatch"}switch(a.nodeName.toLowerCase()){case"select":var g=b(a).val();return g&&g.length>0;case"input":if(this.checkable(a)){return this.getLength(h,a)>0}default:return b.trim(h).length>0}},remote:function(i,l,h){if(this.optional(l)){return"dependency-mismatch"}var k=this.previousValue(l);if(!this.settings.messages[l.name]){this.settings.messages[l.name]={}}k.originalMessage=this.settings.messages[l.name].remote;this.settings.messages[l.name].remote=k.message;h=typeof h=="string"&&{url:h}||h;if(this.pending[l.name]){return"pending"}if(k.old===i){return k.valid}k.old=i;var a=this;this.startRequest(l);var j={};j[l.name]=i;b.ajax(b.extend(true,{url:h,mode:"abort",port:"validate"+l.name,dataType:"json",data:j,success:function(f){a.settings.messages[l.name].remote=k.originalMessage;var d=f===true;if(d){var g=a.formSubmitted;a.prepareElement(l);a.formSubmitted=g;a.successList.push(l);a.showErrors()}else{var c={};var e=f||a.defaultMessage(l,"remote");c[l.name]=k.message=b.isFunction(e)?e(i):e;a.showErrors(c)}k.valid=d;a.stopRequest(l,d)}},h));return"pending"},minlength:function(f,a,e){return this.optional(a)||this.getLength(b.trim(f),a)>=e},maxlength:function(f,a,e){return this.optional(a)||this.getLength(b.trim(f),a)<=e},rangelength:function(g,a,f){var h=this.getLength(b.trim(g),a);return this.optional(a)||(h>=f[0]&&h<=f[1])},min:function(f,a,e){return this.optional(a)||f>=e},max:function(f,a,e){return this.optional(a)||f<=e},range:function(f,a,e){return this.optional(a)||(f>=e[0]&&f<=e[1])},email:function(d,a){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(d)},url:function(d,a){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(d)},date:function(d,a){return this.optional(a)||!/Invalid|NaN/.test(new Date(d))},dateISO:function(d,a){return this.optional(a)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(d)},number:function(d,a){return this.optional(a)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(d)},digits:function(d,a){return this.optional(a)||/^\d+$/.test(d)},creditcard:function(k,n){if(this.optional(n)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(k)){return false}var j=0,l=0,a=false;k=k.replace(/\D/g,"");for(var i=k.length-1;i>=0;i--){var m=k.charAt(i);var l=parseInt(m,10);if(a){if((l*=2)>9){l-=9}}j+=l;a=!a}return(j%10)==0},accept:function(f,a,e){e=typeof e=="string"?e.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(a)||f.match(new RegExp(".("+e+")$","i"))},equalTo:function(h,a,f){var g=b(f).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(a).valid()});return h==g.val()}}});b.format=b.validator.format})(jQuery);(function(f){var e={};if(f.ajaxPrefilter){f.ajaxPrefilter(function(b,c,a){var h=b.port;if(b.mode=="abort"){if(e[h]){e[h].abort()}e[h]=a}})}else{var d=f.ajax;f.ajax=function(b){var a=("mode" in b?b:f.ajaxSettings).mode,c=("port" in b?b:f.ajaxSettings).port;if(a=="abort"){if(e[c]){e[c].abort()}return(e[c]=d.apply(this,arguments))}return d.apply(this,arguments)}}})(jQuery);(function(b){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){b.each({focus:"focusin",blur:"focusout"},function(f,a){b.event.special[a]={setup:function(){this.addEventListener(f,e,true)},teardown:function(){this.removeEventListener(f,e,true)},handler:function(c){arguments[0]=b.event.fix(c);arguments[0].type=a;return b.event.handle.apply(this,arguments)}};function e(c){c=b.event.fix(c);c.type=a;return b.event.handle.call(this,c)}})}b.extend(b.fn,{validateDelegate:function(e,f,a){return this.bind(f,function(d){var c=b(d.target);if(c.is(e)){return a.apply(c,arguments)}})}})})(jQuery);(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return undefined}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}if(data.indexOf("{")<0){data="{"+data+"}"}data=eval("("+data+")");$.data(elem,settings.single,data);return data}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);$(".validate").validate({errorPlacement:function(d,c){d.appendTo(c.parent())},submitHandler:function(b){if(!this.beenSubmitted){this.beenSubmitted=true;b.submit()}}});$(".validate2").validate({errorPlacement:function(d,c){d.appendTo(c.parent("li"))},submitHandler:function(b){if(!this.beenSubmitted){this.beenSubmitted=true;b.submit()}}});$(".validate-relevant-agents").validate({errorPlacement:function(d,c){if(c.attr("name")=="branch_id"){d.appendTo($("#relevant_agents_select"))}else{d.appendTo(c.parent())}},submitHandler:function(b){if(!this.beenSubmitted){this.beenSubmitted=true;b.submit()}}});(function(b){b.fn.caret=function(e,a){if(this.length==0){return}if(typeof e=="number"){a=(typeof a=="number")?a:e;return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(e,a)}else{if(this.createTextRange){var c=this.createTextRange();c.collapse(true);c.moveEnd("character",a);c.moveStart("character",e);c.select()}}})}else{if(this[0].setSelectionRange){e=this[0].selectionStart;a=this[0].selectionEnd}else{if(document.selection&&document.selection.createRange){var f=document.selection.createRange();e=0-f.duplicate().moveStart("character",-100000);a=e+f.text.length}}return{begin:e,end:a}}}})(jQuery);jQuery.validator.addMethod("zdigits",function(d,e,f){return this.optional(e)||/^\d+$/.test(d)},"Please enter only digits");jQuery.validator.addMethod("zprice",function(d,e,f){d=d.replace(/,[^$]/gi,"");return this.optional(e)||/^(?:\d+|\d{1,3}(?:\d{3})+)$/.test(d)},"Please enter only digits");jQuery.validator.addMethod("zfloat",function(d,e,f){return this.optional(e)||/^(?:\d+|\d{1,3}(?:\d{3})+)(?:\.\d+)?$/.test(d)},"Please enter only digits");jQuery.validator.addMethod("maxPrice",function(d,e,f){return this.optional(e)||d.replace(/,/g,"")<=f},jQuery.format("Please enter a valid number"));jQuery.validator.addMethod("minPrice",function(d,e,f){return this.optional(e)||d.replace(/,/g,"")>=f},function(h,e){if(!e.value){return}if(e.value==0){return"Please enter a valid number"}var f="";var g=e.value.replace(/\D+/g,"");switch(g.length){case 1:f="00000";break;case 2:f="0000";break;case 3:f="000";break;case 4:f="00";break;default:}return"Please enter a valid number, i.e. "+formatThousands(g+f)});jQuery.validator.addMethod("zarea",function(h,f,g){var e=$("#external_size_measure_acres");if(e.attr("checked")!=null){return this.optional(f)||/^(?:\d+|\d{1,3}(?:\d{3})+)(?:\.\d+)?$/.test(h)}else{return this.optional(f)||/^\d+$/.test(h)}},function(f,e){var d=$("#external_size_measure_acres");if(d.attr("checked")!=null){return"Please enter as decimals, e.g. 0.25 or 1.5"}else{return"Please enter only digits"}});jQuery.validator.addMethod("postcode",function(d,e,f){return this.optional(e)||/^[A-Z]{1,2}[0-9][0-9A-Z]? *[0-9][A-Z]{2}$/.test(jQuery.trim(d).toUpperCase())},jQuery.format('Please enter a valid postcode, e.g. "G46 7LA"'));jQuery.validator.addMethod("partialPostcode",function(d,e,f){return this.optional(e)||/^[A-Z]{1,2}[0-9][0-9A-Z]? *([0-9][A-Z]{2})?$/.test(jQuery.trim(d).toUpperCase())},jQuery.format('Please enter a valid postcode, e.g. "G46" or "G46 7LA"'));jQuery.validator.addMethod("outcode",function(d,e,f){return this.optional(e)||/^[A-Z]{1,2}[0-9][0-9A-Z]?$/.test(jQuery.trim(d).toUpperCase())},jQuery.format('Please enter a valid outcode, e.g. "G46"'));jQuery.validator.addMethod("incode",function(d,e,f){return this.optional(e)||/^[0-9][A-Z]{2}$/.test(jQuery.trim(d).toUpperCase())},jQuery.format('Please enter a valid incode, e.g. "7LA"'));jQuery.validator.addMethod("generalPostcode",function(d,e,f){return this.optional(e)||/^[\s\S]{2,12}$/.test(jQuery.trim(d).toUpperCase())},jQuery.format("Please enter a valid postcode"));jQuery.validator.addMethod("telephone",function(d,e,f){return this.optional(e)||/^\+?(\d|\s|[-().,\/\\])*\d(\d|\s|[-().,\/\\])*\s*([-().,\/\\]*(EXTENSION|EXT|X)*\s*[0-9]+[-().,\/\\]*)?$/.test(jQuery.trim(d).toUpperCase())},jQuery.format("Please enter a valid telephone number"));jQuery.validator.addMethod("telephone_simple",function(d,e,f){return this.optional(e)||/^(\d|\s|[-+()])*(\d(\d|\s|[-+()])*){7,}$/.test(jQuery.trim(d).toUpperCase())},jQuery.format("Please enter a valid telephone number"));jQuery.validator.addMethod("full_name",function(d,e,f){return this.optional(e)||/^([-\.'[a-zA-Z\u0081-\uFFFF]*\s+)*(([a-zA-Z\u0081-\uFFFF]*[-'])*[a-zA-Z\u0081-\uFFFF]{2,}([-'][a-zA-Z\u0081-\uFFFF]*)*\s+)+([-\.'a-zA-Z\u0081-\uFFFF]*\s+)*([a-zA-Z\u0081-\uFFFF]*[-'])*[a-zA-Z\u0081-\uFFFF]{2,}([-'][a-zA-Z\u0081-\uFFFF]*)*(,?\s+[-\.'a-zA-Z\u0081-\uFFFF]*)*$/.test(jQuery.trim(d).toUpperCase())},jQuery.format("Please enter a full name"));jQuery.validator.addMethod("alpha_only",function(d,e,f){return this.optional(e)||/.[a-zA-Z]+$/.test(jQuery.trim(d).toUpperCase())},jQuery.format("Please enter only letters or spaces."));jQuery.validator.addMethod("photo",function(d,e,f){return this.optional(e)||d.match(/\.(jpe?g|png|gif|bmp|tiff?)$/i)},jQuery.format("Please upload a photo in JPEG, PNG, GIF, BMP or TIFF format"));function formatThousands(b){return b.replace(/\D+/g,"").reverse().replace(/(\d{3,3})(?=\d+)/gi,"$1,").reverse()}String.prototype.reverse=function(){var c="";var d=this.length;while(d>0){c+=this.substring(d-1,d);d--}return c};$(function(){b();function b(){$(":text").keyup(function(h){if($(this).metadata().zprice==true){var f=$(this).caret();var a=$(this).val().length;if(/^(\d+|((\d+,)+(?:\d)+))$/.test($(this).val())){$(this).val(formatThousands($(this).val()));var g=$(this).val().length-a;f.begin=f.begin+g;f.end=f.end+g;$(this).caret(f.begin,f.end)}}})}});(function(C){var M,U,R,N,d,m,K,B,P,A,D=0,I={},j=[],e=0,H={},z=[],f=null,o=new Image(),i=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,p,O=1,h=0,t="",b,c,Q=false,s=C.extend(C("<div/>")[0],{prop:0}),T=C.browser.msie&&C.browser.version<7&&!window.XMLHttpRequest,r=function(){U.hide();o.onerror=o.onload=null;if(f){f.abort()}M.empty()},y=function(){if(false===I.onError(j,D,I)){U.hide();Q=false;return}I.titleShow=false;I.width="auto";I.height="auto";M.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');n()},w=function(){var aa=j[D],X,Z,ac,ab,W,Y;r();I=C.extend({},C.fn.fancybox.defaults,(typeof C(aa).data("fancybox")=="undefined"?I:C(aa).data("fancybox")));Y=I.onStart(j,D,I);if(Y===false){Q=false;return}else{if(typeof Y=="object"){I=C.extend(I,Y)}}ac=I.title||(aa.nodeName?C(aa).attr("title"):aa.title)||"";if(aa.nodeName&&!I.orig){I.orig=C(aa).children("img:first").length?C(aa).children("img:first"):C(aa)}if(ac===""&&I.orig&&I.titleFromAlt){ac=I.orig.attr("alt")}X=I.href||(aa.nodeName?C(aa).attr("href"):aa.href)||null;if((/^(?:javascript)/i).test(X)||X=="#"){X=null}if(I.type){Z=I.type;if(!X){X=I.content}}else{if(I.content){Z="html"}else{if(X){if(X.match(i)){Z="image"}else{if(X.match(k)){Z="swf"}else{if(C(aa).hasClass("iframe")){Z="iframe"}else{if(X.indexOf("#")===0){Z="inline"}else{Z="ajax"}}}}}}}if(!Z){y();return}if(Z=="inline"){aa=X.substr(X.indexOf("#"));Z=C(aa).length>0?"inline":"ajax"}I.type=Z;I.href=X;I.title=ac;if(I.autoDimensions){if(I.type=="html"||I.type=="inline"||I.type=="ajax"){I.width="auto";I.height="auto"}else{I.autoDimensions=false}}if(I.modal){I.overlayShow=true;I.hideOnOverlayClick=false;I.hideOnContentClick=false;I.enableEscapeButton=false;I.showCloseButton=false}I.padding=parseInt(I.padding,10);I.margin=parseInt(I.margin,10);M.css("padding",(I.padding+I.margin));C(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){C(this).replaceWith(m.children())});switch(Z){case"html":M.html(I.content);n();break;case"inline":if(C(aa).parent().is("#fancybox-content")===true){Q=false;return}C('<div class="fancybox-inline-tmp" />').hide().insertBefore(C(aa)).bind("fancybox-cleanup",function(){C(this).replaceWith(m.children())}).bind("fancybox-cancel",function(){C(this).replaceWith(M.children())});C(aa).appendTo(M);n();break;case"image":Q=false;C.fancybox.showActivity();o=new Image();o.onerror=function(){y()};o.onload=function(){Q=true;o.onerror=o.onload=null;G()};o.src=X;break;case"swf":I.scrolling="no";ab='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+I.width+'" height="'+I.height+'"><param name="movie" value="'+X+'"></param>';W="";C.each(I.swf,function(ad,ae){ab+='<param name="'+ad+'" value="'+ae+'"></param>';W+=" "+ad+'="'+ae+'"'});ab+='<embed src="'+X+'" type="application/x-shockwave-flash" width="'+I.width+'" height="'+I.height+'"'+W+"></embed></object>";M.html(ab);n();break;case"ajax":Q=false;C.fancybox.showActivity();I.ajax.win=I.ajax.success;f=C.ajax(C.extend({},I.ajax,{url:X,data:I.ajax.data||{},error:function(ad,af,ae){if(ad.status>0){y()}},success:function(ae,ag,ad){var af=typeof ad=="object"?ad:f;if(af.status==200){if(typeof I.ajax.win=="function"){Y=I.ajax.win(X,ae,ag,ad);if(Y===false){U.hide();return}else{if(typeof Y=="string"||typeof Y=="object"){ae=Y}}}M.html(ae);n()}}}));break;case"iframe":F();break}},n=function(){var W=I.width,X=I.height;if(W.toString().indexOf("%")>-1){W=parseInt((C(window).width()-(I.margin*2))*parseFloat(W)/100,10)+"px"}else{W=W=="auto"?"auto":W+"px"}if(X.toString().indexOf("%")>-1){X=parseInt((C(window).height()-(I.margin*2))*parseFloat(X)/100,10)+"px"}else{X=X=="auto"?"auto":X+"px"}M.wrapInner('<div style="width:'+W+";height:"+X+";overflow: "+(I.scrolling=="auto"?"auto":(I.scrolling=="yes"?"scroll":"hidden"))+';position:relative;"></div>');I.width=M.width();I.height=M.height();F()},G=function(){I.width=o.width;I.height=o.height;C("<img />").attr({id:"fancybox-img",src:o.src,alt:I.title}).appendTo(M);F()},F=function(){var X,W;U.hide();if(N.is(":visible")&&false===H.onCleanup(z,e,H)){C.event.trigger("fancybox-cancel");Q=false;return}Q=true;C(m.add(R)).unbind();C(window).unbind("resize.fb scroll.fb");C(document).unbind("keydown.fb");if(N.is(":visible")&&H.titlePosition!=="outside"){N.css("height",N.height())}z=j;e=D;H=I;if(H.overlayShow){R.css({"background-color":H.overlayColor,opacity:H.overlayOpacity,cursor:H.hideOnOverlayClick?"pointer":"auto",height:C(document).height()});if(!R.is(":visible")){if(T){C("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"})}R.show()}}else{R.hide()}c=S();l();if(N.is(":visible")){C(K.add(P).add(A)).hide();X=N.position(),b={top:X.top,left:X.left,width:N.width(),height:N.height()};W=(b.width==c.width&&b.height==c.height);m.fadeTo(H.changeFade,0.3,function(){var Y=function(){m.html(M.contents()).fadeTo(H.changeFade,1,v)};C.event.trigger("fancybox-change");m.empty().removeAttr("filter").css({"border-width":H.padding,width:c.width-H.padding*2,height:I.autoDimensions?"auto":c.height-h-H.padding*2});if(W){Y()}else{s.prop=0;C(s).animate({prop:1},{duration:H.changeSpeed,easing:H.easingChange,step:V,complete:Y})}});return}N.removeAttr("style");m.css("border-width",H.padding);if(H.transitionIn=="elastic"){b=J();m.html(M.contents());N.show();if(H.opacity){c.opacity=0}s.prop=0;C(s).animate({prop:1},{duration:H.speedIn,easing:H.easingIn,step:V,complete:v});return}if(H.titlePosition=="inside"&&h>0){B.show()}m.css({width:c.width-H.padding*2,height:I.autoDimensions?"auto":c.height-h-H.padding*2}).html(M.contents());N.css(c).fadeIn(H.transitionIn=="none"?0:H.speedIn,v)},E=function(W){if(W&&W.length){if(H.titlePosition=="float"){return'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+W+'</td><td id="fancybox-title-float-right"></td></tr></table>'}return'<div id="fancybox-title-'+H.titlePosition+'">'+W+"</div>"}return false},l=function(){t=H.title||"";h=0;B.empty().removeAttr("style").removeClass();if(H.titleShow===false){B.hide();return}t=C.isFunction(H.titleFormat)?H.titleFormat(t,z,e,H):E(t);if(!t||t===""){B.hide();return}B.addClass("fancybox-title-"+H.titlePosition).html(t).appendTo("body").show();switch(H.titlePosition){case"inside":B.css({width:c.width-(H.padding*2),marginLeft:H.padding,marginRight:H.padding});h=B.outerHeight(true);B.appendTo(d);c.height+=h;break;case"over":B.css({marginLeft:H.padding,width:c.width-(H.padding*2),bottom:H.padding}).appendTo(d);break;case"float":B.css("left",parseInt((B.width()-c.width-40)/2,10)*-1).appendTo(N);break;default:B.css({width:c.width-(H.padding*2),paddingLeft:H.padding,paddingRight:H.padding}).appendTo(N);break}B.hide()},g=function(){if(H.enableEscapeButton||H.enableKeyboardNav){C(document).bind("keydown.fb",function(W){if(W.keyCode==27&&H.enableEscapeButton){W.preventDefault();C.fancybox.close()}else{if((W.keyCode==37||W.keyCode==39)&&H.enableKeyboardNav&&W.target.tagName!=="INPUT"&&W.target.tagName!=="TEXTAREA"&&W.target.tagName!=="SELECT"){W.preventDefault();C.fancybox[W.keyCode==37?"prev":"next"]()}}})}if(!H.showNavArrows){P.hide();A.hide();return}if((H.cyclic&&z.length>1)||e!==0){P.show()}if((H.cyclic&&z.length>1)||e!=(z.length-1)){A.show()}},v=function(){if(!C.support.opacity){m.get(0).style.removeAttribute("filter");N.get(0).style.removeAttribute("filter")}if(I.autoDimensions){m.css("height","auto")}N.css("height","auto");if(t&&t.length){B.show()}if(H.showCloseButton){K.show()}g();if(H.hideOnContentClick){m.bind("click",C.fancybox.close)}if(H.hideOnOverlayClick){R.bind("click",C.fancybox.close)}C(window).bind("resize.fb",C.fancybox.resize);if(H.centerOnScroll){C(window).bind("scroll.fb",C.fancybox.center)}if(H.type=="iframe"){C('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(C.browser.msie?'allowtransparency="true""':"")+' scrolling="'+I.scrolling+'" src="'+H.href+'"></iframe>').appendTo(m)}N.show();Q=false;C.fancybox.center();H.onComplete(z,e,H);L()},L=function(){var W,X;if((z.length-1)>e){W=z[e+1].href;if(typeof W!=="undefined"&&W.match(i)){X=new Image();X.src=W}}if(e>0){W=z[e-1].href;if(typeof W!=="undefined"&&W.match(i)){X=new Image();X.src=W}}},V=function(X){var W={width:parseInt(b.width+(c.width-b.width)*X,10),height:parseInt(b.height+(c.height-b.height)*X,10),top:parseInt(b.top+(c.top-b.top)*X,10),left:parseInt(b.left+(c.left-b.left)*X,10)};if(typeof c.opacity!=="undefined"){W.opacity=X<0.5?0.5:X}N.css(W);m.css({width:W.width-H.padding*2,height:W.height-(h*X)-H.padding*2})},u=function(){return[C(window).width()-(H.margin*2),C(window).height()-(H.margin*2),C(document).scrollLeft()+H.margin,C(document).scrollTop()+H.margin]},S=function(){var W=u(),aa={},X=H.autoScale,Y=H.padding*2,Z;if(H.width.toString().indexOf("%")>-1){aa.width=parseInt((W[0]*parseFloat(H.width))/100,10)}else{aa.width=H.width+Y}if(H.height.toString().indexOf("%")>-1){aa.height=parseInt((W[1]*parseFloat(H.height))/100,10)}else{aa.height=H.height+Y}if(X&&(aa.width>W[0]||aa.height>W[1])){if(I.type=="image"||I.type=="swf"){Z=(H.width)/(H.height);if((aa.width)>W[0]){aa.width=W[0];aa.height=parseInt(((aa.width-Y)/Z)+Y,10)}if((aa.height)>W[1]){aa.height=W[1];aa.width=parseInt(((aa.height-Y)*Z)+Y,10)}}else{aa.width=Math.min(aa.width,W[0]);aa.height=Math.min(aa.height,W[1])}}aa.top=parseInt(Math.max(W[3]-20,W[3]+((W[1]-aa.height-40)*0.5)),10);aa.left=parseInt(Math.max(W[2]-20,W[2]+((W[0]-aa.width-40)*0.5)),10);return aa},q=function(W){var X=W.offset();X.top+=parseInt(W.css("paddingTop"),10)||0;X.left+=parseInt(W.css("paddingLeft"),10)||0;X.top+=parseInt(W.css("border-top-width"),10)||0;X.left+=parseInt(W.css("border-left-width"),10)||0;X.width=W.width();X.height=W.height();return X},J=function(){var Z=I.orig?C(I.orig):false,Y={},X,W;if(Z&&Z.length){X=q(Z);Y={width:X.width+(H.padding*2),height:X.height+(H.padding*2),top:X.top-H.padding-20,left:X.left-H.padding-20}}else{W=u();Y={width:H.padding*2,height:H.padding*2,top:parseInt(W[3]+W[1]*0.5,10),left:parseInt(W[2]+W[0]*0.5,10)}}return Y},a=function(){if(!U.is(":visible")){clearInterval(p);return}C("div",U).css("top",(O*-40)+"px");O=(O+1)%12};C.fn.fancybox=function(W){if(!C(this).length){return this}C(this).data("fancybox",C.extend({},W,(C.metadata?C(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(Y){Y.preventDefault();if(Q){return}Q=true;C(this).blur();j=[];D=0;var X=C(this).attr("rel")||"";if(!X||X==""||X==="nofollow"){j.push(this)}else{j=C("a[rel="+X+"], area[rel="+X+"]");D=j.index(this)}w();return});return this};C.fancybox=function(Z){var Y;if(Q){return}Q=true;Y=typeof arguments[1]!=="undefined"?arguments[1]:{};j=[];D=parseInt(Y.index,10)||0;if(C.isArray(Z)){for(var X=0,W=Z.length;X<W;X++){if(typeof Z[X]=="object"){C(Z[X]).data("fancybox",C.extend({},Y,Z[X]))}else{Z[X]=C({}).data("fancybox",C.extend({content:Z[X]},Y))}}j=jQuery.merge(j,Z)}else{if(typeof Z=="object"){C(Z).data("fancybox",C.extend({},Y,Z))}else{Z=C({}).data("fancybox",C.extend({content:Z},Y))}j.push(Z)}if(D>j.length||D<0){D=0}w()};C.fancybox.showActivity=function(){clearInterval(p);U.show();p=setInterval(a,66)};C.fancybox.hideActivity=function(){U.hide()};C.fancybox.next=function(){return C.fancybox.pos(e+1)};C.fancybox.prev=function(){return C.fancybox.pos(e-1)};C.fancybox.pos=function(W){if(Q){return}W=parseInt(W);j=z;if(W>-1&&W<z.length){D=W;w()}else{if(H.cyclic&&z.length>1){D=W>=z.length?0:z.length-1;w()}}return};C.fancybox.cancel=function(){if(Q){return}Q=true;C.event.trigger("fancybox-cancel");r();I.onCancel(j,D,I);Q=false};C.fancybox.close=function(){if(Q||N.is(":hidden")){return}Q=true;if(H&&false===H.onCleanup(z,e,H)){Q=false;return}r();C(K.add(P).add(A)).hide();C(m.add(R)).unbind();C(window).unbind("resize.fb scroll.fb");C(document).unbind("keydown.fb");m.find("iframe").attr("src",T&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");if(H.titlePosition!=="inside"){B.empty()}N.stop();function W(){R.fadeOut("fast");B.empty().hide();N.hide();C.event.trigger("fancybox-cleanup");m.empty();H.onClosed(z,e,H);z=I=[];e=D=0;H=I={};Q=false}if(H.transitionOut=="elastic"){b=J();var X=N.position();c={top:X.top,left:X.left,width:N.width(),height:N.height()};if(H.opacity){c.opacity=1}B.empty().hide();s.prop=1;C(s).animate({prop:0},{duration:H.speedOut,easing:H.easingOut,step:V,complete:W})}else{N.fadeOut(H.transitionOut=="none"?0:H.speedOut,W)}};C.fancybox.resize=function(){if(R.is(":visible")){R.css("height",C(document).height())}C.fancybox.center(true)};C.fancybox.center=function(){var W,X;if(Q){return}X=arguments[0]===true?1:0;W=u();if(!X&&(N.width()>W[0]||N.height()>W[1])){return}N.stop().animate({top:parseInt(Math.max(W[3]-20,W[3]+((W[1]-m.height()-40)*0.5)-H.padding)),left:parseInt(Math.max(W[2]-20,W[2]+((W[0]-m.width()-40)*0.5)-H.padding))},typeof arguments[0]=="number"?arguments[0]:200)};C.fancybox.init=function(){if(C("#fancybox-wrap").length){return}C("body").append(M=C('<div id="fancybox-tmp"></div>'),U=C('<div id="fancybox-loading"><div></div></div>'),R=C('<div id="fancybox-overlay"></div>'),N=C('<div id="fancybox-wrap"></div>'));d=C('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(N);d.append(m=C('<div id="fancybox-content"></div>'),K=C('<a id="fancybox-close"></a>'),B=C('<div id="fancybox-title"></div>'),P=C('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),A=C('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));K.click(C.fancybox.close);U.click(C.fancybox.cancel);P.click(function(W){W.preventDefault();C.fancybox.prev()});A.click(function(W){W.preventDefault();C.fancybox.next()});if(C.fn.mousewheel){N.bind("mousewheel.fb",function(W,X){if(Q){W.preventDefault()}else{if(C(W.target).get(0).clientHeight==0||C(W.target).get(0).scrollHeight===C(W.target).get(0).clientHeight){W.preventDefault();C.fancybox[X>0?"prev":"next"]()}}})}if(!C.support.opacity){N.addClass("fancybox-ie")}if(T){U.addClass("fancybox-ie6");N.addClass("fancybox-ie6");C('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(d)}};C.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.5,overlayColor:"#000",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};C(document).ready(function(){C.fancybox.init()})})(jQuery);(function(d){var a=["-webkit-appearance","-moz-appearance","-o-appearance","appearance","font-family","font-size","font-weight","font-style","border","border-top","border-right","border-bottom","border-left","box-sizing","padding","padding-top","padding-right","padding-bottom","padding-left","min-height","max-height","line-height"],b=d("<span />");function c(e){return b.text(e).text().replace(/\n/g,"<br>")}d.fn.autogrow=function(){return this.filter("textarea").each(function(){if(!d(this).data("autogrow-applied")){var e=d(this),f=e.innerHeight(),i=d("<div />"),h=null;i.css({position:"absolute",visibility:"hidden",top:"-99999px"});d.each(a,function(j,k){i.css(k,e.css(k))});e.after(i);e.css({"overflow-y":"hidden",resize:"none","box-sizing":"border-box"});function g(){clearTimeout(h);h=setTimeout(function(){var j=c(e.val())+"<br>z";i.html(j);i.css("width",e.innerWidth()+2+"px");e.css("height",Math.max(i.innerHeight(),f)+2+"px")},100)}e.on("input.autogrow propertychange.autogrow",g);g();e.data("autogrow-applied",true)}})}}(jQuery));
/*! jQuery UI - v1.9.2 - 2014-05-12
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.resizable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(g,d){function c(e,a){var j,m,k,l=e.nodeName.toLowerCase();return"area"===l?(j=e.parentNode,m=j.name,e.href&&m&&"map"===j.nodeName.toLowerCase()?(k=g("img[usemap=#"+m+"]")[0],!!k&&b(k)):!1):(/input|select|textarea|button|object/.test(l)?!e.disabled:"a"===l?e.href||a:a)&&b(e)}function b(a){return g.expr.filters.visible(a)&&!g(a).parents().andSelf().filter(function(){return"hidden"===g.css(this,"visibility")}).length}var f=0,h=/^ui-id-\d+$/;g.ui=g.ui||{},g.ui.version||(g.extend(g.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({_focus:g.fn.focus,focus:function(e,a){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){g(i).focus(),a&&a.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(j){if(j!==d){return this.css("zIndex",j)}if(this.length){for(var e,k,l=g(this[0]);l.length&&l[0]!==document;){if(e=l.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(k=parseInt(l.css("zIndex"),10),!isNaN(k)&&0!==k)){return k}l=l.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&g(this).removeAttr("id")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a)}}):function(k,j,e){return !!g.data(k,e[3])},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(i){var e=g.attr(i,"tabindex"),j=isNaN(e);return(j||e>=0)&&c(i,!j)}}),g(function(){var e=document.body,a=e.appendChild(a=document.createElement("div"));a.offsetHeight,g.extend(a.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),g.support.minHeight=100===a.offsetHeight,g.support.selectstart="onselectstart" in a,e.removeChild(a).style.display="none"}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,e){function k(q,o,n,r){return g.each(p,function(){o-=parseFloat(g.css(q,"padding"+this))||0,n&&(o-=parseFloat(g.css(q,"border"+this+"Width"))||0),r&&(o-=parseFloat(g.css(q,"margin"+this))||0)}),o}var p="Width"===e?["Left","Right"]:["Top","Bottom"],l=e.toLowerCase(),m={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+e]=function(a){return a===d?m["inner"+e].call(this):this.each(function(){g(this).css(l,k(this,a)+"px")})},g.fn["outer"+e]=function(n,a){return"number"!=typeof n?m["outer"+e].call(this,n):this.each(function(){g(this).css(l,k(this,n,!0,a)+"px")})}}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this)}}(g.fn.removeData)),function(){var a=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];g.ui.ie=a.length?!0:!1,g.ui.ie6=6===parseFloat(a[1],10)}(),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(k,j,e){var l,m=g.ui[k].prototype;for(l in e){m.plugins[l]=m.plugins[l]||[],m.plugins[l].push([j,e[l]])}},call:function(n,l,k){var j,m=n.plugins[l];if(m&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType){for(j=0;m.length>j;j++){n.options[m[j][0]]&&m[j][1].apply(n.element,k)}}}},contains:g.contains,hasScroll:function(k,j){if("hidden"===g(k).css("overflow")){return !1}var e=j&&"left"===j?"scrollLeft":"scrollTop",l=!1;return k[e]>0?!0:(k[e]=1,l=k[e]>0,k[e]=0,l)},isOverAxis:function(k,j,a){return k>j&&j+a>k},isOver:function(k,j,e,l,o,m){return g.ui.isOverAxis(k,e,o)&&g.ui.isOverAxis(j,l,m)}}))})(jQuery);(function(g,d){var c=0,f=Array.prototype.slice,b=g.cleanData;g.cleanData=function(e){for(var a,h=0;null!=(a=e[h]);h++){try{g(a).triggerHandler("remove")}catch(j){}}b(e)},g.widget=function(k,p,j){var u,q,t,m,e=k.split(".")[0];k=k.split(".")[1],u=e+"-"+k,j||(j=p,p=g.Widget),g.expr[":"][u.toLowerCase()]=function(a){return !!g.data(a,u)},g[e]=g[e]||{},q=g[e][k],t=g[e][k]=function(h,a){return this._createWidget?(arguments.length&&this._createWidget(h,a),d):new t(h,a)},g.extend(t,q,{version:j.version,_proto:g.extend({},j),_childConstructors:[]}),m=new p,m.options=g.widget.extend({},m.options),g.each(j,function(h,a){g.isFunction(a)&&(j[h]=function(){var l=function(){return p.prototype[h].apply(this,arguments)},i=function(n){return p.prototype[h].apply(this,n)};return function(){var o,r=this._super,v=this._superApply;return this._super=l,this._superApply=i,o=a.apply(this,arguments),this._super=r,this._superApply=v,o}}())}),t.prototype=g.widget.extend(m,{widgetEventPrefix:q?m.widgetEventPrefix:k},j,{constructor:t,namespace:e,widgetName:k,widgetBaseClass:u,widgetFullName:u}),q?(g.each(q._childConstructors,function(h,a){var l=a.prototype;g.widget(l.namespace+"."+l.widgetName,t,a._proto)}),delete q._childConstructors):p._childConstructors.push(t),g.widget.bridge(k,t)},g.widget.extend=function(j){for(var e,p,l=f.call(arguments,1),m=0,k=l.length;k>m;m++){for(e in l[m]){p=l[m][e],l[m].hasOwnProperty(e)&&p!==d&&(j[e]=g.isPlainObject(p)?g.isPlainObject(j[e])?g.widget.extend({},j[e],p):g.widget.extend({},p):p)}}return j},g.widget.bridge=function(h,e){var j=e.prototype.widgetFullName||h;g.fn[h]=function(k){var m="string"==typeof k,i=f.call(arguments,1),a=this;return k=!m&&i.length?g.widget.extend.apply(null,[k].concat(i)):k,m?this.each(function(){var n,l=g.data(this,j);return l?g.isFunction(l[k])&&"_"!==k.charAt(0)?(n=l[k].apply(l,i),n!==l&&n!==d?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):d):g.error("no such method '"+k+"' for "+h+" widget instance"):g.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+k+"'")}):this.each(function(){var l=g.data(this,j);l?l.option(k||{})._init():g.data(this,j,new e(k,this))}),a}},g.Widget=function(){},g.Widget._childConstructors=[],g.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,e){e=g(e||this.defaultElement||this)[0],this.element=g(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=g.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=g(),this.hoverable=g(),this.focusable=g(),e!==this&&(g.data(e,this.widgetName,this),g.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===e&&this.destroy()}}),this.document=g(e.style?e.ownerDocument:e.document||e),this.window=g(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:g.noop,_getCreateEventData:g.noop,_create:g.noop,_init:g.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(g.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:g.noop,widget:function(){return this.element},option:function(h,j){var e,m,k,l=h;if(0===arguments.length){return g.widget.extend({},this.options)}if("string"==typeof h){if(l={},e=h.split("."),h=e.shift(),e.length){for(m=l[h]=g.widget.extend({},this.options[h]),k=0;e.length-1>k;k++){m[e[k]]=m[e[k]]||{},m=m[e[k]]}if(h=e.pop(),j===d){return m[h]===d?null:m[h]}m[h]=j}else{if(j===d){return this.options[h]===d?null:this.options[h]}l[h]=j}}return this._setOptions(l),this},_setOptions:function(h){var a;for(a in h){this._setOption(a,h[a])}return this},_setOption:function(h,a){return this.options[h]=a,"disabled"===h&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!a).attr("aria-disabled",a),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(h,j,e){var l,k=this;"boolean"!=typeof h&&(e=j,j=h,h=!1),e?(j=l=g(j),this.bindings=this.bindings.add(j)):(e=j,j=this.element,l=this.widget()),g.each(e,function(m,r){function p(){return h||k.options.disabled!==!0&&!g(this).hasClass("ui-state-disabled")?("string"==typeof r?k[r]:r).apply(k,arguments):d}"string"!=typeof r&&(p.guid=r.guid=r.guid||p.guid||g.guid++);var i=m.match(/^(\w+)\s*(.*)$/),n=i[1]+k.eventNamespace,q=i[2];q?l.delegate(q,n,p):j.bind(n,p)})},_off:function(h,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.unbind(a).undelegate(a)},_delay:function(k,h){function a(){return("string"==typeof k?j[k]:k).apply(j,arguments)}var j=this;return setTimeout(a,h||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(e){g(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){g(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(e){g(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){g(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(j,h,k){var e,m,l=this.options[j];if(k=k||{},h=g.Event(h),h.type=(j===this.widgetEventPrefix?j:this.widgetEventPrefix+j).toLowerCase(),h.target=this.element[0],m=h.originalEvent){for(e in m){e in h||(h[e]=m[e])}}return this.element.trigger(h,k),!(g.isFunction(l)&&l.apply(this.element[0],[h].concat(k))===!1||h.isDefaultPrevented())}},g.each({show:"fadeIn",hide:"fadeOut"},function(e,a){g.Widget.prototype["_"+e]=function(i,h,l){"string"==typeof h&&(h={effect:h});var j,k=h?h===!0||"number"==typeof h?a:h.effect||a:e;h=h||{},"number"==typeof h&&(h={duration:h}),j=!g.isEmptyObject(h),h.complete=l,h.delay&&i.delay(h.delay),j&&g.effects&&(g.effects.effect[k]||g.uiBackCompat!==!1&&g.effects[k])?i[e](h):k!==e&&i[k]?i[k](h.duration,h.easing,l):i.queue(function(m){g(this)[e](),l&&l.call(i[0]),m()})}}),g.uiBackCompat!==!1&&(g.Widget.prototype._getCreateOptions=function(){return g.metadata&&g.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(b){var a=!1;b(document).mouseup(function(){a=!1}),b.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===b.data(d.target,c.widgetName+".preventClickEvent")?(b.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,c=1===d.which,f="string"==typeof this.options.cancel&&d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;return c&&!f&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===b.data(d.target,this.widgetName+".preventClickEvent")&&b.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(c){return !b.ui.ie||document.documentMode>=9||c.button?this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted):this._mouseUp(c)},_mouseUp:function(c){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(v,B){function m(d,c,a){return[parseInt(d[0],10)*(y.test(d[0])?c/100:1),parseInt(d[1],10)*(y.test(d[1])?a/100:1)]}function z(c,a){return parseInt(v.css(c,a),10)||0}v.ui=v.ui||{};var C,j=Math.max,b=Math.abs,g=Math.round,q=/left|center|right/,k=/top|center|bottom/,A=/[\+\-]\d+%?/,w=/^\w+/,y=/%$/,f=v.fn.position;v.position={scrollbarWidth:function(){if(C!==B){return C}var d,c,h=v("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),e=h.children()[0];return v("body").append(h),d=e.offsetWidth,h.css("overflow","scroll"),c=e.offsetWidth,d===c&&(c=h[0].clientWidth),h.remove(),C=d-c},getScrollInfo:function(e){var d=e.isWindow?"":e.element.css("overflow-x"),c=e.isWindow?"":e.element.css("overflow-y"),h="scroll"===d||"auto"===d&&e.width<e.element[0].scrollWidth,l="scroll"===c||"auto"===c&&e.height<e.element[0].scrollHeight;return{width:h?v.position.scrollbarWidth():0,height:l?v.position.scrollbarWidth():0}},getWithinInfo:function(e){var d=v(e||window),c=v.isWindow(d[0]);return{element:d,isWindow:c,offset:d.offset()||{left:0,top:0},scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:c?d.width():d.outerWidth(),height:c?d.height():d.outerHeight()}}},v.fn.position=function(u){if(!u||!u.of){return f.apply(this,arguments)}u=v.extend({},u);var D,i,a,h,e,r=v(u.of),n=v.position.getWithinInfo(u.within),l=v.position.getScrollInfo(n),o=r[0],p=(u.collision||"flip").split(" "),d={};return 9===o.nodeType?(i=r.width(),a=r.height(),h={top:0,left:0}):v.isWindow(o)?(i=r.width(),a=r.height(),h={top:r.scrollTop(),left:r.scrollLeft()}):o.preventDefault?(u.at="left top",i=a=0,h={top:o.pageY,left:o.pageX}):(i=r.outerWidth(),a=r.outerHeight(),h=r.offset()),e=v.extend({},h),v.each(["my","at"],function(){var t,s,c=(u[this]||"").split(" ");1===c.length&&(c=q.test(c[0])?c.concat(["center"]):k.test(c[0])?["center"].concat(c):["center","center"]),c[0]=q.test(c[0])?c[0]:"center",c[1]=k.test(c[1])?c[1]:"center",t=A.exec(c[0]),s=A.exec(c[1]),d[this]=[t?t[0]:0,s?s[0]:0],u[this]=[w.exec(c[0])[0],w.exec(c[1])[0]]}),1===p.length&&(p[1]=p[0]),"right"===u.at[0]?e.left+=i:"center"===u.at[0]&&(e.left+=i/2),"bottom"===u.at[1]?e.top+=a:"center"===u.at[1]&&(e.top+=a/2),D=m(d.at,i,a),e.left+=D[0],e.top+=D[1],this.each(function(){var F,s,L=v(this),I=L.outerWidth(),c=L.outerHeight(),J=z(this,"marginLeft"),t=z(this,"marginTop"),K=I+J+z(this,"marginRight")+l.width,E=c+t+z(this,"marginBottom")+l.height,G=v.extend({},e),H=m(d.my,L.outerWidth(),L.outerHeight());"right"===u.my[0]?G.left-=I:"center"===u.my[0]&&(G.left-=I/2),"bottom"===u.my[1]?G.top-=c:"center"===u.my[1]&&(G.top-=c/2),G.left+=H[0],G.top+=H[1],v.support.offsetFractions||(G.left=g(G.left),G.top=g(G.top)),F={marginLeft:J,marginTop:t},v.each(["left","top"],function(N,M){v.ui.position[p[N]]&&v.ui.position[p[N]][M](G,{targetWidth:i,targetHeight:a,elemWidth:I,elemHeight:c,collisionPosition:F,collisionWidth:K,collisionHeight:E,offset:[D[0]+H[0],D[1]+H[1]],my:u.my,at:u.at,within:n,elem:L})}),v.fn.bgiframe&&L.bgiframe(),u.using&&(s=function(Q){var N=h.left-G.left,M=N+i-I,P=h.top-G.top,R=P+a-c,O={target:{element:r,left:h.left,top:h.top,width:i,height:a},element:{element:L,left:G.left,top:G.top,width:I,height:c},horizontal:0>M?"left":N>0?"right":"center",vertical:0>R?"top":P>0?"bottom":"middle"};I>i&&i>b(N+M)&&(O.horizontal="center"),c>a&&a>b(P+R)&&(O.vertical="middle"),O.important=j(b(N),b(M))>j(b(P),b(R))?"horizontal":"vertical",u.using.call(this,Q,O)}),L.offset(v.extend(G,{using:s}))})},v.ui.position={fit:{left:function(D,F){var p,E=F.within,G=E.isWindow?E.scrollLeft:E.offset.left,c=E.width,d=D.left-F.collisionPosition.marginLeft,u=G-d,n=d+F.collisionWidth-c-G;F.collisionWidth>c?u>0&&0>=n?(p=D.left+u+F.collisionWidth-c-G,D.left+=u-p):D.left=n>0&&0>=u?G:u>n?G+c-F.collisionWidth:G:u>0?D.left+=u:n>0?D.left-=n:D.left=j(D.left-d,D.left)},top:function(D,F){var p,E=F.within,G=E.isWindow?E.scrollTop:E.offset.top,c=F.within.height,d=D.top-F.collisionPosition.marginTop,u=G-d,n=d+F.collisionHeight-c-G;F.collisionHeight>c?u>0&&0>=n?(p=D.top+u+F.collisionHeight-c-G,D.top+=u-p):D.top=n>0&&0>=u?G:u>n?G+c-F.collisionHeight:G:u>0?D.top+=u:n>0?D.top-=n:D.top=j(D.top-d,D.top)}},flip:{left:function(J,O){var H,M,P=O.within,E=P.offset.left+P.scrollLeft,D=P.width,I=P.isWindow?P.scrollLeft:P.offset.left,G=J.left-O.collisionPosition.marginLeft,N=G-I,K=G+O.collisionWidth-D-I,L="left"===O.my[0]?-O.elemWidth:"right"===O.my[0]?O.elemWidth:0,r="left"===O.at[0]?O.targetWidth:"right"===O.at[0]?-O.targetWidth:0,F=-2*O.offset[0];0>N?(H=J.left+L+r+F+O.collisionWidth-D-E,(0>H||b(N)>H)&&(J.left+=L+r+F)):K>0&&(M=J.left-O.collisionPosition.marginLeft+L+r+F-I,(M>0||K>b(M))&&(J.left+=L+r+F))},top:function(K,P){var H,N,Q=P.within,E=Q.offset.top+Q.scrollTop,D=Q.height,I=Q.isWindow?Q.scrollTop:Q.offset.top,G=K.top-P.collisionPosition.marginTop,O=G-I,L=G+P.collisionHeight-D-I,M="top"===P.my[1],r=M?-P.elemHeight:"bottom"===P.my[1]?P.elemHeight:0,F="top"===P.at[1]?P.targetHeight:"bottom"===P.at[1]?-P.targetHeight:0,J=-2*P.offset[1];0>O?(N=K.top+r+F+J+P.collisionHeight-D-E,K.top+r+F+J>O&&(0>N||b(O)>N)&&(K.top+=r+F+J)):L>0&&(H=K.top-P.collisionPosition.marginTop+r+F+J-I,K.top+r+F+J>L&&(H>0||L>b(H))&&(K.top+=r+F+J))}},flipfit:{left:function(){v.ui.position.flip.left.apply(this,arguments),v.ui.position.fit.left.apply(this,arguments)},top:function(){v.ui.position.flip.top.apply(this,arguments),v.ui.position.fit.top.apply(this,arguments)}}},function(){var e,d,c,h,u,l=document.getElementsByTagName("body")[0],p=document.createElement("div");e=document.createElement(l?"div":"body"),c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&v.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(u in c){e.style[u]=c[u]}e.appendChild(p),d=l||document.documentElement,d.insertBefore(e,d.firstChild),p.style.cssText="position: absolute; left: 10.7432222px;",h=v(p).offset().left,v.support.offsetFractions=h>10&&11>h,e.innerHTML="",d.removeChild(e)}(),v.uiBackCompat!==!1&&function(c){var a=c.fn.position;c.fn.position=function(d){if(!d||!d.offset){return a.call(this,d)}var e=d.offset.split(" "),h=d.at.split(" ");return 1===e.length&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),1===h.length&&(/left|center|right/.test(h[0])?h[1]="center":(h[1]=h[0],h[0]="center")),a.call(this,c.extend(d,{at:h[0]+e[0]+" "+h[1]+e[1],offset:B}))}}(jQuery)})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(d,c){if(this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!c){var b=this._uiHash();if(this._trigger("drag",d,b)===!1){return this._mouseUp({}),!1}this.position=b.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,d)),this.dropped&&(c=this.dropped,this.dropped=!1);for(var b=this.element[0],e=!1;b&&(b=b.parentNode);){b==document&&(e=!0)}if(!e&&"original"===this.options.helper){return !1}if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",d)!==!1&&f._clear()})}else{this._trigger("stop",d)!==!1&&this._clear()}return !1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var b=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(b=!0)}),b},_createHelper:function(d){var c=this.options,b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),b[0]==this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if("parent"==d.containment&&(d.containment=this.helper[0].parentNode),("document"==d.containment||"window"==d.containment)&&(this.containment=["document"==d.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==d.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==d.containment?0:a(window).scrollLeft())+a("document"==d.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==d.containment?0:a(window).scrollTop())+(a("document"==d.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||d.containment.constructor==Array){d.containment.constructor==Array&&(this.containment=d.containment)}else{var c=a(d.containment),b=c[0];if(!b){return}c.offset();var e="hidden"!=a(b).css("overflow");this.containment=[(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0),(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0),(e?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(d,c){c||(c=this.position);var b="absolute"==d?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*b}},_generatePosition:function(m){var f=this.options,j="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(j[0].tagName),d=m.pageX,b=m.pageY;if(this.originalPosition){var c;if(this.containment){if(this.relative_container){var e=this.relative_container.offset();c=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]}else{c=this.containment}m.pageX-this.offset.click.left<c[0]&&(d=c[0]+this.offset.click.left),m.pageY-this.offset.click.top<c[1]&&(b=c[1]+this.offset.click.top),m.pageX-this.offset.click.left>c[2]&&(d=c[2]+this.offset.click.left),m.pageY-this.offset.click.top>c[3]&&(b=c[3]+this.offset.click.top)}if(f.grid){var g=f.grid[1]?this.originalPageY+Math.round((b-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY;b=c?g-this.offset.click.top<c[1]||g-this.offset.click.top>c[3]?g-this.offset.click.top<c[1]?g+f.grid[1]:g-f.grid[1]:g:g;var k=f.grid[0]?this.originalPageX+Math.round((d-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX;d=c?k-this.offset.click.left<c[0]||k-this.offset.click.left>c[2]?k-this.offset.click.left<c[0]?k+f.grid[0]:k-f.grid[0]:k:k}}return{top:b-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():p?0:j.scrollTop()),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():p?0:j.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(d,c,b){return b=b||this._uiHash(),a.ui.plugin.call(this,d,[c,b]),"drag"==d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,c,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(d,c){var b=a(this).data("draggable"),e=b.options,f=a.extend({},c,{item:b.element});b.sortables=[],a(e.connectToSortable).each(function(){var g=a.data(this,"sortable");g&&!g.options.disabled&&(b.sortables.push({instance:g,shouldRevert:g.options.revert}),g.refreshPositions(),g._trigger("activate",d,f))})},stop:function(d,c){var b=a(this).data("draggable"),e=a.extend({},c,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"==b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,e))})},drag:function(d,c){var b=a(this).data("draggable"),e=this;a.each(b.sortables,function(){var g=!1,f=this;this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(g=!0,a.each(b.sortables,function(){return this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this!=f&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(f.instance.element[0],this.instance.element[0])&&(g=!1),g})),g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",d),b.dropped=this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),b._trigger("fromSortable",d),b.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(d,c){var b=a(c.helper),e=a(this).data("draggable").options;b.css("opacity")&&(e._opacity=b.css("opacity")),b.css("opacity",e.opacity)},stop:function(d,c){var b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(d){var c=a(this).data("draggable"),b=c.options,e=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(b.axis&&"x"==b.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-d.pageY<b.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+b.scrollSpeed:d.pageY-c.overflowOffset.top<b.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-b.scrollSpeed)),b.axis&&"y"==b.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-d.pageX<b.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+b.scrollSpeed:d.pageX-c.overflowOffset.left<b.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-b.scrollSpeed))):(b.axis&&"x"==b.axis||(d.pageY-a(document).scrollTop()<b.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<b.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed))),b.axis&&"y"==b.axis||(d.pageX-a(document).scrollLeft()<b.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,d)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var e=a(this),d=e.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:d.top,left:d.left})})},drag:function(q,F){for(var M=a(this).data("draggable"),w=M.options,C=w.snapTolerance,z=F.offset.left,B=z+M.helperProportions.width,E=F.offset.top,G=E+M.helperProportions.height,k=M.snapElements.length-1;k>=0;k--){var J=M.snapElements[k].left,K=J+M.snapElements[k].width,A=M.snapElements[k].top,D=A+M.snapElements[k].height;if(z>J-C&&K+C>z&&E>A-C&&D+C>E||z>J-C&&K+C>z&&G>A-C&&D+C>G||B>J-C&&K+C>B&&E>A-C&&D+C>E||B>J-C&&K+C>B&&G>A-C&&D+C>G){if("inner"!=w.snapMode){var I=C>=Math.abs(A-G),H=C>=Math.abs(D-E),j=C>=Math.abs(J-B),e=C>=Math.abs(K-z);I&&(F.position.top=M._convertPositionTo("relative",{top:A-M.helperProportions.height,left:0}).top-M.margins.top),H&&(F.position.top=M._convertPositionTo("relative",{top:D,left:0}).top-M.margins.top),j&&(F.position.left=M._convertPositionTo("relative",{top:0,left:J-M.helperProportions.width}).left-M.margins.left),e&&(F.position.left=M._convertPositionTo("relative",{top:0,left:K}).left-M.margins.left)}var L=I||H||j||e;if("outer"!=w.snapMode){var I=C>=Math.abs(A-E),H=C>=Math.abs(D-G),j=C>=Math.abs(J-z),e=C>=Math.abs(K-B);I&&(F.position.top=M._convertPositionTo("relative",{top:A,left:0}).top-M.margins.top),H&&(F.position.top=M._convertPositionTo("relative",{top:D-M.helperProportions.height,left:0}).top-M.margins.top),j&&(F.position.left=M._convertPositionTo("relative",{top:0,left:J}).left-M.margins.left),e&&(F.position.left=M._convertPositionTo("relative",{top:0,left:K-M.helperProportions.width}).left-M.margins.left)}!M.snapElements[k].snapping&&(I||H||j||e||L)&&M.options.snap.snap&&M.options.snap.snap.call(M.element,q,a.extend(M._uiHash(),{snapItem:M.snapElements[k].item})),M.snapElements[k].snapping=I||H||j||e||L}else{M.snapElements[k].snapping&&M.options.snap.release&&M.options.snap.release.call(M.element,q,a.extend(M._uiHash(),{snapItem:M.snapElements[k].item})),M.snapElements[k].snapping=!1}}}}),a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options,c=a.makeArray(a(d.stack)).sort(function(f,e){return(parseInt(a(f).css("zIndex"),10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});if(c.length){var b=parseInt(c[0].style.zIndex)||0;a(c).each(function(f){this.style.zIndex=b+f}),this[0].style.zIndex=b+c.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(d,c){var b=a(c.helper),e=a(this).data("draggable").options;b.css("zIndex")&&(e._zIndex=b.css("zIndex")),b.css("zIndex",e.zIndex)},stop:function(d,c){var b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);(function(c){c.widget("ui.resizable",c.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var f=this,e=this.options;if(this.element.addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=e.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var g=this.handles.split(",");this.handles={};for(var d=0;g.length>d;d++){var k=c.trim(g[d]),h="ui-resizable-"+k,j=c('<div class="ui-resizable-handle '+h+'"></div>');j.css({zIndex:e.zIndex}),"se"==k&&j.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[k]=".ui-resizable-"+k,this.element.append(j)}}this._renderAxis=function(o){o=o||this.element;for(var m in this.handles){if(this.handles[m].constructor==String&&(this.handles[m]=c(this.handles[m],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var p=c(this.handles[m],this.element),l=0;l=/sw|ne|nw|se|n|s/.test(m)?p.outerHeight():p.outerWidth();var q=["padding",/ne|nw|n/.test(m)?"Top":/se|sw|s/.test(m)?"Bottom":/^e$/.test(m)?"Right":"Left"].join("");o.css(q,l),this._proportionallyResize()}c(this.handles[m]).length}},this._renderAxis(this.element),this._handles=c(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!f.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}f.axis=i&&i[1]?i[1]:"se"}}),e.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){e.disabled||(c(this).removeClass("ui-resizable-autohide"),f._handles.show())}).mouseleave(function(){e.disabled||f.resizing||(c(this).addClass("ui-resizable-autohide"),f._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(f){c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var d=this.element;this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")}).insertAfter(d),d.remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var d=!1;for(var f in this.handles){c(this.handles[f])[0]==e.target&&(d=!0)}return !this.options.disabled&&d},_mouseStart:function(e){var g=this.options,d=this.element.position(),l=this.element;this.resizing=!0,this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()},(l.is(".ui-draggable")||/absolute/.test(l.css("position")))&&l.css({position:"absolute",top:d.top,left:d.left}),this._renderProxy();var j=b(this.helper.css("left")),k=b(this.helper.css("top"));g.containment&&(j+=c(g.containment).scrollLeft()||0,k+=c(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:j,top:k},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:j,top:k},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;var f=c(".ui-resizable-"+this.axis).css("cursor");return c("body").css("cursor","auto"==f?this.axis+"-resize":f),l.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(k){var g=this.helper,f=(this.options,this.originalMousePosition),h=this.axis,d=k.pageX-f.left||0,m=k.pageY-f.top||0,j=this._change[h];if(!j){return !1}var l=j.apply(this,[k,d,m]);return this._updateVirtualBoundaries(k.shiftKey),(this._aspectRatio||k.shiftKey)&&(l=this._updateRatio(l,k)),l=this._respectSize(l,k),this._propagate("resize",k),g.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",k,this.ui()),!1},_mouseStop:function(q){this.resizing=!1;var j=this.options,v=this;if(this._helper){var m=this._proportionallyResizeElements,f=m.length&&/textarea/i.test(m[0].nodeName),d=f&&c.ui.hasScroll(m[0],"left")?0:v.sizeDiff.height,e=f?0:v.sizeDiff.width,k={width:v.helper.width()-e,height:v.helper.height()-d},g=parseInt(v.element.css("left"),10)+(v.position.left-v.originalPosition.left)||null,p=parseInt(v.element.css("top"),10)+(v.position.top-v.originalPosition.top)||null;j.animate||this.element.css(c.extend(k,{top:p,left:g})),v.helper.height(v.size.height),v.helper.width(v.size.width),this._helper&&!j.animate&&this._proportionallyResize()}return c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",q),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(i){var f,g,d,k,h,j=this.options;h={minWidth:a(j.minWidth)?j.minWidth:0,maxWidth:a(j.maxWidth)?j.maxWidth:1/0,minHeight:a(j.minHeight)?j.minHeight:0,maxHeight:a(j.maxHeight)?j.maxHeight:1/0},(this._aspectRatio||i)&&(f=h.minHeight*this.aspectRatio,d=h.minWidth/this.aspectRatio,g=h.maxHeight*this.aspectRatio,k=h.maxWidth/this.aspectRatio,f>h.minWidth&&(h.minWidth=f),d>h.minHeight&&(h.minHeight=d),h.maxWidth>g&&(h.maxWidth=g),h.maxHeight>k&&(h.maxHeight=k)),this._vBoundaries=h},_updateCache:function(d){this.options,this.offset=this.helper.offset(),a(d.left)&&(this.position.left=d.left),a(d.top)&&(this.position.top=d.top),a(d.height)&&(this.size.height=d.height),a(d.width)&&(this.size.width=d.width)},_updateRatio:function(h){var f=(this.options,this.position),g=this.size,d=this.axis;return a(h.height)?h.width=h.height*this.aspectRatio:a(h.width)&&(h.height=h.width/this.aspectRatio),"sw"==d&&(h.left=f.left+(g.width-h.width),h.top=null),"nw"==d&&(h.top=f.top+(g.height-h.height),h.left=f.left+(g.width-h.width)),h},_respectSize:function(q,A){var B=(this.helper,this._vBoundaries),y=(this._aspectRatio||A.shiftKey,this.axis),j=a(q.width)&&B.maxWidth&&B.maxWidth<q.width,f=a(q.height)&&B.maxHeight&&B.maxHeight<q.height,i=a(q.width)&&B.minWidth&&B.minWidth>q.width,m=a(q.height)&&B.minHeight&&B.minHeight>q.height;i&&(q.width=B.minWidth),m&&(q.height=B.minHeight),j&&(q.width=B.maxWidth),f&&(q.height=B.maxHeight);var k=this.originalPosition.left+this.originalSize.width,z=this.position.top+this.size.height,v=/sw|nw|w/.test(y),w=/nw|ne|n/.test(y);i&&v&&(q.left=k-B.minWidth),j&&v&&(q.left=k-B.maxWidth),m&&w&&(q.top=z-B.minHeight),f&&w&&(q.top=z-B.maxHeight);var g=!q.width&&!q.height;return g&&!q.left&&q.top?q.top=null:g&&!q.top&&q.left&&(q.left=null),q},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length){for(var f=this.helper||this.element,e=0;this._proportionallyResizeElements.length>e;e++){var g=this._proportionallyResizeElements[e];if(!this.borderDif){var d=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")],h=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")];this.borderDif=c.map(d,function(m,k){var j=parseInt(m,10)||0,l=parseInt(h[k],10)||0;return j+l})}g.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var f=this.element,e=this.options;if(this.elementOffset=f.offset(),this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var g=c.ui.ie6?1:0,d=c.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+d,height:this.element.outerHeight()+d,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,d){return{width:this.originalSize.width+d}},w:function(h,f){var d=(this.options,this.originalSize),g=this.originalPosition;return{left:g.left+f,width:d.width-f}},n:function(j,g,f){var h=(this.options,this.originalSize),d=this.originalPosition;return{top:d.top+f,height:h.height-f}},s:function(g,f,d){return{height:this.originalSize.height+d}},se:function(e,d,f){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,d,f]))},sw:function(e,d,f){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,d,f]))},ne:function(e,d,f){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,d,f]))},nw:function(e,d,f){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,d,f]))}},_propagate:function(e,d){c.ui.plugin.call(this,e,[d,this.ui()]),"resize"!=e&&this._trigger(e,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("resizable"),d=e.options,f=function(g){c(g).each(function(){var h=c(this);h.data("resizable-alsoresize",{width:parseInt(h.width(),10),height:parseInt(h.height(),10),left:parseInt(h.css("left"),10),top:parseInt(h.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?f(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],f(d.alsoResize)):c.each(d.alsoResize,function(g){f(g)})},resize:function(f,e){var j=c(this).data("resizable"),d=j.options,m=j.originalSize,k=j.originalPosition,l={height:j.size.height-m.height||0,width:j.size.width-m.width||0,top:j.position.top-k.top||0,left:j.position.left-k.left||0},g=function(h,i){c(h).each(function(){var p=c(this),o=c(this).data("resizable-alsoresize"),s={},q=i&&i.length?i:p.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(q,function(u,r){var n=(o[r]||0)+(l[r]||0);n&&n>=0&&(s[r]=n||null)}),p.css(s)})};"object"!=typeof d.alsoResize||d.alsoResize.nodeType?g(d.alsoResize):c.each(d.alsoResize,function(i,h){g(i,h)})},stop:function(){c(this).removeData("resizable-alsoresize")}}),c.ui.plugin.add("resizable","animate",{stop:function(q){var j=c(this).data("resizable"),v=j.options,m=j._proportionallyResizeElements,f=m.length&&/textarea/i.test(m[0].nodeName),d=f&&c.ui.hasScroll(m[0],"left")?0:j.sizeDiff.height,e=f?0:j.sizeDiff.width,k={width:j.size.width-e,height:j.size.height-d},g=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null,p=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null;j.element.animate(c.extend(k,p&&g?{top:p,left:g}:{}),{duration:v.animateDuration,easing:v.animateEasing,step:function(){var h={width:parseInt(j.element.css("width"),10),height:parseInt(j.element.css("height"),10),top:parseInt(j.element.css("top"),10),left:parseInt(j.element.css("left"),10)};m&&m.length&&c(m[0]).css({width:h.width,height:h.height}),j._updateCache(h),j._propagate("resize",q)}})}}),c.ui.plugin.add("resizable","containment",{start:function(){var m=c(this).data("resizable"),z=m.options,w=m.element,j=z.containment,e=j instanceof c?j.get(0):/parent/.test(j)?w.parent().get(0):j;if(e){if(m.containerElement=c(e),/document/.test(j)||j==document){m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var g=c(e),q=[];c(["Top","Right","Left","Bottom"]).each(function(h,d){q[h]=b(g.css("padding"+d))}),m.containerOffset=g.offset(),m.containerPosition=g.position(),m.containerSize={height:g.innerHeight()-q[3],width:g.innerWidth()-q[1]};var k=m.containerOffset,y=m.containerSize.height,t=m.containerSize.width,v=c.ui.hasScroll(e,"left")?e.scrollWidth:t,f=c.ui.hasScroll(e)?e.scrollHeight:y;m.parentData={element:e,left:k.left,top:k.top,width:v,height:f}}}},resize:function(y){var k=c(this).data("resizable"),z=k.options,v=(k.containerSize,k.containerOffset),g=(k.size,k.position),e=k._aspectRatio||y.shiftKey,f={top:0,left:0},m=k.containerElement;m[0]!=document&&/static/.test(m.css("position"))&&(f=v),g.left<(k._helper?v.left:0)&&(k.size.width=k.size.width+(k._helper?k.position.left-v.left:k.position.left-f.left),e&&(k.size.height=k.size.width/k.aspectRatio),k.position.left=z.helper?v.left:0),g.top<(k._helper?v.top:0)&&(k.size.height=k.size.height+(k._helper?k.position.top-v.top:k.position.top),e&&(k.size.width=k.size.height*k.aspectRatio),k.position.top=k._helper?v.top:0),k.offset.left=k.parentData.left+k.position.left,k.offset.top=k.parentData.top+k.position.top;var j=Math.abs((k._helper?k.offset.left-f.left:k.offset.left-f.left)+k.sizeDiff.width),w=Math.abs((k._helper?k.offset.top-f.top:k.offset.top-v.top)+k.sizeDiff.height),p=k.containerElement.get(0)==k.element.parent().get(0),q=/relative|absolute/.test(k.containerElement.css("position"));p&&q&&(j-=k.parentData.left),j+k.size.width>=k.parentData.width&&(k.size.width=k.parentData.width-j,e&&(k.size.height=k.size.width/k.aspectRatio)),w+k.size.height>=k.parentData.height&&(k.size.height=k.parentData.height-w,e&&(k.size.width=k.size.height*k.aspectRatio))},stop:function(){var p=c(this).data("resizable"),j=p.options,q=(p.position,p.containerOffset),m=p.containerPosition,f=p.containerElement,d=c(p.helper),e=d.offset(),k=d.outerWidth()-p.sizeDiff.width,g=d.outerHeight()-p.sizeDiff.height;p._helper&&!j.animate&&/relative/.test(f.css("position"))&&c(this).css({left:e.left-m.left-q.left,width:k,height:g}),p._helper&&!j.animate&&/static/.test(f.css("position"))&&c(this).css({left:e.left-m.left-q.left,width:k,height:g})}}),c.ui.plugin.add("resizable","ghost",{start:function(){var e=c(this).data("resizable"),d=e.options,f=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var d=c(this).data("resizable");d.options,d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=c(this).data("resizable");d.options,d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(p){var j=c(this).data("resizable"),q=j.options,m=j.size,f=j.originalSize,d=j.originalPosition,e=j.axis;q._aspectRatio||p.shiftKey,q.grid="number"==typeof q.grid?[q.grid,q.grid]:q.grid;var k=Math.round((m.width-f.width)/(q.grid[0]||1))*(q.grid[0]||1),g=Math.round((m.height-f.height)/(q.grid[1]||1))*(q.grid[1]||1);/^(se|s|e)$/.test(e)?(j.size.width=f.width+k,j.size.height=f.height+g):/^(ne)$/.test(e)?(j.size.width=f.width+k,j.size.height=f.height+g,j.position.top=d.top-g):/^(sw)$/.test(e)?(j.size.width=f.width+k,j.size.height=f.height+g,j.position.left=d.left-k):(j.size.width=f.width+k,j.size.height=f.height+g,j.position.top=d.top-g,j.position.left=d.left-k)}});var b=function(d){return parseInt(d,10)||0},a=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(f){var d=0,c={},b={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show",f.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++d),e=this.options;this.prevShow=this.prevHide=f(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),0>e.active&&(e.active+=this.headers.length),this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(i){var h=f(this),j=h.attr("id"),l=h.next(),k=l.attr("id");j||(j=g+"-header-"+i,h.attr("id",j)),k||(k=g+"-panel-"+i,l.attr("id",k)),h.attr("aria-controls",k),l.attr("aria-labelledby",j)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(e.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():f()}},_createIcons:function(){var a=this.options.icons;a&&(f("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(g,a){return"active"===g?(this._activate(a),undefined):("event"===g&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(g,a),"collapsible"!==g||a||this.options.active!==!1||this._activate(0),"icons"===g&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===g&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a),undefined)},_keydown:function(h){if(!h.altKey&&!h.ctrlKey){var g=f.ui.keyCode,e=this.headers.length,j=this.headers.index(h.target),k=!1;switch(h.keyCode){case g.RIGHT:case g.DOWN:k=this.headers[(j+1)%e];break;case g.LEFT:case g.UP:k=this.headers[(j-1+e)%e];break;case g.SPACE:case g.ENTER:this._eventHandler(h);break;case g.HOME:k=this.headers[0];break;case g.END:k=this.headers[e-1]}k&&(f(h.target).attr("tabIndex",-1),f(k).attr("tabIndex",0),k.focus(),h.preventDefault())}},_panelKeyDown:function(a){a.keyCode===f.ui.keyCode.UP&&a.ctrlKey&&f(a.currentTarget).prev().focus()},refresh:function(){var h,g,e=this.options.heightStyle,j=this.element.parent();"fill"===e?(f.support.minHeight||(g=j.css("overflow"),j.css("overflow","hidden")),h=j.height(),this.element.siblings(":visible").each(function(){var l=f(this),k=l.css("position");"absolute"!==k&&"fixed"!==k&&(h-=l.outerHeight(!0))}),g&&j.css("overflow",g),this.headers.each(function(){h-=f(this).outerHeight(!0)}),this.headers.next().each(function(){f(this).height(Math.max(0,h-f(this).innerHeight()+f(this).height()))}).css("overflow","auto")):"auto"===e&&(h=0,this.headers.next().each(function(){h=Math.max(h,f(this).css("height","").height())}).height(h))},_activate:function(e){var a=this._findActive(e)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:f.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):f()},_setupEvents:function(e){var a={};e&&(f.each(e.split(" "),function(h,g){a[g]="_eventHandler"}),this._on(this.headers,a))},_eventHandler:function(u){var m=this.options,q=this.active,v=f(u.currentTarget),j=v[0]===q[0],e=j&&m.collapsible,g=e?f():v.next(),p=q.next(),k={oldHeader:q,oldPanel:p,newHeader:e?f():v,newPanel:g};u.preventDefault(),j&&!m.collapsible||this._trigger("beforeActivate",u,k)===!1||(m.active=e?!1:this.headers.index(v),this.active=j?f():v,this._toggle(k),q.removeClass("ui-accordion-header-active ui-state-active"),m.icons&&q.children(".ui-accordion-header-icon").removeClass(m.icons.activeHeader).addClass(m.icons.header),j||(v.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),m.icons&&v.children(".ui-accordion-header-icon").removeClass(m.icons.header).addClass(m.icons.activeHeader),v.next().addClass("ui-accordion-content-active")))},_toggle:function(h){var g=h.newPanel,e=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=g,this.prevHide=e,this.options.animate?this._animate(g,e,h):(e.hide(),g.show(),this._toggleComplete(h)),e.attr({"aria-expanded":"false","aria-hidden":"true"}),e.prev().attr("aria-selected","false"),g.length&&e.length?e.prev().attr("tabIndex",-1):g.length&&this.headers.filter(function(){return 0===f(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(q,z,A){var j,a,i,m=this,k=0,y=q.length&&(!z.length||q.index()<z.index()),v=this.options.animate||{},w=y&&v.down||v,g=function(){m._toggleComplete(A)};return"number"==typeof w&&(i=w),"string"==typeof w&&(a=w),a=a||w.easing||v.easing,i=i||w.duration||v.duration,z.length?q.length?(j=q.show().outerHeight(),z.animate(c,{duration:i,easing:a,step:function(l,h){h.now=Math.round(l)}}),q.hide().animate(b,{duration:i,easing:a,complete:g,step:function(l,h){h.now=Math.round(l),"height"!==h.prop?k+=h.now:"content"!==m.options.heightStyle&&(h.now=Math.round(j-z.outerHeight()-k),k=0)}}),undefined):z.animate(c,i,a,g):q.animate(b,i,a,g)},_toggleComplete:function(g){var a=g.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),a.length&&(a.parent()[0].className=a.parent()[0].className),this._trigger("activate",null,g)}}),f.uiBackCompat!==!1&&(function(h,g){h.extend(g.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var a=g._create;g._create=function(){if(this.options.navigation){var i=this,e=this.element.find(this.options.header),j=e.next(),k=e.add(j).find("a").filter(this.options.navigationFilter)[0];k&&e.add(j).each(function(l){return h.contains(this,k)?(i.options.active=Math.floor(l/2),!1):undefined})}a.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(k,j){k.extend(j.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var h=j._create,g=j._setOption;k.extend(j,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),h.call(this)},_setOption:function(a){("autoHeight"===a||"clearStyle"===a||"fillSpace"===a)&&(this.options.heightStyle=this._mergeHeightStyle()),g.apply(this,arguments)},_mergeHeightStyle:function(){var a=this.options;return a.fillSpace?"fill":a.clearStyle?"content":a.autoHeight?"auto":undefined}})}(jQuery,jQuery.ui.accordion.prototype),function(h,g){h.extend(g.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var a=g._createIcons;g._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),a.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(h,g){g.activate=g._activate;var a=g._findActive;g._findActive=function(i){return -1===i&&(i=!1),i&&"number"!=typeof i&&(i=this.headers.index(this.headers.filter(i)),-1===i&&(i=!1)),a.call(this,i)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(h,g){h.extend(g.options,{change:null,changestart:null});var a=g._trigger;g._trigger=function(l,j,i){var k=a.apply(this,arguments);return k?("beforeActivate"===l?k=a.call(this,"changestart",j,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel}):"activate"===l&&(k=a.call(this,"change",j,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel})),k):!1}}(jQuery,jQuery.ui.accordion.prototype),function(h,g){h.extend(g.options,{animate:null,animated:"slide"});var a=g._create;g._create=function(){var i=this.options;null===i.animate&&(i.animate=i.animated?"slide"===i.animated?300:"bounceslide"===i.animated?{duration:200,down:{easing:"easeOutBounce",duration:1000}}:i.animated:!1),a.call(this)}}(jQuery,jQuery.ui.accordion.prototype))})(jQuery);(function(b){var a=0;b.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,d,c;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(f){if(this.element.prop("readOnly")){return e=!0,c=!0,d=!0,undefined}e=!1,c=!1,d=!1;var g=b.ui.keyCode;switch(f.keyCode){case g.PAGE_UP:e=!0,this._move("previousPage",f);break;case g.PAGE_DOWN:e=!0,this._move("nextPage",f);break;case g.UP:e=!0,this._keyEvent("previous",f);break;case g.DOWN:e=!0,this._keyEvent("next",f);break;case g.ENTER:case g.NUMPAD_ENTER:this.menu.active&&(e=!0,f.preventDefault(),this.menu.select(f));break;case g.TAB:this.menu.active&&this.menu.select(f);break;case g.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(f),f.preventDefault());break;default:d=!0,this._searchTimeout(f)}},keypress:function(f){if(e){return e=!1,f.preventDefault(),undefined}if(!d){var g=b.ui.keyCode;switch(f.keyCode){case g.PAGE_UP:this._move("previousPage",f);break;case g.PAGE_DOWN:this._move("nextPage",f);break;case g.UP:this._keyEvent("previous",f);break;case g.DOWN:this._keyEvent("next",f)}}},input:function(f){return c?(c=!1,f.preventDefault(),undefined):(this._searchTimeout(f),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(f){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(f),this._change(f),undefined)}}),this._initSource(),this.menu=b("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:b(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(g){g.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var f=this.menu.element[0];b(g.target).closest(".ui-menu-item").length||this._delay(function(){var h=this;this.document.one("mousedown",function(i){i.target===h.element[0]||i.target===f||b.contains(f,i.target)||h.close()})})},menufocus:function(h,g){if(this.isNewMenu&&(this.isNewMenu=!1,h.originalEvent&&/^mouse/.test(h.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){b(h.target).trigger(h.originalEvent)}),undefined}var f=g.item.data("ui-autocomplete-item")||g.item.data("item.autocomplete");!1!==this._trigger("focus",h,{item:f})?h.originalEvent&&/^key/.test(h.originalEvent.type)&&this._value(f.value):this.liveRegion.text(f.value)},menuselect:function(j,h){var g=h.item.data("ui-autocomplete-item")||h.item.data("item.autocomplete"),f=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f,this.selectedItem=g})),!1!==this._trigger("select",j,{item:g})&&this._value(g.value),this.term=this._value(),this.close(j),this.selectedItem=g}}),this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),b.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(d,c){this._super(d,c),"source"===d&&this._initSource(),"appendTo"===d&&this.menu.element.appendTo(this.document.find(c||"body")[0]),"disabled"===d&&c&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var e,d,c=this;b.isArray(this.options.source)?(e=this.options.source,this.source=function(g,f){f(b.ui.autocomplete.filter(e,g.term))}):"string"==typeof this.options.source?(d=this.options.source,this.source=function(f,g){c.xhr&&c.xhr.abort(),c.xhr=b.ajax({url:d,data:f,dataType:"json",success:function(h){g(h)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(d,c){return d=null!=d?d:this._value(),this.term=this._value(),d.length<this.options.minLength?this.close(c):this._trigger("search",c)!==!1?this._search(d):undefined},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var d=this,c=++a;return function(e){c===a&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:b.map(c,function(d){return"string"==typeof d?{label:d,value:d}:b.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(d){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,d),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,d){var c=this;b.each(d,function(g,f){c._renderItemData(e,f)})},_renderItemData:function(d,c){return this._renderItem(d,c).data("ui-autocomplete-item",c)},_renderItem:function(d,c){return b("<li>").append(b("<a>").text(c.label)).appendTo(d)},_move:function(d,c){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[d](c),undefined):(this.search(null,c),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,c){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(d,c),c.preventDefault())}}),b.extend(b.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,d){var c=RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(e,function(f){return c.test(f.label||f.value||f)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=d&&d.length?this.options.messages.results(d.length):this.options.messages.noResults,this.liveRegion.text(c))}})})(jQuery);(function(k){var p,g,q,m,d="ui-button ui-widget ui-state-default ui-corner-all",b="ui-state-hover ui-state-active ",c="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var a=k(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},f=function(l){var h=l.name,n=l.form,e=k([]);return h&&(e=n?k(n).find("[name='"+h+"']"):k("[name='"+h+"']",l.ownerDocument).filter(function(){return !this.form})),e};k.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,j),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,a="checkbox"===this.type||"radio"===this.type,h=a?"":"ui-state-active",l="ui-state-focus";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===p&&k(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||k(this).removeClass(h)}).bind("click"+this.eventNamespace,function(n){i.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(l)}),a&&(this.element.bind("change"+this.eventNamespace,function(){m||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){i.disabled||(m=!1,g=n.pageX,q=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){i.disabled||(g!==n.pageX||q!==n.pageY)&&(m=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled||m?!1:(k(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked),undefined)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled||m){return !1}k(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];f(n).not(n).map(function(){return k(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(k(this).addClass("ui-state-active"),p=this,e.document.one("mouseup",function(){p=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(k(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(n){return i.disabled?!1:((n.keyCode===k.ui.keyCode.SPACE||n.keyCode===k.ui.keyCode.ENTER)&&k(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace,function(){k(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(n){n.keyCode===k.ui.keyCode.SPACE&&k(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var l,h,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(l=this.element.parents().last(),h="label[for='"+this.element.attr("id")+"']",this.buttonElement=l.find(h),this.buttonElement.length||(l=l.length?l.siblings():this.element.siblings(),this.buttonElement=l.filter(h),this.buttonElement.length||(this.buttonElement=l.find(h))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" "+b+" "+c).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(h,a){return this._super(h,a),"disabled"===h?(a?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?f(this.element[0]).each(function(){k(this).is(":checked")?k(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):k(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined}var l=this.buttonElement.removeClass(c),h=k("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(l.empty()).text(),o=this.options.icons,e=o.primary&&o.secondary,r=[];o.primary||o.secondary?(this.options.text&&r.push("ui-button-text-icon"+(e?"s":o.primary?"-primary":"-secondary")),o.primary&&l.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&l.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(r.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||l.attr("title",k.trim(h)))):r.push("ui-button-text-only"),l.addClass(r.join(" "))}}),k.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(h,a){"disabled"===h&&this.buttons.button("option",h,a),this._super(h,a)},refresh:function(){var a="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t){(null==t[i]||t[i]==undefined)&&(e[i]=t[i])}return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,a){t.settings[i]=a}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),a=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[a?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var s=this._get(t,"showOn");if(("focus"==s||"both"==s)&&e.focus(this._showDatepicker),"button"==s||"both"==s){var n=this._get(t,"buttonText"),r=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?n:$("<img/>").attr({src:r,alt:n,title:n}))),e[a?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var a=function(e){for(var t=0,i=0,a=0;e.length>a;a++){e[a].length>t&&(t=e[a].length,i=a)}return i};t.setMonth(a(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(a(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,a){t.settings[i]=a}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,a,s){var n=this._dialogInst;if(!n){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},$.data(this._dialogInput[0],PROP_NAME,n)}if(extendRemove(n.settings,a||{}),t=t&&t.constructor==Date?this._formatDate(n,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+l,h/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,n),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==a?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==a||"span"==a)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();if("input"==a){e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if("div"==a||"span"==a){var s=t.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();if("input"==a){e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if("div"==a||"span"==a){var s=t.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e){return !1}for(var t=0;this._disabledInputs.length>t;t++){if(this._disabledInputs[t]==e){return !0}}return !1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var a=this._getInst(e);if(2==arguments.length&&"string"==typeof t){return"defaults"==t?$.extend({},$.datepicker._defaults):a?"all"==t?$.extend({},a.settings):this._get(a,t):null}var s=t||{};if("string"==typeof t&&(s={},s[t]=i),a){this._curInst==a&&this._hideDatepicker();var n=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");extendRemove(a.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(a.settings.minDate=this._formatDate(a,r)),null!==o&&s.dateFormat!==undefined&&s.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,o)),this._attachments($(e),a),this._autoSize(a),this._setDate(a,n),this._updateAlternate(a),this._updateDatepicker(a)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,a=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);s[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,s[0]);var n=$.datepicker._get(t,"onSelect");if(n){var r=$.datepicker._formatDate(t);n.apply(t.input?t.input[0]:null,[r,t])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,a?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,a?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}}else{36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1}i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),a=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">a||!i||i.indexOf(a)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal){try{var i=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));i&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(a){$.datepicker.log(a)}}return !0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),a=i?i.apply(e,[e,t]):{};if(a!==!1){extendRemove(t.settings,a),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var s=!1;$(e).parents().each(function(){return s|="fixed"==$(this).css("position"),!s});var n={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),n=$.datepicker._checkOffset(t,n,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),!t.inline){var r=$.datepicker._get(t,"showAnim"),o=$.datepicker._get(t,"duration"),h=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[r]||$.effects[r])?t.dpDiv.show(r,$.datepicker._get(t,"showOptions"),o,h):t.dpDiv[r||"show"](r?o:null,h),r&&o||h(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i=e.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a=this._getNumberOfMonths(e),s=a[1],n=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",n*s+"em"),e.dpDiv[(1!=a[0]||1!=a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout(function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var a=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),n=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),h=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?a-n:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+a>o&&o>a?Math.abs(t.left+a-o):0),t.top-=Math.min(t.top,t.top+s>h&&h>s?Math.abs(s+r):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));){e=e[i?"previousSibling":"nextSibling"]}var a=$(e).offset();return[a.left,a.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),a=this._get(t,"duration"),s=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[i]||$.effects[i])?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),a,s):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1;var n=this._get(t,"onClose");n&&n.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var a=$(e),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay){i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear}else{var a=new Date;i.selectedDay=a.getDate(),i.drawMonth=i.selectedMonth=a.getMonth(),i.drawYear=i.selectedYear=a.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var a=$(e),s=this._getInst(a[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a)},_selectDay:function(e,t,i,a){var s=$(e);if(!$(a).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var n=this._getInst(s[0]);n.selectedDay=n.currentDay=$("a",a).html(),n.selectedMonth=n.currentMonth=t,n.selectedYear=n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),a=this._getInst(i[0]);t=null!=t?t:this._formatDate(a),a.input&&a.input.val(t),this._updateAlternate(a);var s=this._get(a,"onSelect");s?s.apply(a.input?a.input[0]:null,[t,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),s=this.formatDate(i,a,this._getFormatConfig(e));$(t).each(function(){$(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/86400000)/7)+1},parseDate:function(e,t,i){if(null==e||null==t){throw"Invalid arguments"}if(t="object"==typeof t?""+t:t+"",""==t){return null}var a=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,l=-1,u=-1,d=-1,c=!1,p=function(t){var i=e.length>y+1&&e.charAt(y+1)==t;return i&&y++,i},m=function(e){var i=p(e),a="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,s=RegExp("^\\d{1,"+a+"}"),n=t.substring(v).match(s);if(!n){throw"Missing number at position "+v}return v+=n[0].length,parseInt(n[0],10)},f=function(e,i,a){var s=$.map(p(e)?a:i,function(e,t){return[[t,e]]}).sort(function(e,t){return -(e[1].length-t[1].length)}),n=-1;if($.each(s,function(e,i){var a=i[1];return t.substr(v,a.length).toLowerCase()==a.toLowerCase()?(n=i[0],v+=a.length,!1):undefined}),-1!=n){return n+1}throw"Unknown name at position "+v},g=function(){if(t.charAt(v)!=e.charAt(y)){throw"Unexpected literal at position "+v}v++},v=0,y=0;e.length>y;y++){if(c){"'"!=e.charAt(y)||p("'")?g():c=!1}else{switch(e.charAt(y)){case"d":u=m("d");break;case"D":f("D",s,n);break;case"o":d=m("o");break;case"m":l=m("m");break;case"M":l=f("M",r,o);break;case"y":h=m("y");break;case"@":var b=new Date(m("@"));h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((m("!")-this._ticksTo1970)/10000);h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"'":p("'")?g():c=!0;break;default:g()}}}if(t.length>v){var _=t.substr(v);if(!/^\s+/.test(_)){throw"Extra/unparsed characters found in date: "+_}}if(-1==h?h=(new Date).getFullYear():100>h&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a>=h?0:-100)),d>-1){for(l=1,u=d;;){var x=this._getDaysInMonth(h,l-1);if(x>=u){break}l++,u-=x}}var b=this._daylightSavingAdjust(new Date(h,l-1,u));if(b.getFullYear()!=h||b.getMonth()+1!=l||b.getDate()!=u){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t){return""}var a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,n=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=e.length>c+1&&e.charAt(c+1)==t;return i&&c++,i},h=function(e,t,i){var a=""+t;if(o(e)){for(;i>a.length;){a="0"+a}}return a},l=function(e,t,i,a){return o(e)?a[t]:i[t]},u="",d=!1;if(t){for(var c=0;e.length>c;c++){if(d){"'"!=e.charAt(c)||o("'")?u+=e.charAt(c):d=!1}else{switch(e.charAt(c)){case"d":u+=h("d",t.getDate(),2);break;case"D":u+=l("D",t.getDay(),a,s);break;case"o":u+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/86400000),3);break;case"m":u+=h("m",t.getMonth()+1,2);break;case"M":u+=l("M",t.getMonth(),n,r);break;case"y":u+=o("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=10000*t.getTime()+this._ticksTo1970;break;case"'":o("'")?u+="'":d=!0;break;default:u+=e.charAt(c)}}}}return u},_possibleChars:function(e){for(var t="",i=!1,a=function(t){var i=e.length>s+1&&e.charAt(s+1)==t;return i&&s++,i},s=0;e.length>s;s++){if(i){"'"!=e.charAt(s)||a("'")?t+=e.charAt(s):i=!1}else{switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":a("'")?t+="'":i=!0;break;default:t+=e.charAt(s)}}}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,a,s=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null;i=a=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(s,n,r)||a}catch(o){this.log(o),n=t?"":n}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=n?i.getDate():0,e.currentMonth=n?i.getMonth():0,e.currentYear=n?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(i){}for(var a=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,s=a.getFullYear(),n=a.getMonth(),r=a.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=o.exec(t);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":n+=parseInt(h[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(h[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,n))}h=o.exec(t)}return new Date(s,n,r)},n=null==t||""===t?i:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)?i:a(t):new Date(t.getTime());return n=n&&"Invalid Date"==""+n?i:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s==e.selectedMonth&&n==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),a=this._get(e,"showButtonPanel"),s=this._get(e,"hideIfNoPrevNext"),n=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),h=this._get(e,"stepMonths"),l=1!=r[0]||1!=r[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),c=this._getMinMaxDate(e,"max"),p=e.drawMonth-o,m=e.drawYear;if(0>p&&(p+=12,m--),c){var f=this._daylightSavingAdjust(new Date(c.getFullYear(),c.getMonth()-r[0]*r[1]+1,c.getDate()));for(f=d&&d>f?d:f;this._daylightSavingAdjust(new Date(m,p,1))>f;){p--,0>p&&(p=11,m--)}}e.drawMonth=p,e.drawYear=m;var g=this._get(e,"prevText");g=n?this.formatDate(g,this._daylightSavingAdjust(new Date(m,p-h,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,m,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",y=this._get(e,"nextText");y=n?this.formatDate(y,this._daylightSavingAdjust(new Date(m,p+h,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,m,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",_=this._get(e,"currentText"),x=this._get(e,"gotoCurrent")&&e.currentDay?u:t;_=n?this.formatDate(_,x,this._getFormatConfig(e)):_;var k=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",w=a?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?k:"")+(this._isInRange(e,x)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(i?"":k)+"</div>":"",D=parseInt(this._get(e,"firstDay"),10);D=isNaN(D)?0:D;var T=this._get(e,"showWeek"),S=this._get(e,"dayNames");this._get(e,"dayNamesShort");var M=this._get(e,"dayNamesMin"),N=this._get(e,"monthNames"),C=this._get(e,"monthNamesShort"),A=this._get(e,"beforeShowDay"),P=this._get(e,"showOtherMonths"),I=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek")||this.iso8601Week;for(var j=this._getDefaultDate(e),F="",H=0;r[0]>H;H++){var E="";this.maxRows=4;for(var z=0;r[1]>z;z++){var L=this._daylightSavingAdjust(new Date(m,p,e.selectedDay)),O=" ui-corner-all",W="";if(l){if(W+='<div class="ui-datepicker-group',r[1]>1){switch(z){case 0:W+=" ui-datepicker-group-first",O=" ui-corner-"+(i?"right":"left");break;case r[1]-1:W+=" ui-datepicker-group-last",O=" ui-corner-"+(i?"left":"right");break;default:W+=" ui-datepicker-group-middle",O=""}}W+='">'}W+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+O+'">'+(/all|left/.test(O)&&0==H?i?b:v:"")+(/all|right/.test(O)&&0==H?i?v:b:"")+this._generateMonthYearHeader(e,p,m,d,c,H>0||z>0,N,C)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var R=T?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",Y=0;7>Y;Y++){var J=(Y+D)%7;R+="<th"+((Y+D+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+S[J]+'">'+M[J]+"</span></th>"}W+=R+"</tr></thead><tbody>";var Q=this._getDaysInMonth(m,p);m==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,Q));var B=(this._getFirstDayOfMonth(m,p)-D+7)%7,K=Math.ceil((B+Q)/7),V=l?this.maxRows>K?this.maxRows:K:K;this.maxRows=V;for(var U=this._daylightSavingAdjust(new Date(m,p,1-B)),G=0;V>G;G++){W+="<tr>";for(var q=T?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(U)+"</td>":"",Y=0;7>Y;Y++){var X=A?A.apply(e.input?e.input[0]:null,[U]):[!0,""],Z=U.getMonth()!=p,et=Z&&!I||!X[0]||d&&d>U||c&&U>c;q+='<td class="'+((Y+D+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(U.getTime()==L.getTime()&&p==e.selectedMonth&&e._keyEvent||j.getTime()==U.getTime()&&j.getTime()==L.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!P?"":" "+X[1]+(U.getTime()==u.getTime()?" "+this._currentClass:"")+(U.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!P||!X[2]?"":' title="'+X[2]+'"')+(et?"":' data-handler="selectDay" data-event="click" data-month="'+U.getMonth()+'" data-year="'+U.getFullYear()+'"')+">"+(Z&&!P?"&#xa0;":et?'<span class="ui-state-default">'+U.getDate()+"</span>":'<a class="ui-state-default'+(U.getTime()==t.getTime()?" ui-state-highlight":"")+(U.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+U.getDate()+"</a>")+"</td>",U.setDate(U.getDate()+1),U=this._daylightSavingAdjust(U)}W+=q+"</tr>"}p++,p>11&&(p=0,m++),W+="</tbody></table>"+(l?"</div>"+(r[0]>0&&z==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),E+=W}F+=E}return F+=w+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,F},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var h=this._get(e,"changeMonth"),l=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',c="";if(n||!h){c+='<span class="ui-datepicker-month">'+r[t]+"</span>"}else{var p=a&&a.getFullYear()==i,m=s&&s.getFullYear()==i;c+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var f=0;12>f;f++){(!p||f>=a.getMonth())&&(!m||s.getMonth()>=f)&&(c+='<option value="'+f+'"'+(f==t?' selected="selected"':"")+">"+o[f]+"</option>")}c+="</select>"}if(u||(d+=c+(!n&&h&&l?"":"&#xa0;")),!e.yearshtml){if(e.yearshtml="",n||!l){d+='<span class="ui-datepicker-year">'+i+"</span>"}else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=y(g[0]),_=Math.max(b,y(g[1]||""));for(b=a?Math.max(b,a.getFullYear()):b,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';_>=b;b++){e.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>"}e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}}return d+=this._get(e,"yearSuffix"),u&&(d+=(!n&&h&&l?"":"&#xa0;")+c),d+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"==i?t:0),s=e.drawMonth+("M"==i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"==i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return s=a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!a||t.getTime()<=a.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(g,d){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},f={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};g.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var a=g(this).css(e).offset().top;0>a&&g(this).css("top",e.top-a)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var i,m,t,p,q,e=this,k=this.options,j=k.title||"&#160;";i=(this.uiDialog=g("<div>")).addClass(c+k.dialogClass).css({display:"none",outline:0,zIndex:k.zIndex}).attr("tabIndex",-1).keydown(function(a){k.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===g.ui.keyCode.ESCAPE&&(e.close(a),a.preventDefault())}).mousedown(function(a){e.moveToTop(!1,a)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(i),m=(this.uiDialogTitlebar=g("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){i.focus()}).prependTo(i),t=g("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(a){a.preventDefault(),e.close(a)}).appendTo(m),(this.uiDialogTitlebarCloseText=g("<span>")).addClass("ui-icon ui-icon-closethick").text(k.closeText).appendTo(t),p=g("<span>").uniqueId().addClass("ui-dialog-title").html(j).prependTo(m),q=(this.uiDialogButtonPane=g("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=g("<div>")).addClass("ui-dialog-buttonset").appendTo(q),i.attr({role:"dialog","aria-labelledby":p.attr("id")}),m.find("*").add(m).disableSelection(),this._hoverable(t),this._focusable(t),k.draggable&&g.fn.draggable&&this._makeDraggable(),k.resizable&&g.fn.resizable&&this._makeResizable(),this._createButtons(k.buttons),this._isOpen=!1,g.fn.bgiframe&&i.bgiframe(),this._on(i,{keydown:function(a){if(k.modal&&a.keyCode===g.ui.keyCode.TAB){var h=g(":tabbable",i),o=h.filter(":first"),l=h.filter(":last");return a.target!==l[0]||a.shiftKey?a.target===o[0]&&a.shiftKey?(l.focus(1),!1):d:(o.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var h,a=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),h=a.parent.children().eq(a.index),h.length&&h[0]!==this.element[0]?h.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(j){var h,e,k=this;if(this._isOpen&&!1!==this._trigger("beforeClose",j)){return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){k._trigger("close",j)}):(this.uiDialog.hide(),this._trigger("close",j)),g.ui.dialog.overlay.resize(),this.options.modal&&(h=0,g(".ui-dialog").each(function(){this!==k.uiDialog[0]&&(e=g(this).css("z-index"),isNaN(e)||(h=Math.max(h,e)))}),g.ui.dialog.maxZ=h),this}},isOpen:function(){return this._isOpen},moveToTop:function(j,h){var e,k=this.options;return k.modal&&!j||!k.stack&&!k.modal?this._trigger("focus",h):(k.zIndex>g.ui.dialog.maxZ&&(g.ui.dialog.maxZ=k.zIndex),this.overlay&&(g.ui.dialog.maxZ+=1,g.ui.dialog.overlay.maxZ=g.ui.dialog.maxZ,this.overlay.$el.css("z-index",g.ui.dialog.overlay.maxZ)),e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},g.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",g.ui.dialog.maxZ),this.element.attr(e),this._trigger("focus",h),this)},open:function(){if(!this._isOpen){var j,h=this.options,e=this.uiDialog;return this._size(),this._position(h.position),e.show(h.show),this.overlay=h.modal?new g.ui.dialog.overlay(this):null,this.moveToTop(!0),j=this.element.find(":tabbable"),j.length||(j=this.uiDialogButtonPane.find(":tabbable"),j.length||(j=e)),j.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(j){var h=this,e=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof j&&null!==j&&g.each(j,function(){return !(e=!0)}),e?(g.each(j,function(k,i){var l,m;i=g.isFunction(i)?{click:i,text:k}:i,i=g.extend({type:"button"},i),m=i.click,i.click=function(){m.apply(h.element[0],arguments)},l=g("<button></button>",i).appendTo(h.uiButtonSet),g.fn.button&&l.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function j(a){return{position:a.position,offset:a.offset}}var h=this,e=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,k){g(this).addClass("ui-dialog-dragging"),h._trigger("dragStart",i,j(k))},drag:function(k,i){h._trigger("drag",k,j(i))},stop:function(a,i){e.position=[i.position.left-h.document.scrollLeft(),i.position.top-h.document.scrollTop()],g(this).removeClass("ui-dialog-dragging"),h._trigger("dragStop",a,j(i)),g.ui.dialog.overlay.resize()}})},_makeResizable:function(h){function e(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}h=h===d?this.options.resizable:h;var j=this,m=this.options,k=this.uiDialog.css("position"),l="string"==typeof h?h:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:m.maxWidth,maxHeight:m.maxHeight,minWidth:m.minWidth,minHeight:this._minHeight(),handles:l,start:function(n,a){g(this).addClass("ui-dialog-resizing"),j._trigger("resizeStart",n,e(a))},resize:function(i,a){j._trigger("resize",i,e(a))},stop:function(n,a){g(this).removeClass("ui-dialog-resizing"),m.height=g(this).height(),m.width=g(this).width(),j._trigger("resizeStop",n,e(a)),g.ui.dialog.overlay.resize()}}).css("position",k).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(j){var h,e=[],k=[0,0];j?(("string"==typeof j||"object"==typeof j&&"0" in j)&&(e=j.split?j.split(" "):[j[0],j[1]],1===e.length&&(e[1]=e[0]),g.each(["left","top"],function(i,a){+e[i]===e[i]&&(k[i]=e[i],e[i]=a)}),j={my:e[0]+(0>k[0]?k[0]:"+"+k[0])+" "+e[1]+(0>k[1]?k[1]:"+"+k[1]),at:e.join(" ")}),j=g.extend({},g.ui.dialog.prototype.options.position,j)):j=g.ui.dialog.prototype.options.position,h=this.uiDialog.is(":visible"),h||this.uiDialog.show(),this.uiDialog.position(j),h||this.uiDialog.hide()},_setOptions:function(e){var a=this,j={},h=!1;g.each(e,function(k,i){a._setOption(k,i),k in b&&(h=!0),k in f&&(j[k]=i)}),h&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",j)},_setOption:function(h,e){var i,k,j=this.uiDialog;switch(h){case"buttons":this._createButtons(e);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+e);break;case"dialogClass":j.removeClass(this.options.dialogClass).addClass(c+e);break;case"disabled":e?j.addClass("ui-dialog-disabled"):j.removeClass("ui-dialog-disabled");break;case"draggable":i=j.is(":data(draggable)"),i&&!e&&j.draggable("destroy"),!i&&e&&this._makeDraggable();break;case"position":this._position(e);break;case"resizable":k=j.is(":data(resizable)"),k&&!e&&j.resizable("destroy"),k&&"string"==typeof e&&j.resizable("option","handles",e),k||e===!1||this._makeResizable(e);break;case"title":g(".ui-dialog-title",this.uiDialogTitlebar).html(""+(e||"&#160;"))}this._super(h,e)},_size:function(){var j,h,e,k=this.options,l=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),k.minWidth>k.width&&(k.width=k.minWidth),j=this.uiDialog.css({height:"auto",width:k.width}).outerHeight(),h=Math.max(0,k.minHeight-j),"auto"===k.height?g.support.minHeight?this.element.css({minHeight:h,height:"auto"}):(this.uiDialog.show(),e=this.element.css("height","auto").height(),l||this.uiDialog.hide(),this.element.height(Math.max(e,h))):this.element.height(Math.max(k.height-j,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),g.extend(g.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(h){var a=h.attr("id");return a||(this.uuid+=1,a=this.uuid),"ui-dialog-title-"+a},overlay:function(a){this.$el=g.ui.dialog.overlay.create(a)}}),g.extend(g.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:g.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(h){0===this.instances.length&&(setTimeout(function(){g.ui.dialog.overlay.instances.length&&g(document).bind(g.ui.dialog.overlay.events,function(a){return g(a.target).zIndex()<g.ui.dialog.overlay.maxZ?!1:d})},1),g(window).bind("resize.dialog-overlay",g.ui.dialog.overlay.resize));var e=this.oldInstances.pop()||g("<div>").addClass("ui-widget-overlay");return g(document).bind("keydown.dialog-overlay",function(a){var i=g.ui.dialog.overlay.instances;0!==i.length&&i[i.length-1]===e&&h.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===g.ui.keyCode.ESCAPE&&(h.close(a),a.preventDefault())}),e.appendTo(document.body).css({width:this.width(),height:this.height()}),g.fn.bgiframe&&e.bgiframe(),this.instances.push(e),e},destroy:function(j){var h=g.inArray(j,this.instances),e=0;-1!==h&&this.oldInstances.push(this.instances.splice(h,1)[0]),0===this.instances.length&&g([document,window]).unbind(".dialog-overlay"),j.height(0).width(0).remove(),g.each(this.instances,function(){e=Math.max(e,this.css("z-index"))}),this.maxZ=e},height:function(){var e,a;return g.ui.ie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),a=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),a>e?g(window).height()+"px":e+"px"):g(document).height()+"px"},width:function(){var e,a;return g.ui.ie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),a=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),a>e?g(window).width()+"px":e+"px"):g(document).width()+"px"},resize:function(){var a=g([]);g.each(g.ui.dialog.overlay.instances,function(){a=a.add(this)}),a.css({width:0,height:0}).css({width:g.ui.dialog.overlay.width(),height:g.ui.dialog.overlay.height()})}}),g.extend(g.ui.dialog.overlay.prototype,{destroy:function(){g.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(b){var a=!1;b.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,b.proxy(function(c){this.options.disabled&&c.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(d){var c=b(d.target).closest(".ui-menu-item");!a&&c.not(".ui-state-disabled").length&&(a=!0,this.select(d),c.has(".ui-menu").length?this.expand(d):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(d){var c=b(d.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(d,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,d){var c=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(f,c)},blur:function(c){this._delay(function(){b.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(c){b(c.target).closest(".ui-menu").length||this.collapseAll(c),a=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=b(this);c.data("ui-menu-submenu-carat")&&c.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function d(h){return h.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,g,l,j,k,f=!0;switch(e.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(e);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case b.ui.keyCode.HOME:this._move("first","first",e);break;case b.ui.keyCode.END:this._move("last","last",e);break;case b.ui.keyCode.UP:this.previous(e);break;case b.ui.keyCode.DOWN:this.next(e);break;case b.ui.keyCode.LEFT:this.collapse(e);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(e);break;case b.ui.keyCode.ESCAPE:this.collapse(e);break;default:f=!1,g=this.previousFilter||"",l=String.fromCharCode(e.keyCode),j=!1,clearTimeout(this.filterTimer),l===g?j=!0:l=g+l,k=RegExp("^"+d(l),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(b(this).children("a").text())}),c=j&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(l=String.fromCharCode(e.keyCode),k=RegExp("^"+d(l),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(b(this).children("a").text())})),c.length?(this.focus(e,c),c.length>1?(this.previousFilter=l,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}f&&e.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var e,d=this.options.icons.submenu,c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=b(this),f=g.prev("a"),h=b("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(h),g.attr("aria-labelledby",f.attr("id"))}),e=c.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var f=b(this);/[^\-\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(g,f){var d,c;this.blur(g,g&&"focus"===g.type),this._scrollIntoView(f),this.active=f.first(),c=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",c.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),g&&"keydown"===g.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),d=f.children(".ui-menu"),d.length&&/^mouse/.test(g.type)&&this._startOpening(d),this.activeMenu=f.parent(),this._trigger("focus",g,{item:f})},_scrollIntoView:function(e){var d,c,f,j,g,h;this._hasScroll()&&(d=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,f=e.offset().top-this.activeMenu.offset().top-d-c,j=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=e.height(),0>f?this.activeMenu.scrollTop(j+f):f+h>g&&this.activeMenu.scrollTop(j+f-g+h))},blur:function(d,c){c||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",d,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer),"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(c)},this.delay))},_open:function(d){var c=b.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true"),d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,c){clearTimeout(this.timer),this.timer=this._delay(function(){var e=c?this.element:b(d&&d.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(d),this.activeMenu=e},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element),c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(d,c))},expand:function(d){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(d,c)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(g,f,d){var c;this.active&&(c="first"===g||"last"===g?this.active["first"===g?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[g+"All"](".ui-menu-item").eq(0)),c&&c.length&&this.active||(c=this.activeMenu.children(".ui-menu-item")[f]()),this.focus(d,c)},nextPage:function(e){var d,c,f;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return d=b(this),0>d.offset().top-c-f}),this.focus(e,d)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var d,c,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return d=b(this),d.offset().top-c+f>0}),this.focus(e,d)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(d){this.active=this.active||b(d.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(d,!0),this._trigger("select",d,c)}})})(jQuery);(function(g,d){function c(){return ++b}function f(a){return a.hash.length>1&&a.href.replace(h,"")===location.href.replace(h,"").replace(/\s/g,"%20")}var b=0,h=/#.*$/;g.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var j=this,k=this.options,e=k.active,l=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",k.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){g(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){g(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===e&&(l&&this.tabs.each(function(a,m){return g(m).attr("aria-controls")===l?(e=a,!1):d}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=k.collapsible?!1:0)),k.active=e,!k.collapsible&&k.active===!1&&this.anchors.length&&(k.active=0),g.isArray(k.disabled)&&(k.disabled=g.unique(k.disabled.concat(g.map(this.tabs.filter(".ui-state-disabled"),function(a){return j.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):g(),this._refresh(),this.active.length&&this.load(k.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):g()}},_tabKeydown:function(j){var k=g(this.document[0].activeElement).closest("li"),e=this.tabs.index(k),l=!0;if(!this._handlePageNav(j)){switch(j.keyCode){case g.ui.keyCode.RIGHT:case g.ui.keyCode.DOWN:e++;break;case g.ui.keyCode.UP:case g.ui.keyCode.LEFT:l=!1,e--;break;case g.ui.keyCode.END:e=this.anchors.length-1;break;case g.ui.keyCode.HOME:e=0;break;case g.ui.keyCode.SPACE:return j.preventDefault(),clearTimeout(this.activating),this._activate(e),d;case g.ui.keyCode.ENTER:return j.preventDefault(),clearTimeout(this.activating),this._activate(e===this.options.active?!1:e),d;default:return}j.preventDefault(),clearTimeout(this.activating),e=this._focusNextTab(e,l),j.ctrlKey||(k.attr("aria-selected","false"),this.tabs.eq(e).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",e)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===g.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===g.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===g.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):d},_findNextTab:function(k,j){function l(){return k>e&&(k=0),0>k&&(k=e),k}for(var e=this.tabs.length-1;-1!==g.inArray(l(),this.options.disabled);){k=j?k+1:k-1}return k},_focusNextTab:function(i,a){return i=this._findNextTab(i,a),this.tabs.eq(i).focus(),i},_setOption:function(j,a){return"active"===j?(this._activate(a),d):"disabled"===j?(this._setupDisabled(a),d):(this._super(j,a),"collapsible"===j&&(this.element.toggleClass("ui-tabs-collapsible",a),a||this.options.active!==!1||this._activate(0)),"event"===j&&this._setupEvents(a),"heightStyle"===j&&this._setupHeightStyle(a),d)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,a=this.tablist.children(":has(a[href])");e.disabled=g.map(a.filter(".ui-state-disabled"),function(i){return a.index(i)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!g.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=g()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=g()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return g("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=g(),this.anchors.each(function(m,j){var t,q,s,p=g(j).uniqueId().attr("id"),e=g(j).closest("li"),k=e.attr("aria-controls");f(j)?(t=j.hash,q=a.element.find(a._sanitizeSelector(t))):(s=a._tabId(e),t="#"+s,q=a.element.find(t),q.length||(q=a._createPanel(s),q.insertAfter(a.panels[m-1]||a.tablist)),q.attr("aria-live","polite")),q.length&&(a.panels=a.panels.add(q)),k&&e.data("ui-tabs-aria-controls",k),e.attr({"aria-controls":t.substring(1),"aria-labelledby":p}),q.attr("aria-labelledby",p)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return g("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){g.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var a,j=0;a=this.tabs[j];j++){e===!0||-1!==g.inArray(j,e)?g(a).addClass("ui-state-disabled").attr("aria-disabled","true"):g(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=e},_setupEvents:function(e){var a={click:function(i){i.preventDefault()}};e&&g.each(e.split(" "),function(j,i){a[i]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(k){var j,l,e=this.element.parent();"fill"===k?(g.support.minHeight||(l=e.css("overflow"),e.css("overflow","hidden")),j=e.height(),this.element.siblings(":visible").each(function(){var a=g(this),i=a.css("position");"absolute"!==i&&"fixed"!==i&&(j-=a.outerHeight(!0))}),l&&e.css("overflow",l),this.element.children().not(this.panels).each(function(){j-=g(this).outerHeight(!0)}),this.panels.each(function(){g(this).height(Math.max(0,j-g(this).innerHeight()+g(this).height()))}).css("overflow","auto")):"auto"===k&&(j=0,this.panels.each(function(){j=Math.max(j,g(this).height("").height())}).height(j))},_eventHandler:function(y){var p=this.options,z=this.active,v=g(y.currentTarget),k=v.closest("li"),e=k[0]===z[0],j=e&&p.collapsible,q=j?g():this._getPanelForTab(k),m=z.length?this._getPanelForTab(z):g(),w={oldTab:z,oldPanel:m,newTab:j?g():k,newPanel:q};y.preventDefault(),k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||this.running||e&&!p.collapsible||this._trigger("beforeActivate",y,w)===!1||(p.active=j?!1:this.tabs.index(k),this.active=e?g():k,this.xhr&&this.xhr.abort(),m.length||q.length||g.error("jQuery UI Tabs: Mismatching fragment identifier."),q.length&&this.load(this.tabs.index(k),y),this._toggle(y,w))},_toggle:function(k,j){function l(){q.running=!1,q._trigger("activate",k,j)}function e(){j.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),m.length&&q.options.show?q._show(m,q.options.show,l):(m.show(),l())}var q=this,m=j.newPanel,p=j.oldPanel;this.running=!0,p.length&&this.options.hide?this._hide(p,this.options.hide,function(){j.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(j.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),p.hide(),e()),p.attr({"aria-expanded":"false","aria-hidden":"true"}),j.oldTab.attr("aria-selected","false"),m.length&&p.length?j.oldTab.attr("tabIndex",-1):m.length&&this.tabs.filter(function(){return 0===g(this).attr("tabIndex")}).attr("tabIndex",-1),m.attr({"aria-expanded":"true","aria-hidden":"false"}),j.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var a,j=this._findActive(e);j[0]!==this.active[0]&&(j.length||(j=this.active),a=j.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:g.noop}))},_findActive:function(a){return a===!1?g():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){g.data(this,"ui-tabs-destroy")?g(this).remove():g(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=g(this),a=e.data("ui-tabs-aria-controls");a?e.attr("aria-controls",a):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var e=this.options.disabled;e!==!1&&(a===d?e=!1:(a=this._getIndex(a),e=g.isArray(e)?g.map(e,function(i){return i!==a?i:null}):g.map(this.tabs,function(j,i){return i!==a?i:null})),this._setupDisabled(e))},disable:function(a){var e=this.options.disabled;if(e!==!0){if(a===d){e=!0}else{if(a=this._getIndex(a),-1!==g.inArray(a,e)){return}e=g.isArray(e)?g.merge([a],e).sort():[a]}this._setupDisabled(e)}},load:function(k,j){k=this._getIndex(k);var e=this,q=this.tabs.eq(k),m=q.find(".ui-tabs-anchor"),p=this._getPanelForTab(q),l={tab:q,panel:p};f(m[0])||(this.xhr=g.ajax(this._ajaxSettings(m,j,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(q.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a),e._trigger("load",j,l)},1)}).complete(function(i,a){setTimeout(function(){"abort"===a&&e.panels.stop(!1,!0),q.removeClass("ui-tabs-loading"),p.removeAttr("aria-busy"),i===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(k,j,l){var e=this;return{url:k.attr("href"),beforeSend:function(a,i){return e._trigger("beforeLoad",j,g.extend({jqXHR:a,ajaxSettings:i},l))}}},_getPanelForTab:function(e){var a=g(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}}),g.uiBackCompat!==!1&&(g.ui.tabs.prototype._ui=function(i,a){return{tab:i,panel:a,index:this.anchors.index(i)}},g.widget("ui.tabs",g.ui.tabs,{url:function(i,a){this.anchors.eq(i).attr("href",a)}}),g.widget("ui.tabs",g.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var a=this;this._on({tabsbeforeload:function(i,e){return g.data(e.tab[0],"cache.tabs")?(i.preventDefault(),d):(e.jqXHR.success(function(){a.options.cache&&g.data(e.tab[0],"cache.tabs",!0)}),d)}})},_ajaxSettings:function(k,j,l){var e=this.options.ajaxOptions;return g.extend({},e,{error:function(n,m){try{e.error(n,m,l.tab.closest("li").index(),l.tab[0])}catch(a){}}},this._superApply(arguments))},_setOption:function(i,a){"cache"===i&&a===!1&&this.anchors.removeData("cache.tabs"),this._super(i,a)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(a){this.anchors.eq(a).removeData("cache.tabs"),this._superApply(arguments)}}),g.widget("ui.tabs",g.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),g.widget("ui.tabs",g.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(l,j){if(l.target===this.element[0]&&this.options.spinner){var a=j.tab.find("span"),k=a.html();a.html(this.options.spinner),j.jqXHR.complete(function(){a.html(k)})}}})}}),g.widget("ui.tabs",g.ui.tabs,{options:{enable:null,disable:null},enable:function(e){var a,j=this.options;(e&&j.disabled===!0||g.isArray(j.disabled)&&-1!==g.inArray(e,j.disabled))&&(a=!0),this._superApply(arguments),a&&this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e]))},disable:function(e){var a,j=this.options;(e&&j.disabled===!1||g.isArray(j.disabled)&&-1===g.inArray(e,j.disabled))&&(a=!0),this._superApply(arguments),a&&this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))}}),g.widget("ui.tabs",g.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(k,p,j){j===d&&(j=this.anchors.length);var u,q,t=this.options,m=g(t.tabTemplate.replace(/#\{href\}/g,k).replace(/#\{label\}/g,p)),e=k.indexOf("#")?this._tabId(m):k.replace("#","");return m.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),m.attr("aria-controls",e),u=j>=this.tabs.length,q=this.element.find("#"+e),q.length||(q=this._createPanel(e),u?j>0?q.insertAfter(this.panels.eq(-1)):q.appendTo(this.element):q.insertBefore(this.panels[j])),q.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),u?m.appendTo(this.tablist):m.insertBefore(this.tabs[j]),t.disabled=g.map(t.disabled,function(a){return a>=j?++a:a}),this.refresh(),1===this.tabs.length&&t.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[j],this.panels[j])),this},remove:function(k){k=this._getIndex(k);var j=this.options,l=this.tabs.eq(k).remove(),e=this._getPanelForTab(l).remove();return l.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(k+(this.anchors.length>k+1?1:-1)),j.disabled=g.map(g.grep(j.disabled,function(a){return a!==k}),function(a){return a>=k?--a:a}),this.refresh(),this._trigger("remove",null,this._ui(l.find("a")[0],e[0])),this}}),g.widget("ui.tabs",g.ui.tabs,{length:function(){return this.anchors.length}}),g.widget("ui.tabs",g.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(a){var e=a.is("li")?a.find("a[href]"):a;return e=e[0],g(e).closest("li").attr("aria-controls")||e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+c()}}),g.widget("ui.tabs",g.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(a){return g(this.options.panelTemplate).attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),g.widget("ui.tabs",g.ui.tabs,{_create:function(){var a=this.options;null===a.active&&a.selected!==d&&(a.active=-1===a.selected?!1:a.selected),this._super(),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_setOption:function(k,j){if("selected"!==k){return this._super(k,j)}var a=this.options;this._super("active",-1===j?!1:j),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),g.widget("ui.tabs",g.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(o,l,k){var m,j,p=this._superApply(arguments);return p?("beforeActivate"===o?(m=k.newTab.length?k.newTab:k.oldTab,j=k.newPanel.length?k.newPanel:k.oldPanel,p=this._super("select",l,{tab:m.find(".ui-tabs-anchor")[0],panel:j[0],index:m.closest("li").index()})):"activate"===o&&k.newTab.length&&(p=this._super("show",l,{tab:k.newTab.find(".ui-tabs-anchor")[0],panel:k.newPanel[0],index:k.newTab.closest("li").index()})),p):!1}}),g.widget("ui.tabs",g.ui.tabs,{select:function(a){if(a=this._getIndex(a),-1===a){if(!this.options.collapsible||-1===this.options.selected){return}a=this.options.selected}this.anchors.eq(a).trigger(this.options.event+this.eventNamespace)}}),function(){var a=0;g.widget("ui.tabs",g.ui.tabs,{options:{cookie:null},_create:function(){var j,i=this.options;null==i.active&&i.cookie&&(j=parseInt(this._cookie(),10),-1===j&&(j=!1),i.active=j),this._super()},_cookie:function(e){var j=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++a)];return arguments.length&&(j.push(e===!1?-1:e),j.push(this.options.cookie)),g.cookie.apply(null,j)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),g.widget("ui.tabs",g.ui.tabs,{_trigger:function(k,j,l){var e=g.extend({},l);return"load"===k&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(k,j,e)}}),g.widget("ui.tabs",g.ui.tabs,{options:{fx:null},_getFx:function(){var e,a,j=this.options.fx;return j&&(g.isArray(j)?(e=j[0],a=j[1]):e=a=j),j?{show:a,hide:e}:null},_toggle:function(q,k){function m(){u.running=!1,u._trigger("activate",q,k)}function j(){k.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),p.length&&l.show?p.animate(l.show,l.show.duration,function(){m()}):(p.show(),m())}var u=this,p=k.newPanel,t=k.oldPanel,l=this._getFx();return l?(u.running=!0,t.length&&l.hide?t.animate(l.hide,l.hide.duration,function(){k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),j()}):(k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),t.hide(),j()),d):this._super(q,k)}}))})(jQuery);(function(d){function b(f,e){var g=(f.attr("aria-describedby")||"").split(/\s+/);g.push(e),f.data("ui-tooltip-id",e).attr("aria-describedby",d.trim(g.join(" ")))}function a(g){var f=g.data("ui-tooltip-id"),h=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(f,h);-1!==e&&h.splice(e,1),g.removeData("ui-tooltip-id"),h=d.trim(h.join(" ")),h?g.attr("aria-describedby",h):g.removeAttr("aria-describedby")}var c=0;d.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return d(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(f,e){var g=this;return"disabled"===f?(this[e?"_disable":"_enable"](),this.options[f]=e,void 0):(this._super(f,e),"content"===f&&d.each(this.tooltips,function(i,h){g._updateContent(h)}),void 0)},_disable:function(){var e=this;d.each(this.tooltips,function(g,h){var f=d.Event("blur");f.target=f.currentTarget=h[0],e.close(f,!0)}),this.element.find(this.options.items).andSelf().each(function(){var f=d(this);f.is("[title]")&&f.data("ui-tooltip-title",f.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var e=d(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),f&&"mouseover"===f.type&&g.parents().each(function(){var h,i=d(this);i.data("ui-tooltip-open")&&(h=d.Event("blur"),h.target=h.currentTarget=this,e.close(h,!0)),i.attr("title")&&(i.uniqueId(),e.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(g,f))},_updateContent:function(k,h){var g,j=this.options.content,f=this,l=h?h.type:null;return"string"==typeof j?this._open(h,k,j):(g=j.call(k[0],function(e){k.data("ui-tooltip-open")&&f._delay(function(){h&&(h.type=l),this._open(h,k,e)})}),g&&this._open(h,k,g),void 0)},_open:function(g,k,f){function q(h){e.of=h,m.is(":hidden")||m.position(e)}var m,p,j,e=d.extend({},this.options.position);if(f){if(m=this._find(k),m.length){return m.find(".ui-tooltip-content").html(f),void 0}k.is("[title]")&&(g&&"mouseover"===g.type?k.attr("title",""):k.removeAttr("title")),m=this._tooltip(k),b(k,m.attr("id")),m.find(".ui-tooltip-content").html(f),this.options.track&&g&&/^mouse/.test(g.type)?(this._on(this.document,{mousemove:q}),q(g)):m.position(d.extend({of:k},this.options.position)),m.hide(),this._show(m,this.options.show),this.options.show&&this.options.show.delay&&(j=setInterval(function(){m.is(":visible")&&(q(e.of),clearInterval(j))},d.fx.interval)),this._trigger("open",g,{tooltip:m}),p={keyup:function(l){if(l.keyCode===d.ui.keyCode.ESCAPE){var h=d.Event(l);h.currentTarget=k[0],this.close(h,!0)}},remove:function(){this._removeTooltip(m)}},g&&"mouseover"!==g.type||(p.mouseleave="close"),g&&"focusin"!==g.type||(p.focusout="close"),this._on(!0,k,p)}},close:function(f){var g=this,e=d(f?f.currentTarget:this.element),h=this._find(e);this.closing||(e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),a(e),h.stop(!0),this._hide(h,this.options.hide,function(){g._removeTooltip(d(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),f&&"mouseleave"===f.type&&d.each(this.parents,function(k,j){d(j.element).attr("title",j.title),delete g.parents[k]}),this.closing=!0,this._trigger("close",f,{tooltip:h}),this.closing=!1)},_tooltip:function(g){var f="ui-tooltip-"+c++,e=d("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return d("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),d.fn.bgiframe&&e.bgiframe(),this.tooltips[f]=g,e},_find:function(f){var e=f.data("ui-tooltip-id");return e?d("#"+e):d()},_removeTooltip:function(f){f.remove(),delete this.tooltips[f.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(g,h){var f=d.Event("blur");f.target=f.currentTarget=h[0],e.close(f,!0),d("#"+g).remove(),h.data("ui-tooltip-title")&&(h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))})}})})(jQuery);
/*! jquery.selectBoxIt - v3.7.0 - 2013-08-13 
* http://www.selectboxit.com
* Copyright (c) 2013 Greg Franko; Licensed MIT*/
(function(a){a(window.jQuery,window,document)}(function(d,c,b,e){d.widget("selectBox.selectBoxIt",{VERSION:"3.7.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:true,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:true,isMobile:function(){var f=navigator.userAgent||navigator.vendor||c.opera;return(/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/).test(f)},"native":false,aggressiveChange:false,selectWhenHidden:true,viewport:d(c),similarSearch:false,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:false,customShowHideEvent:false,autoWidth:true,html:true,populate:"",dynamicPositioning:true,hideCurrent:false},getThemes:function(){var f=this,g=d(f.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+g,hover:"ui-btn-hover-"+g,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+g,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+g,container:"jquerymobile",open:"selectboxit-open"},"default":{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(f){return d.isPlainObject(f)&&f.promise&&f.done},_create:function(f){var g=this,h=g.options.populate;if(!g.element.is("select")){return}g.widgetProto=d.Widget.prototype;g.originalElem=g.element[0];g.selectBox=g.element;if(g.options.populate&&g.add&&!f){g.add(h)}g.selectItems=g.element.find("option");g.firstSelectItem=g.selectItems.slice(0,1);g.documentHeight=d(b).height();g.theme=g.getThemes()[g.options.theme]||g.getThemes()["default"];g.currentFocus=0;g.blur=true;g.textArray=[];g.currentIndex=0;g.currentText="";g.flipped=false;if(!f){g.selectBoxStyles=g.selectBox.attr("style")}g._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(g.theme)._eventHandlers();if(g.originalElem.disabled&&g.disable){g.disable()}if(g._ariaAccessibility){g._ariaAccessibility()}g.isMobile=g.options.isMobile();if(g._mobile){g._mobile()}if(g.options["native"]){this._applyNativeSelect()}g.triggerEvent("create");return g},_createDropdownButton:function(){var f=this,j=f.originalElemId=f.originalElem.id||"",k=f.originalElemValue=f.originalElem.value||"",i=f.originalElemName=f.originalElem.name||"",h=f.options.copyClasses,g=f.selectBox.attr("class")||"";f.dropdownText=d("<span/>",{id:j&&j+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:f.firstSelectItem.text()}).attr("data-val",k);f.dropdownImageContainer=d("<span/>",{"class":"selectboxit-option-icon-container"});f.dropdownImage=d("<i/>",{id:j&&j+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"});f.dropdown=d("<span/>",{id:j&&j+"SelectBoxIt","class":"selectboxit "+(h==="button"?g:"")+" "+(f.selectBox.prop("disabled")?f.theme.disabled:f.theme.enabled),name:i,tabindex:f.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(f.dropdownImageContainer.append(f.dropdownImage)).append(f.dropdownText);f.dropdownContainer=d("<span/>",{id:j&&j+"SelectBoxItContainer","class":"selectboxit-container "+(h==="container"?g:"")}).append(f.dropdown);return f},_createUnorderedList:function(){var u=this,n,l,h,o,f,g,t,s="",m=u.originalElemId||"",i=d("<ul/>",{id:m&&m+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1}),k,q,p,r;if(!u.options.showFirstOption){u.selectItems.first().attr("disabled","disabled");u.selectItems=u.selectBox.find("option").slice(1)}u.selectItems.each(function(v){l="";h="";n=d(this).prop("disabled");o=d(this).attr("data-icon")||"";f=d(this).attr("data-iconurl")||"";g=f?"selectboxit-option-icon-url":"";t=f?"style=\"background-image:url('"+f+"');\"":"";k=d(this).attr("data-selectedtext");q=d(this).attr("data-text");p=q?q:d(this).text();r=d(this).parent();if(r.is("optgroup")){l="selectboxit-optgroup-option";if(d(this).index()===0){h='<span class="selectboxit-optgroup-header '+r.first().attr("class")+'"data-disabled="true">'+r.first().attr("label")+"</span>"}}s+=h+'<li id="'+v+'" data-val="'+this.value+'" data-disabled="'+n+'" class="'+l+" selectboxit-option "+(d(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+o+" "+(g||u.theme.container)+'"'+t+"></i></span>"+(u.options.html?p:u.htmlEscape(p))+"</a></li>";u.textArray[v]=n?"":p;if(this.selected){u._setText(u.dropdownText,k||p);u.currentFocus=v}});if((u.options.defaultText||u.selectBox.attr("data-text"))){var j=u.options.defaultText||u.selectBox.attr("data-text");u._setText(u.dropdownText,j);u.options.defaultText=j}i.append(s);u.list=i;u.dropdownContainer.append(u.list);u.listItems=u.list.children("li");u.listAnchors=u.list.find("a");u.listItems.first().addClass("selectboxit-option-first");u.listItems.last().addClass("selectboxit-option-last");u.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(u.theme.disabled);u.dropdownImage.addClass(u.selectBox.attr("data-icon")||u.options.defaultIcon||u.listItems.eq(u.currentFocus).find("i").attr("class"));u.dropdownImage.attr("style",u.listItems.eq(u.currentFocus).find("i").attr("style"));return u},_replaceSelectBox:function(){var g=this,f,j=g.originalElem.id||"",i=g.selectBox.attr("data-size"),h=g.listSize=i===e?"auto":i==="0"||"size"==="auto"?"auto":+i;g.selectBox.css("display","none").after(g.dropdownContainer);f=g.dropdown.height();g.downArrow=d("<i/>",{id:j&&j+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"});g.downArrowContainer=d("<span/>",{id:j&&j+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(g.downArrow);g.dropdown.append(g.downArrowContainer);g.listItems.removeClass("selectboxit-selected").eq(g.currentFocus).addClass("selectboxit-selected");if(!g._realOuterWidth(g.dropdownImageContainer)){g.dropdownImageContainer.remove()}if(g.options.autoWidth){if(g.dropdown.is(":visible")){g.dropdown.css({width:"auto"}).css({width:g.list.outerWidth(true)+g.downArrowContainer.outerWidth(true)+g.dropdownImage.outerWidth(true)})}else{g.dropdown.css({width:"auto"}).css({width:g._realOuterWidth(g.list)+g._realOuterWidth(g.downArrowContainer)+g._realOuterWidth(g.dropdownImage)})}g.list.css({"min-width":g.dropdown.width()})}g.dropdownContainer.addClass("selectboxit-rendering");g.dropdownText.css({"max-width":g.dropdownContainer.outerWidth(true)-(g.downArrowContainer.outerWidth(true)+g.dropdownImage.outerWidth(true))});g.dropdownContainer.removeClass("selectboxit-rendering");if(d.type(h)==="number"){g.maxHeight=g.listAnchors.outerHeight(true)*h}return g},_scrollToView:function(j){var n=this,l=n.listItems.eq(n.currentFocus),i=n.list.scrollTop(),m=l.height(),f=l.position().top,h=Math.abs(f),g=n.list.height(),k;if(j==="search"){if(g-f<m){n.list.scrollTop(i+(f-(g-m)))}else{if(f<-1){n.list.scrollTop(f-m)}}}else{if(j==="up"){if(f<-1){n.list.scrollTop(i-h)}}else{if(j==="down"){if(g-f<m){n.list.scrollTop((i+(h-g+m)))}}}}return n},_callbackSupport:function(g){var f=this;if(d.isFunction(g)){g.call(f,f.dropdown)}return f},_setText:function(g,h){var f=this;if(f.options.html){g.html(h)}else{g.text(h)}return f},open:function(l){var j=this,i=j.options.showEffect,k=j.options.showEffectSpeed,g=j.options.showEffectOptions,h=j.options["native"],f=j.isMobile;if(!j.listItems.length||j.dropdown.hasClass(j.theme.disabled)){return j}if((!h&&!f)&&!this.list.is(":visible")){j.triggerEvent("open");if(j._dynamicPositioning&&j.options.dynamicPositioning){j._dynamicPositioning()}if(i==="none"){j.list.show()}else{if(i==="show"||i==="slideDown"||i==="fadeIn"){j.list[i](k)}else{j.list.show(i,g,k)}}j.list.promise().done(function(){j._scrollToView("search")})}j._callbackSupport(l);return j},close:function(l){var i=this,k=i.options.hideEffect,j=i.options.hideEffectSpeed,h=i.options.hideEffectOptions,g=i.options["native"],f=i.isMobile;if((!g&&!f)&&i.list.is(":visible")){i.triggerEvent("close");if(k==="none"){i.list.hide()}else{if(k==="hide"||k==="slideUp"||k==="fadeOut"){i.list[k](j)}else{i.list.hide(k,h,j)}}}i._callbackSupport(l);return i},toggle:function(){var f=this,g=f.list.is(":visible");if(g){f.close()}else{if(!g){f.open()}}},_keyMappings:{"38":"up","40":"down","13":"enter","8":"backspace","9":"tab","32":"space","27":"esc"},_keydownMethods:function(){var f=this,g=f.list.is(":visible")||!f.options.keydownOpen;return{down:function(){if(f.moveDown&&g){f.moveDown()}},up:function(){if(f.moveUp&&g){f.moveUp()}},enter:function(){var h=f.listItems.eq(f.currentFocus);f._update(h);if(h.attr("data-preventclose")!=="true"){f.close()}f.triggerEvent("enter")},tab:function(){f.triggerEvent("tab-blur");f.close()},backspace:function(){f.triggerEvent("backspace")},esc:function(){f.close()}}},_eventHandlers:function(){var g=this,l=g.options.nativeMousedown,i=g.options.customShowHideEvent,f,k,h=g.focusClass,m=g.hoverClass,j=g.openClass;this.dropdown.on({"click.selectBoxIt":function(){g.dropdown.trigger("focus",true);if(!g.originalElem.disabled){g.triggerEvent("click");if(!l&&!i){g.toggle()}}},"mousedown.selectBoxIt":function(){d(this).data("mdown",true);g.triggerEvent("mousedown");if(l&&!i){g.toggle()}},"mouseup.selectBoxIt":function(){g.triggerEvent("mouseup")},"blur.selectBoxIt":function(){if(g.blur){g.triggerEvent("blur");g.close();d(this).removeClass(h)}},"focus.selectBoxIt":function(p,n){var o=d(this).data("mdown");d(this).removeData("mdown");if(!o&&!n){setTimeout(function(){g.triggerEvent("tab-focus")},0)}if(!n){if(!d(this).hasClass(g.theme.disabled)){d(this).addClass(h)}g.triggerEvent("focus")}},"keydown.selectBoxIt":function(o){var p=g._keyMappings[o.keyCode],n=g._keydownMethods()[p];if(n){n();if(g.options.keydownOpen&&(p==="up"||p==="down")){g.open()}}if(n&&p!=="tab"){o.preventDefault()}},"keypress.selectBoxIt":function(p){var q=p.charCode||p.keyCode,o=g._keyMappings[p.charCode||p.keyCode],n=String.fromCharCode(q);if(g.search&&(!o||(o&&o==="space"))){g.search(n,true,true)}if(o==="space"){p.preventDefault()}},"mouseenter.selectBoxIt":function(){g.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){g.triggerEvent("mouseleave")}});g.list.on({"mouseover.selectBoxIt":function(){g.blur=false},"mouseout.selectBoxIt":function(){g.blur=true},"focusin.selectBoxIt":function(){g.dropdown.trigger("focus",true)}});g.list.on({"mousedown.selectBoxIt":function(){g._update(d(this));g.triggerEvent("option-click");if(d(this).attr("data-disabled")==="false"&&d(this).attr("data-preventclose")!=="true"){g.close()}setTimeout(function(){g.dropdown.trigger("focus",true)},0)},"focusin.selectBoxIt":function(){g.listItems.not(d(this)).removeAttr("data-active");d(this).attr("data-active","");var n=g.list.is(":hidden");if((g.options.searchWhenHidden&&n)||g.options.aggressiveChange||(n&&g.options.selectWhenHidden)){g._update(d(this))}d(this).addClass(h)},"mouseup.selectBoxIt":function(){if(l&&!i){g._update(d(this));g.triggerEvent("option-mouseup");if(d(this).attr("data-disabled")==="false"&&d(this).attr("data-preventclose")!=="true"){g.close()}}},"mouseenter.selectBoxIt":function(){if(d(this).attr("data-disabled")==="false"){g.listItems.removeAttr("data-active");d(this).addClass(h).attr("data-active","");g.listItems.not(d(this)).removeClass(h);d(this).addClass(h);g.currentFocus=+d(this).attr("id")}},"mouseleave.selectBoxIt":function(){if(d(this).attr("data-disabled")==="false"){g.listItems.not(d(this)).removeClass(h).removeAttr("data-active");d(this).addClass(h);g.currentFocus=+d(this).attr("id")}},"blur.selectBoxIt":function(){d(this).removeClass(h)}},".selectboxit-option");g.list.on({"click.selectBoxIt":function(n){n.preventDefault()}},"a");g.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(q,n){var p,o;if(!n){p=g.list.find('li[data-val="'+g.originalElem.value+'"]');if(p.length){g.listItems.eq(g.currentFocus).removeClass(g.focusClass);g.currentFocus=+p.attr("id")}}p=g.listItems.eq(g.currentFocus);o=p.attr("data-selectedtext");f=p.attr("data-text");k=f?f:p.find("a").text();g._setText(g.dropdownText,o||k);g.dropdownText.attr("data-val",g.originalElem.value);if(p.find("i").attr("class")){g.dropdownImage.attr("class",p.find("i").attr("class")).addClass("selectboxit-default-icon");g.dropdownImage.attr("style",p.find("i").attr("style"))}g.triggerEvent("changed")},"disable.selectBoxIt":function(){g.dropdown.addClass(g.theme.disabled)},"enable.selectBoxIt":function(){g.dropdown.removeClass(g.theme.disabled)},"open.selectBoxIt":function(){var n=g.list.find("li[data-val='"+g.dropdownText.attr("data-val")+"']"),o;if(!n.length){n=g.listItems.not("[data-disabled=true]").first()}g.currentFocus=+n.attr("id");o=g.listItems.eq(g.currentFocus);g.dropdown.addClass(j).removeClass(m).addClass(h);g.listItems.removeClass(g.selectedClass).removeAttr("data-active").not(o).removeClass(h);o.addClass(g.selectedClass).addClass(h);if(g.options.hideCurrent){g.listItems.show();o.hide()}},"close.selectBoxIt":function(){g.dropdown.removeClass(j)},"blur.selectBoxIt":function(){g.dropdown.removeClass(h)},"mouseenter.selectBoxIt":function(){if(!d(this).hasClass(g.theme.disabled)){g.dropdown.addClass(m)}},"mouseleave.selectBoxIt":function(){g.dropdown.removeClass(m)},destroy:function(n){n.preventDefault();n.stopPropagation()}});return g},_update:function(k){var g=this,i,f,l,h=g.options.defaultText||g.selectBox.attr("data-text"),j=g.listItems.eq(g.currentFocus);if(k.attr("data-disabled")==="false"){i=g.listItems.eq(g.currentFocus).attr("data-selectedtext");f=j.attr("data-text");l=f?f:j.text();if((h&&g.options.html?g.dropdownText.html()===h:g.dropdownText.text()===h)&&g.selectBox.val()===k.attr("data-val")){g.triggerEvent("change")}else{g.selectBox.val(k.attr("data-val"));g.currentFocus=+k.attr("id");if(g.originalElem.value!==g.dropdownText.attr("data-val")){g.triggerEvent("change")}}}},_addClasses:function(f){var l=this,n=l.focusClass=f.focus,h=l.hoverClass=f.hover,j=f.button,m=f.list,i=f.arrow,k=f.container,g=l.openClass=f.open;l.selectedClass="selectboxit-selected";l.downArrow.addClass(l.selectBox.attr("data-downarrow")||l.options.downArrowIcon||i);l.dropdownContainer.addClass(k);l.dropdown.addClass(j);l.list.addClass(m);return l},refresh:function(h,f){var g=this;g._destroySelectBoxIt()._create(true);if(!f){g.triggerEvent("refresh")}g._callbackSupport(h);return g},htmlEscape:function(f){return String(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(h){var g=this,f=g.options.showFirstOption?g.currentFocus:((g.currentFocus-1)>=0?g.currentFocus:0);g.selectBox.trigger(h,{selectbox:g.selectBox,selectboxOption:g.selectItems.eq(f),dropdown:g.dropdown,dropdownOption:g.listItems.eq(g.currentFocus)});return g},_copyAttributes:function(){var f=this;if(f._addSelectBoxAttributes){f._addSelectBoxAttributes()}return f},_realOuterWidth:function(g){if(g.is(":visible")){return g.outerWidth(true)}var f=this,i=g.clone(),h;i.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body");h=i.outerWidth(true);i.remove();return h}});var a=d.selectBox.selectBoxIt.prototype;a._ariaAccessibility=function(){var f=this,g=d("label[for='"+f.originalElem.id+"']");f.dropdownContainer.attr({role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false","aria-owns":f.list[0].id});f.dropdownText.attr({"aria-live":"polite"});f.dropdown.on({"disable.selectBoxIt":function(){f.dropdownContainer.attr("aria-disabled","true")},"enable.selectBoxIt":function(){f.dropdownContainer.attr("aria-disabled","false")}});if(g.length){f.dropdownContainer.attr("aria-labelledby",g[0].id)}f.list.attr({role:"listbox","aria-hidden":"true"});f.listItems.attr({role:"option"});f.selectBox.on({"open.selectBoxIt":function(){f.list.attr("aria-hidden","false");f.dropdownContainer.attr("aria-expanded","true")},"close.selectBoxIt":function(){f.list.attr("aria-hidden","true");f.dropdownContainer.attr("aria-expanded","false")}});return f};a._addSelectBoxAttributes=function(){var f=this;f._addAttributes(f.selectBox.prop("attributes"),f.dropdown);f.selectItems.each(function(g){f._addAttributes(d(this).prop("attributes"),f.listItems.eq(g))});return f};a._addAttributes=function(f,i){var g=this,h=g.options.copyAttributes;if(f.length){d.each(f,function(j,l){var k=(l.name).toLowerCase(),m=l.value;if(m!=="null"&&(d.inArray(k,h)!==-1||k.indexOf("data")!==-1)){i.attr(k,m)}})}return g};a.destroy=function(g){var f=this;f._destroySelectBoxIt();f.widgetProto.destroy.call(f);f._callbackSupport(g);return f};a._destroySelectBoxIt=function(){var f=this;f.dropdown.off(".selectBoxIt");if(d.contains(f.dropdownContainer[0],f.originalElem)){f.dropdownContainer.before(f.selectBox)}f.dropdownContainer.remove();f.selectBox.removeAttr("style").attr("style",f.selectBoxStyles);f.selectBox.show();f.triggerEvent("destroy");return f};a.disable=function(g){var f=this;if(!f.options.disabled){f.close();f.selectBox.attr("disabled","disabled");f.dropdown.removeAttr("tabindex").removeClass(f.theme.enabled).addClass(f.theme.disabled);f.setOption("disabled",true);f.triggerEvent("disable")}f._callbackSupport(g);return f};a.disableOption=function(h,l){var g=this,i,k,f,j=d.type(h);if(j==="number"){g.close();i=g.selectBox.find("option").eq(h);g.triggerEvent("disable-option");i.attr("disabled","disabled");g.listItems.eq(h).attr("data-disabled","true").addClass(g.theme.disabled);if(g.currentFocus===h){k=g.listItems.eq(g.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;f=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(k){g.moveDown()}else{if(f){g.moveUp()}else{g.disable()}}}}g._callbackSupport(l);return g};a._isDisabled=function(g){var f=this;if(f.originalElem.disabled){f.disable()}return f};a._dynamicPositioning=function(){var o=this;if(d.type(o.listSize)==="number"){o.list.css("max-height",o.maxHeight||"none")}else{var j=o.dropdown.offset().top,g=o.list.data("max-height")||o.list.outerHeight(),k=o.dropdown.outerHeight(),m=o.options.viewport,i=m.height(),f=d.isWindow(m.get(0))?m.scrollTop():m.offset().top,p=(j+k+g<=i+f),l=!p;if(!o.list.data("max-height")){o.list.data("max-height",o.list.outerHeight())}if(!l){o.list.css("max-height",g);o.list.css("top","auto")}else{if((o.dropdown.offset().top-f)>=g){o.list.css("max-height",g);o.list.css("top",(o.dropdown.position().top-o.list.outerHeight()))}else{var h=Math.abs((j+k+g)-(i+f)),n=Math.abs((o.dropdown.offset().top-f)-g);if(h<n){o.list.css("max-height",g-h-(k/2));o.list.css("top","auto")}else{o.list.css("max-height",g-n-(k/2));o.list.css("top",(o.dropdown.position().top-o.list.outerHeight()))}}}}return o};a.enable=function(g){var f=this;if(f.options.disabled){f.triggerEvent("enable");f.selectBox.removeAttr("disabled");f.dropdown.attr("tabindex",0).removeClass(f.theme.disabled).addClass(f.theme.enabled);f.setOption("disabled",false);f._callbackSupport(g)}return f};a.enableOption=function(i,m){var h=this,j,g=0,l,f,k=d.type(i);if(k==="number"){j=h.selectBox.find("option").eq(i);h.triggerEvent("enable-option");j.removeAttr("disabled");h.listItems.eq(i).attr("data-disabled","false").removeClass(h.theme.disabled)}h._callbackSupport(m);return h};a.moveDown=function(i){var f=this;f.currentFocus+=1;var g=f.listItems.eq(f.currentFocus).attr("data-disabled")==="true"?true:false,h=f.listItems.eq(f.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(f.currentFocus===f.listItems.length){f.currentFocus-=1}else{if(g&&h){f.listItems.eq(f.currentFocus-1).blur();f.moveDown();return}else{if(g&&!h){f.currentFocus-=1}else{f.listItems.eq(f.currentFocus-1).blur().end().eq(f.currentFocus).focusin();f._scrollToView("down");f.triggerEvent("moveDown")}}}f._callbackSupport(i);return f};a.moveUp=function(i){var g=this;g.currentFocus-=1;var h=g.listItems.eq(g.currentFocus).attr("data-disabled")==="true"?true:false,f=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(g.currentFocus===-1){g.currentFocus+=1}else{if(h&&f){g.listItems.eq(g.currentFocus+1).blur();g.moveUp();return}else{if(h&&!f){g.currentFocus+=1}else{g.listItems.eq(this.currentFocus+1).blur().end().eq(g.currentFocus).focusin();g._scrollToView("up");g.triggerEvent("moveUp")}}}g._callbackSupport(i);return g};a._setCurrentSearchOption=function(g){var f=this;if((f.options.aggressiveChange||f.options.selectWhenHidden||f.listItems.eq(g).is(":visible"))&&f.listItems.eq(g).data("disabled")!==true){f.listItems.eq(f.currentFocus).blur();f.currentIndex=g;f.currentFocus=g;f.listItems.eq(f.currentFocus).focusin();f._scrollToView("search");f.triggerEvent("search")}return f};a._searchAlgorithm=function(k,j){var o=this,f=false,n,l,h,i,g=o.textArray,m=o.currentText;for(n=k,h=g.length;n<h;n+=1){i=g[n];for(l=0;l<h;l+=1){if(g[l].search(j)!==-1){f=true;l=h}}if(!f){o.currentText=o.currentText.charAt(o.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0");m=o.currentText}j=new RegExp(m,"gi");if(m.length<3){j=new RegExp(m.charAt(0),"gi");if((i.charAt(0).search(j)!==-1)){o._setCurrentSearchOption(n);if((i.substring(0,m.length).toLowerCase()!==m.toLowerCase())||o.options.similarSearch){o.currentIndex+=1}return false}}else{if((i.search(j)!==-1)){o._setCurrentSearchOption(n);return false}}if(i.toLowerCase()===o.currentText.toLowerCase()){o._setCurrentSearchOption(n);o.currentText="";return false}}return true};a.search=function(g,j,i){var f=this;if(i){f.currentText+=g.replace(/[|()\[{.+*?$\\]/g,"\\$0")}else{f.currentText=g.replace(/[|()\[{.+*?$\\]/g,"\\$0")}var h=f._searchAlgorithm(f.currentIndex,new RegExp(f.currentText,"gi"));if(h){f._searchAlgorithm(0,f.currentText)}f._callbackSupport(j);return f};a._applyNativeSelect=function(){var g=this,h,f,i;g.dropdownContainer.append(g.selectBox);g.dropdown.attr("tabindex","-1");g.selectBox.css({display:"block",visibility:"visible",width:g.dropdown.outerWidth(),height:g.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"999999",margin:g.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"}).on({"changed.selectBoxIt":function(){h=g.selectBox.find("option").filter(":selected");f=h.attr("data-text");i=f?f:h.text();g._setText(g.dropdownText,i);if(g.list.find('li[data-val="'+h.val()+'"]').find("i").attr("class")){g.dropdownImage.attr("class",g.list.find('li[data-val="'+h.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")}g.triggerEvent("option-click")}})};a._mobile=function(g){var f=this;if(f.isMobile){f._applyNativeSelect()}return this};a.selectOption=function(h,i){var f=this,g=d.type(h);if(g==="number"){f.selectBox.val(f.selectItems.eq(h).val()).change()}else{if(g==="string"){f.selectBox.val(h).change()}}f._callbackSupport(i);return f};a.setOption=function(g,h,i){var f=this;if(d.type(g)==="string"){f.options[g]=h}f.refresh(function(){f._callbackSupport(i)},true);return f};a.setOptions=function(g,h){var f=this;if(d.isPlainObject(g)){f.options=d.extend({},f.options,g)}f.refresh(function(){f._callbackSupport(h)},true);return f};a.wait=function(g,h){var f=this;f.widgetProto._delay.call(f,h,g);return f};a.add=function(f,g){this._populate(f,function(l){var p=this,m=d.type(l),o,n=0,k,i=[],j=p._isJSON(l),h=j&&p._parseJSON(l);if(l&&(m==="array"||(j&&h.data&&d.type(h.data)==="array"))||(m==="object"&&l.data&&d.type(l.data)==="array")){if(p._isJSON(l)){l=h}if(l.data){l=l.data}for(k=l.length;n<=k-1;n+=1){o=l[n];if(d.isPlainObject(o)){i.push(d("<option/>",o))}else{if(d.type(o)==="string"){i.push(d("<option/>",{text:o,value:o}))}}}p.selectBox.append(i)}else{if(l&&m==="string"&&!p._isJSON(l)){p.selectBox.append(l)}else{if(l&&m==="object"){p.selectBox.append(d("<option/>",l))}else{if(l&&p._isJSON(l)&&d.isPlainObject(p._parseJSON(l))){p.selectBox.append(d("<option/>",p._parseJSON(l)))}}}}if(p.dropdown){p.refresh(function(){p._callbackSupport(g)},true)}else{p._callbackSupport(g)}return p})};a._parseJSON=function(f){return(JSON&&JSON.parse&&JSON.parse(f))||d.parseJSON(f)};a._isJSON=function(h){var f=this,g;try{g=f._parseJSON(h);return true}catch(i){return false}};a._populate=function(g,h){var f=this;g=d.isFunction(g)?g.call():g;if(f.isDeferred(g)){g.done(function(i){h.call(f,i)})}else{h.call(f,g)}return f};a.remove=function(j,m){var i=this,h=d.type(j),k,f=0,l,g="";if(h==="array"){for(l=j.length;f<=l-1;f+=1){k=j[f];if(d.type(k)==="number"){if(g.length){g+=", option:eq("+k+")"}else{g+="option:eq("+k+")"}}}i.selectBox.find(g).remove()}else{if(h==="number"){i.selectBox.find("option").eq(j).remove()}else{i.selectBox.find("option").remove()}}if(i.dropdown){i.refresh(function(){i._callbackSupport(m)},true)}else{i._callbackSupport(m)}return i}}));(function(a){var b={labeledClass:"gt-inline-label",withContentClass:"gt-with-content",dataName:"defaultVal",getText:function(d){var c=jQuery("label[for="+d.attr("name")+"]:eq(0)",d.parents("form"));if(c.size()){return c.hide().text()}else{return null}}};a.fn.GT_inlineLabels=function(c){return this.each(function(){var f=a.extend(true,{},b,c),e=a(this),d=f.getText(e);e.addClass(f.labeledClass);if(d){e.data("defaultVal",d);if(e.val()==""){e.val(d)}else{if(e.val()!==d){e.addClass(f.withContentClass)}}e.bind("focus",function(){var g=a(this);if(g.val()==d){g.addClass(f.withContentClass).val("")}}).bind("blur",function(){var g=a(this);if(g.val()==""){g.removeClass(f.withContentClass).val(d)}});e.parents("form").bind("submit",function(){if(e.val()==d){e.val("")}})}})}})(jQuery);
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(e){var a=/\+/g;function d(g){return g}function b(g){return decodeURIComponent(g.replace(a," "))}function f(g){if(g.indexOf('"')===0){g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return c.json?JSON.parse(g):g}catch(h){}}var c=e.cookie=function(p,o,u){if(o!==undefined){u=e.extend({},c.defaults,u);if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date();s.setDate(s.getDate()+q)}o=c.json?JSON.stringify(o):String(o);return(document.cookie=[c.raw?p:encodeURIComponent(p),"=",c.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join(""))}var g=c.raw?d:b;var r=document.cookie.split("; ");var v=p?undefined:{};for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");var h=g(m.shift());var j=g(m.join("="));if(p&&p===h){v=f(j);break}if(!p){v[h]=f(j)}}return v};c.defaults={};e.removeCookie=function(h,g){if(e.cookie(h)!==undefined){e.cookie(h,"",e.extend({},g,{expires:-1}));return true}return false}}));var autocomplete_cache_prev_search_listings={},autocomplete_cache_prev_search_properties={},autocomplete_cache_prev_search_askme={},autocomplete_cache_geo_listings={},autocomplete_cache_geo_properties={},autocomplete_cache_geo_askme={},last_autocomplete_xhr;var autocomplete_is_hover_select=false;$(document).on("keydown",".geo_autocomplete",function(a){if(!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&!a.altKey&&a.keyCode!=13&&a.keyCode!=9&&a.keyCode!=37&&a.keyCode!=38&&a.keyCode!=39&&a.keyCode!=40){$(".geo_autocomplete_identifier",$("input:focus").closest("form")).val("")}$(this).autocomplete({source:function(h,f){var n=geoAutocompleteNormaliseSearchTerm(h.term);if(n.length<1){return}var d=n;var k=$('input[name="section"]:checked',$("input:focus").closest("form")).val()||$('input[name="section"]',$("input:focus").closest("form")).val()||$(".geo_autocomplete_identifier").attr("data-section");if(k==="holiday"){return}var m;var c;var e;if(k=="home-values"||k=="house-prices"){m="properties";c=autocomplete_cache_prev_search_properties;e=autocomplete_cache_geo_properties}else{if(k=="askme"){m="askme";c=autocomplete_cache_prev_search_askme;e=autocomplete_cache_geo_askme}else{m="listings";c=autocomplete_cache_prev_search_listings;e=autocomplete_cache_geo_listings}}var j="";if(m==="properties"){var b=/^(flat ?(\d+|\d+[a-z]|[a-z]) )?\d+[a-z]? /;var l=b.exec(d);if(l){d=d.replace(b,"");j=l[0];if(!d){return}}}var i=[];var g=[];if(n in c){i=c[n];g=e[d];geoAutocompleteSetSearchResponse(f,i,g,m,j);return}i=geoAutocompleteGetDerivedSuggestions(c,n,10);g=i?geoAutocompleteGetDerivedSuggestions(e,d,10):undefined;if(i&&g){i=geoAutocompleteHighlightValues(i,n);g=geoAutocompleteHighlightValues(g,d);c[n]=i;e[d]=g;geoAutocompleteSetSearchResponse(f,i,g,m,j);return}last_autocomplete_xhr=$.getJSON("/ajax/search/geo_autocomplete/",{prev_search_term:n,geo_search_term:d,search_type:m},function(p,o,q){i=geoAutocompleteHighlightValues(p.p||[],n);g=$.map(p.g||[],function(s){var t=new RegExp(" \\[(.*)\\]$");var r=t.exec(s.v);if(r){s.v=s.v.replace(t,"");s.s=r[1]}return s});g=geoAutocompleteHighlightValues(g,d);c[n]=i;e[d]=g;if(q==last_autocomplete_xhr){geoAutocompleteSetSearchResponse(f,i,g,m,j)}})},select:function(b,d){var c=(!b.keyCode&&!b.button);if(c==false&&(b.keyCode==9||(autocomplete_is_hover_select==true&&typeof b.keyCode!="undefined"&&b.keyCode!=0))){b.preventDefault()}else{if($("body").attr("data-ie")){}else{if($(b.srcElement||b.target).hasClass("delete_autocomplete_suggestion")){return false}}$(".geo_autocomplete_identifier",$("input:focus").closest("form")).val(d.item.i);$(".geo_autocomplete",$("input:focus").closest("form")).val(d.item.v).change()}return false},focus:function(b,c){if(typeof b.keyCode==="undefined"||b.keyCode==0){autocomplete_is_hover_select=true}else{autocomplete_is_hover_select=false}return false},appendTo:$("#fancybox-content").is(":visible")?$("#fancybox-content"):$("body"),position:{my:"right top",at:"right bottom"},minLength:1,delay:5}).each(function(){$(this).data("autocomplete")._renderMenu=function(c,e){var b=e[0].prev_search_suggestions||[];var d=e[0].geo_suggestions||[];var f=e[0].search_type;$.each(b,function(g,h){geoAutocompleteRenderPrevSearchItem(c,h,f)});if(b.length&&d.length){c.append('<li id="autocomplete_suggestions_divider"></li>')}$.each(d,function(g,h){geoAutocompleteRenderGeoItem(c,h)});if($(".geo_autocomplete").attr("data-mobile")==="true"){for(x=0;x<20;x++){c.append('<li class="ui-autocomplete-placeholder"><span>&nbsp;</span></li>')}}}})});function geoAutocompleteRenderPrevSearchItem(a,b,c){return $('<li data-value="'+escape(b.v)+'"></li>').data("item.autocomplete",b).append("<a>"+b.l+"</a>").append('<span title="Delete suggestion" class="delete_autocomplete_suggestion" data-value="'+escape(b.v)+'" data-search-type="'+c+'">&times;</span>').addClass("previous_query_string").appendTo(a)}function geoAutocompleteRenderGeoItem(b,c){var a=$("<li></li>").data("item.autocomplete",c).append("<a>"+c.l+"</a>");if(c.c){$(a).addClass("geo-category-"+c.c)}$(a).appendTo(b);return a}function geoAutocompleteSetSearchResponse(b,a,c,e,d){if($(".geo_autocomplete",$("input:focus").closest("form")).val()&&(a&&a.length||c&&c.length)){if(d){d=d.toUpperCase().replace(/FLAT/,"Flat").replace(/^Flat (\S+) (\S+) $/,"Flat $1, $2 ");c=$.extend(true,[],c);$.map(c,function(f){f.l="<em>"+d+"</em>"+f.l;f.v=d+f.v})}b([{prev_search_suggestions:a,geo_suggestions:c,search_type:e}])}else{b([])}return}function geoAutocompleteGetDerivedSuggestions(b,e,g){var d=e.length-1;while(d>=1){var f=e.substr(0,d--);if(f in b){var a=b[f];if(a.length==0){return[]}else{if(a.length<g){a=$.extend(true,[],a);return $.grep(a,function(i){var k=geoAutocompleteNormaliseSearchTerm(i.v);var h="^"+geoAutocompleteApplyStreetTypeExpansions(e);var j=new RegExp(h);return j.test(k)})}else{var c=1;$.each(a,function(j,i){var l=geoAutocompleteNormaliseSearchTerm(i.v);var h="^"+geoAutocompleteApplyStreetTypeExpansions(e);var k=new RegExp(h);if(!k.test(l)){c=0;return false}});if(c){a=$.extend(true,[],a);return a}else{return}}}}}return}function geoAutocompleteApplyStreetTypeExpansions(a){return a.replace(/ st /g," st(reet)? ").replace(/ av /g," av(enue)? ").replace(/ ave /g," ave(nue)? ").replace(/ cl /g," cl(ose)? ").replace(/ cres /g," cres(cent)? ").replace(/ dr /g," dr(ive)? ").replace(/ pl /g," pl(ace)? ").replace(/ sq /g," sq(uare)? ").replace(/ st /g," st(reet)? ").replace(/ ct/g," (ct|court)").replace(/ ln/g," (ln|lane)").replace(/ rd/g," (rd|road)")}function geoAutocompleteHighlightValues(a,b){a=$.map(a,function(c){c.l=geoAutocompleteHighlightValue(c.v,b);if(c.s){if(c.v.length<=4){c.l='<span class="autocomplete_outcode">'+c.l+"</span>"}c.l+=" <s>"+c.s+"</s>"}return c});return a}function geoAutocompleteHighlightValue(d,a){a=geoAutocompleteApplyStreetTypeExpansions(a);a=a.replace(/ and /g," & ");a=a.replace(/(\w)/g,"'?$1");if(d.match(/^[A-Z]{1,2}[0-9][0-9A-Z]? [0-9][A-Z]{2}$/)){a=a.replace(/([a-z0-9])/g,"$1\\s?")}a=a.replace(/ /g,"[^A-Za-z0-9&]+");a=a.replace(/[^9]&/g,"(&|and)");var c="^("+a+")";var b=new RegExp(c,"i");return d.replace(b,"<em>$1</em>")}function geoAutocompleteNormaliseSearchTerm(a){return a.toLowerCase().replace(/^\s\s*/,"").replace(/'/g,"").replace(/&/g," and ").replace(/[^a-z0-9]+/g," ").replace(/\s\s+/g," ")}$(document).on("click",".delete_autocomplete_suggestion",function(b){var a=unescape($(this).attr("data-value")),d=unescape($(this).attr("data-search-type")),c=$(this).parent();$.get("/ajax/search/geo_autocomplete/delete_suggestion/",{previous_search_string:a,search_type:d},function(){var e=d==="listings"?autocomplete_cache_prev_search_listings:autocomplete_cache_prev_search_properties;$.each(e,function(g,f){f=$.grep(f,function(h){return h.v!=a});e[g]=f});if($("li.previous_query_string:visible").length==1){$("li#autocomplete_suggestions_divider").hide()}c.slideUp(200);if($("ul.ui-autocomplete li[role=menuitem]:visible").length<=1){$("ul.ui-autocomplete").slideUp(200)}});return false});var autocomplete_cache_prev_search_listings={},autocomplete_cache_geo_listings={},last_autocomplete_xhr;var autocomplete_is_hover_select=false;$(".overseas_geo_autocomplete").on("keydown",function(b){var a=this;if(!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey&&b.keyCode!=13&&b.keyCode!=9&&b.keyCode!=37&&b.keyCode!=38&&b.keyCode!=39&&b.keyCode!=40){$(".overseas_geo_autocomplete_identifier",$("input:focus").closest("form")).val("")}$(this).autocomplete({source:function(i,g){var k=overseasGeoAutocompleteNormaliseSearchTerm(i.term);if(k.length<1){return}var e=k;var d=$(a).closest("form").find('select[name="country_code"]').val();if(!d){return}var c,f;c=autocomplete_cache_prev_search_listings;f=autocomplete_cache_geo_listings;var j=[];var h=[];if(k in c){j=c[k];h=f[e];overseasGeoAutocompleteSetSearchResponse(g,j,h,d);return}j=overseasGeoAutocompleteGetDerivedSuggestions(c,k,10);h=j?overseasGeoAutocompleteGetDerivedSuggestions(f,e,10):undefined;if(j&&h){j=overseasGeoAutocompleteHighlightValues(j,k);h=overseasGeoAutocompleteHighlightValues(h,e);c[k]=j;f[e]=h;overseasGeoAutocompleteSetSearchResponse(g,j,h,d);return}last_autocomplete_xhr=$.getJSON("/ajax/search/overseas_geo_autocomplete/",{prev_search_term:k,geo_search_term:e,country_code:d},function(m,l,n){j=overseasGeoAutocompleteHighlightValues(m.p||[],k);h=$.map(m.g||[],function(p){var q=new RegExp(" \\[(.*)\\]$");var o=q.exec(p.v);if(o){p.v=p.v.replace(q,"");p.s=o[1]}return p});h=overseasGeoAutocompleteHighlightValues(h,e);c[k]=j;f[e]=h;if(n==last_autocomplete_xhr){overseasGeoAutocompleteSetSearchResponse(g,j,h,d)}})},select:function(c,e){var d=false;if(c.originalEvent.originalEvent.type=="click"){d=true}if(d==false&&(c.keyCode==9||(autocomplete_is_hover_select==true&&typeof c.keyCode!="undefined"&&c.keyCode!=0))){c.preventDefault()}else{$(".overseas_geo_autocomplete_identifier",$("input:focus").closest("form")).val(e.item.i);$(".overseas_geo_autocomplete",$("input:focus").closest("form")).val(e.item.v)}return false},focus:function(c,d){if(typeof c.keyCode==="undefined"||c.keyCode==0){autocomplete_is_hover_select=true}else{autocomplete_is_hover_select=false}return false},appendTo:$("#fancybox-content").is(":visible")?$("#fancybox-content"):$("body"),position:{my:"right top",at:"right bottom"},minLength:1,delay:5}).each(function(){$(this).data("autocomplete")._renderMenu=function(e,g){var c=g[0].prev_search_suggestions||[];var f=g[0].geo_suggestions||[];var d=g[0].country_code;$.each(c,function(h,i){overseasGeoAutocompleteRenderPrevSearchItem(e,i,d)});if(c.length&&f.length){e.append('<li id="autocomplete_suggestions_divider"></li>')}$.each(f,function(h,i){overseasGeoAutocompleteRenderGeoItem(e,i)});if($(".overseas_geo_autocomplete").attr("data-mobile")==="true"){for(x=0;x<20;x++){e.append('<li class="ui-autocomplete-placeholder"><span>&nbsp;</span></li>')}}}})});function overseasGeoAutocompleteRenderPrevSearchItem(b,c,a){return $('<li data-value="'+escape(c.v)+'"></li>').data("item.autocomplete",c).append("<a>"+c.l+"</a>").append('<span title="Delete suggestion" class="delete_autocomplete_suggestion" data-value="'+escape(c.v)+'" data-country-code="'+a+'">&times;</span>').addClass("previous_query_string").appendTo(b)}function overseasGeoAutocompleteRenderGeoItem(a,b){return $("<li></li>").data("item.autocomplete",b).append("<a>"+b.l+"</a>").appendTo(a)}function overseasGeoAutocompleteSetSearchResponse(b,a,d,c){if($(".overseas_geo_autocomplete",$("input:focus").closest("form")).val()&&(a&&a.length||d&&d.length)){b([{prev_search_suggestions:a,geo_suggestions:d,country_code:c}])}else{b([])}return}function overseasGeoAutocompleteGetDerivedSuggestions(b,e,g){var d=e.length-1;while(d>=1){var f=e.substr(0,d--);if(f in b){var a=b[f];if(a.length==0){return[]}else{if(a.length<g){a=$.extend(true,[],a);return $.grep(a,function(i){var k=overseasGeoAutocompleteNormaliseSearchTerm(i.v);var h="^"+e;var j=new RegExp(h);return j.test(k)})}else{var c=1;$.each(a,function(j,i){var l=overseasGeoAutocompleteNormaliseSearchTerm(i.v);var h="^"+e;var k=new RegExp(h);if(!k.test(l)){c=0;return false}});if(c){a=$.extend(true,[],a);return a}else{return}}}}}return}function overseasGeoAutocompleteHighlightValues(a,b){a=$.map(a,function(c){c.l=overseasGeoAutocompleteHighlightValue(c.v,b);if(c.s){if(c.v.length<=4){c.l='<span class="autocomplete_outcode">'+c.l+"</span>"}c.l+=" <s>"+c.s+"</s>"}return c});return a}function overseasGeoAutocompleteHighlightValue(d,a){a=a.replace(/ and /g," & ");a=a.replace(/(\w)/g,"'?$1");if(d.match(/^[A-Z]{1,2}[0-9][0-9A-Z]? [0-9][A-Z]{2}$/)){a=a.replace(/([a-z0-9])/g,"$1\\s?")}a=a.replace(/ /g,"[^A-Za-z0-9&]+");a=a.replace(/[^9]&/g,"(&|and)");var c="^("+a+")";var b=new RegExp(c,"i");return d.replace(b,"<em>$1</em>")}function overseasGeoAutocompleteNormaliseSearchTerm(a){return a.toLowerCase().replace(/^\s\s*/,"").replace(/'/g,"").replace(/&/g," and ").replace(/[^a-z0-9]+/g," ").replace(/\s\s+/g," ")}$(".delete_autocomplete_suggestion").on("click",function(c){var b=unescape($(this).attr("data-value"));var a=unescape($(this).attr("data-country-code"));var d=$(this).parent();$.get("/ajax/search/overseas_geo_autocomplete/delete_suggestion/",{previous_search_string:b,country_code:a},function(){var e=autocomplete_cache_prev_search_listings;$.each(e,function(g,f){f=$.grep(f,function(h){return h.v!=b});e[g]=f});if($("li.previous_query_string:visible").length==1){$("li#autocomplete_suggestions_divider").hide()}d.slideUp(200);if($("ul.ui-autocomplete li[role=menuitem]:visible").length<=1){$("ul.ui-autocomplete").slideUp(200)}});return false});var price_frequency=function(){if($("#price_frequency").val()=="per_month"){var c=$("#rent_price_min_per_week").val();var e=0;if(c){var g=undefined;var h=(c*52/12);$("#rent_price_min_per_month option").each(function(j,k){var l=Math.abs(h-$(k).val());if(l<g||g==undefined){e=j;g=l}})}var f=$("#rent_price_max_per_week").val();var b=0;if(f){var g=undefined;var a=(f*52/12);$("#rent_price_max_per_month option").each(function(j,k){var l=Math.abs(a-$(k).val());if(l<g||g==undefined){b=j;g=l}})}$("#rent_price_min_per_week,#rent_price_max_per_week").prop("disabled","disabled").addClass("none");$("#rent_price_min_per_month,#rent_price_max_per_month").prop("disabled","").removeClass("none");$("#rent_price_min_per_month").prop("selectedIndex",e);$("#rent_price_max_per_month").prop("selectedIndex",b)}else{var c=$("#rent_price_min_per_month").val();var e=0;if(c){var g=undefined;var d=(c/52*12);$("#rent_price_min_per_week option").each(function(j,k){var l=Math.abs(d-$(k).val());if(l<g||g==undefined){e=j;g=l}})}var f=$("#rent_price_max_per_month").val();var b=0;if(f){var g=undefined;var i=(f/52*12);$("#rent_price_max_per_week option").each(function(j,k){var l=Math.abs(i-$(k).val());if(l<g||g==undefined){b=j;g=l}})}$("#rent_price_min_per_week,#rent_price_max_per_week").prop("disabled","").removeClass("none");$("#rent_price_min_per_month,#rent_price_max_per_month").prop("disabled","disabled").addClass("none");$("#rent_price_min_per_week").prop("selectedIndex",e);$("#rent_price_max_per_week").prop("selectedIndex",b)}};$("#price_frequency").change(function(){price_frequency()});var floor_area_units=function(){if($("#floor_area_units").val()=="sq_metres"){var c=$("#floor_area_min_sq_feet").val();var e=0;if(c){var g=undefined;var h=(c*52/12);$("#floor_area_min_sq_metres option").each(function(j,k){var l=Math.abs(h-$(k).val());if(l<g||g==undefined){e=j;g=l}})}var f=$("#floor_area_max_sq_feet").val();var b=0;if(f){var g=undefined;var a=(f*52/12);$("#floor_area_max_sq_metres option").each(function(j,k){var l=Math.abs(a-$(k).val());if(l<g||g==undefined){b=j;g=l}})}$("#floor_area_min_sq_feet,#floor_area_max_sq_feet").prop("disabled","disabled").addClass("none");$("#floor_area_min_sq_metres,#floor_area_max_sq_metres").prop("disabled","").removeClass("none");$("#floor_area_min_sq_metres").prop("selectedIndex",e);$("#floor_area_max_sq_metres").prop("selectedIndex",b)}else{var c=$("#floor_area_min_sq_metres").val();var e=0;if(c){var g=undefined;var d=(c/52*12);$("#floor_area_min_sq_feet option").each(function(j,k){var l=Math.abs(d-$(k).val());if(l<g||g==undefined){e=j;g=l}})}var f=$("#floor_area_max_sq_metres").val();var b=0;if(f){var g=undefined;var i=(f/52*12);$("#floor_area_max_sq_feet option").each(function(j,k){var l=Math.abs(i-$(k).val());if(l<g||g==undefined){b=j;g=l}})}$("#floor_area_min_sq_feet,#floor_area_max_sq_feet").prop("disabled","").removeClass("none");$("#floor_area_min_sq_metres,#floor_area_max_sq_metres").prop("disabled","disabled").addClass("none");$("#floor_area_min_sq_feet").prop("selectedIndex",e);$("#floor_area_max_sq_feet").prop("selectedIndex",b)}};$("#floor_area_units").change(function(){floor_area_units()});ZPG.support={localStorage:function(){try{if("localStorage" in window&&window.localStorage!==null){var d="_testLocalStorage_",c=window.localStorage;try{c.setItem(d,"1");c.removeItem(d);return true}catch(a){return false}}}catch(b){return false}},sessionStorage:function(){try{if("localStorage" in window&&window.localStorage!==null){var d="_testSessionStorage_",c=window.sessionStorage;try{c.setItem(d,"1");c.removeItem(d);return true}catch(a){return false}}}catch(b){return false}}};ZPG.user_signin_register={init:function(){ZUS=ZPG.user_signin_register;$(document).on("click","#signin_forgotten_password",function(a){a.preventDefault();ZUS.forgot()});$(document).on("click","#signin_register_tab_register, #signin_register_tab_signin",function(){ZUS.tabs($(this))});$(document).on("change","#register_heard_about_us",function(){ZUS.heard($(this))});$(document).on("keyup","#register_username",function(){ZUS.username($(this))})},tabs:function(d){var b="ui-tabs-active",a="ui-tabs-hide",e=d.attr("data-tab"),c;if(e==="signin"){c="register"}else{c="signin"}d.closest(".ui-tabs").find("."+b).removeClass(b);d.parent().addClass("ui-tabs-active");$("#signin_register_section_"+c).addClass(a);$("#signin_register_section_"+e).removeClass(a);$("#"+e+"_email").focus()},forgot:function(){window.location="/signin/forgot/?f_email="+encodeURIComponent($("#signin_email").val())},heard:function(b){var a=$("#register_how_other");if(b.attr("value")=="other"){a.fadeIn("slow")}else{a.fadeOut("slow")}},username:function(f){var e,g=f.val(),c=$("#username_availability"),d=$("#username_availability_message"),a="/ajax/register/check_username",b="username="+g;f.val(function(j,h){return h.replace(/ /g,"")});if(e){e.abort()}if(g.length<5||g.length>20){if(g.length<5){d.html("Username must be unique, e.g. peter123.");c.removeClass()}else{c.removeClass("available").addClass("unavailable")}return}e=$.ajax({type:"GET",url:a,data:b,dataType:"json",success:function(h){if(h.belongs_to_user!=null){c.removeClass("available").removeClass("unavailable");d.html(h.message)}else{if(h.success!=null){c.addClass("available").removeClass("unavailable");d.html(h.message)}else{c.addClass("unavailable").removeClass("available");d.html(h.message)}}},error:function(){c.removeClass("available").removeClass("unavailable")}})}};ZPG.user_alerts=function(a){var b={options:$.extend({action:"",href:"",isAlert:false,isAlertModified:false,pageSize:"",view:"list"},a),init:function(d,c){data=getSearchOptions();data.view_type=b.options.view;b._mapPolygon();if(d==="create"){b._create(c)}else{b._modify(c)}},_create:function(c){delete data.section;data.page_size=b.options.pageSize;c=ZPG.util.appendParams(c,data);$.fancybox({href:c,titleShow:false,type:"ajax"})},_modify:function(c){$.ajax({url:c,type:"POST",data:data,success:function(d){b.options.isAlertModified=false;b._updateUI();if(d.javascript){$.globalEval(d.javascript)}}})},_mapPolygon:function(){if(b.options.view==="map"&&isUserPolygon){var c=map.getPolygons();if(!c.length){if(fancybox){$.fancybox({content:"You need a defined search area to perform this action."})}return false}data.q=$('input[name="orig_q"]').attr("value")}},searchAlertUpdated:function(){if(b.options.isAlert){b.options.isAlertModified=true}b._updateUI()},_updateUI:function(){if(b.options.isAlert){var e=$("#alerts-saved"),d=$("#alerts-modified"),f=$("#listings-tabs li:eq(2) a").attr("href"),c=$("#alerts-map");if(b.options.isAlertModified){d.css("display","block");e.css("display","none")}else{d.css("display","none");e.css("display","block").delay(2000).fadeOut(200);c.attr("href",f)}}}};return{init:b.init,searchAlertUpdated:b.searchAlertUpdated}};ZPG.user_favourites={init:function(){ZUF=ZPG.user_favourites;$(document).on("click","a[data-favourite-action]",function(){ZUF.$this=$(this);ZUF.user=ZUF.$this.attr("data-favourite-user");ZUF.data=ZUF.$this.attr("data-favourite-id");ZUF.type=ZUF.$this.attr("data-favourite-type");ZUF.action=ZUF.$this.attr("data-favourite-action");ZUF.url="/myaccount/favourites/"+((ZUF.type=="listings")?"listings":"home-values")+"/"+ZUF.action+"/"+ZUF.data;if(ZUF.action=="add"){ZUF.add()}else{ZUF.remove()}return false})},add:function(){if(ZUF.user==1){$.ajax({url:ZUF.url,data:ZUF.data});var a=ZUF.$this.find("span").html(),b=ZUF.$this.attr("data-fav-copy");ZUF.$this.attr("data-favourite-action","remove").attr("data-fav-copy",a).addClass("favourite-saved").find("span").html(b)}else{ZUF.$this.addClass("favourite-current");$.fancybox({href:ZUF.$this.attr("data-href")})}},remove:function(){$.ajax({url:ZUF.url,data:ZUF.data});var a=ZUF.$this.find("span").html(),b=ZUF.$this.attr("data-fav-copy");ZUF.$this.attr("data-favourite-action","add").attr("data-fav-copy",a).removeClass("favourite-saved").find("span").html(b)}};ZPG.user_notes=(function(){var a={init:function(b){a.config=$.extend({char_limit:1000,truncate:150},b);a.controls=$.extend({button:$("<button></button>").addClass("btn btn-sm"),btnSave:$('<button class="save btn btn-sm btn-default">Save</button>'),btnCancel:$('<button class="cancel btn btn-sm btn-link">Cancel</button>'),btnEdit:$('<button class="edit btn btn-sm btn-link">Edit</button>'),btnDelete:$('<button class="delete btn btn-sm btn-link">Delete</button>'),btnMore:$('<button class="showmore btn btn-sm btn-link fleft none">Show more</button>')});$(".listing-note textarea").css("overflow","hidden").autogrow();$(document).on("keyup",".listing-note textarea",function(){var e=$(this),f=e.parent().find("button.save"),d=e.parent().find("button.cancel"),c=a.config.char_limit;if(e.val().length>0){f.prop("disabled",false);d.prop("disabled",false)}else{f.prop("disabled",true);d.prop("disabled",true)}if(e.val().length>c){e.val(e.val().substr(0,c))}});$(document).on("click",".listing-note > a",function(c){c.preventDefault();ZPG.user_notes.togglePane($(this))});$(document).on("click",".listing-note button.delete",function(c){c.preventDefault();ZPG.user_notes.noteDelete($(this))});$(document).on("click",".listing-note button.save",function(c){c.preventDefault();ZPG.user_notes.noteSave($(this))});$(document).on("click",".listing-note button.cancel",function(c){c.preventDefault();ZPG.user_notes.noteCancel($(this))});$(document).on("click",".listing-note button.edit",function(c){c.preventDefault();ZPG.user_notes.noteEdit($(this))});$(document).on("click",".listing-note button.showmore",function(c){c.preventDefault();ZPG.user_notes.toggleText($(this))})},togglePane:function(d){var c=d.find(".icon-arrow .icon"),b=d.siblings(".note-container");if(b.is(":hidden")){c.addClass("icon-up-open");c.removeClass("icon-down-open");b.show()}else{c.removeClass("icon-up-open");c.addClass("icon-down-open");b.hide()}},toggleText:function(f){var c=f.parents(".listing-note"),b=c.find("p span"),e=c.find(".note-control .showmore"),d=c.find(".ellipsis");if(b.is(":hidden")){e.text("Show less");b.show();d.hide()}else{e.text("Show more");b.hide();d.show()}},noteEdit:function(b){var d=b.parents(".listing-note"),c=d.find("p");a._makeEditable(c)},noteCancel:function(e){var c=e.parents(".listing-note"),d=c.find("p"),b=c.find("textarea");if(c.data("note-id")>0){a._makeControlEdit(d);d.show();b.next("div").remove();b.remove()}else{b.val("").trigger("keyup");a._makeControlSave(d)}},noteSave:function(m){var c="/ajax/user/update_listing_note";var d=m.parents(".listing-note"),b=d.data("note-id"),g=d.data("listing-id"),i=d.data("section"),l=d.find("a"),f=d.find("p"),h=d.find("textarea"),j=d.find(".note-control"),k=d.find(".see-all");var e={note:h.val(),listing_id:g,section:i};m.prop("disabled",true);if(typeof(b)!="undefined"){e.note_id=b}$.getJSON(c,e,function(n){if(n&&n.success){if(d.data("note-id")>0){a._makeControlEdit(f);f.html(a._truncateNote(h)).show()}else{d.data("note-id",n.success);a._toggleTitle(l);h.after("<p>"+a._truncateNote(h)+"</p>");a._makeControlEdit(h);f=d.find("p")}if(f.text().length<a.config.truncate){j.find(".showmore").hide()}else{j.find(".showmore").show()}h.next("div").remove();h.remove();k.show()}})},noteDelete:function(m){var c="/ajax/user/delete_listing_note";var d=m.parents(".listing-note"),l=d.find("a"),g=d.find("p"),e=d.find(".date"),h=d.find("textarea"),i=d.find(".note-control"),j=d.parents("li:eq(0)"),b=d.data("note-id");seeAll=d.find(".see-all");if(typeof(b)!="undefined"){var f={note_id:b};var k=$('<div class="dialog-confirm" title="Delete note?"></div>');k.html("<p>Are you sure you want to delete this note?</p>");k.dialog({resizable:false,draggable:false,modal:true,minHeight:80,buttons:[{text:"OK","class":"btn btn-sm btn-default",click:function(){$.getJSON(c,f,function(n){if(n&&n.success){d.data("note-id","");a._toggleTitle(l);e.remove();h.val("testing");g.html("");a._makeEditable(g);a._makeControlSave(g);g.remove();l.trigger("click");seeAll.hide()}}).fail(function(){e.remove();i.remove();g.html("An unexpected error has occured while trying to delete your note. Please try again soon.").addClass("error");setTimeout(function(){j.slideUp(function(){$(this).remove()})},3000)});$(this).dialog("close")}},{text:"Cancel","class":"btn btn-sm btn-link fleft",click:function(){$(this).dialog("close")}}]})}},_makeEditable:function(b){var c=$("<textarea></textarea>");c.html(b.text());b.after(c);b.hide();c.css("overflow","hidden").autogrow();c.focus();a._makeControlSave(b)},_makeControlEdit:function(c){var b=c.siblings(".note-control");return b.html(a.controls.btnDelete.clone()).append(a.controls.btnEdit.clone()).append(a.controls.btnMore.clone())},_makeControlSave:function(c){var b=c.siblings(".note-control");return b.html(a.controls.btnCancel.clone()).append(a.controls.btnSave.clone())},_toggleTitle:function(c){var b=c.find(".icon-text"),d=c.find(".icon").eq(0);if(b.text()==="Note added"){b.text("Add a note");d.removeClass("icon-doc-text");d.addClass("icon-doc")}else{b.text("Note added");d.removeClass("icon-doc");d.addClass("icon-doc-text")}},_truncateNote:function(c){var b=c.val(),d=a.config.truncate;b=b.replace(/(?:\r\n|\r|\n)/g,"\n<br />");if(b.length>=150){return b.substring(0,150)+'<span class="none">'+b.substring(150)+'</span><i class="ellipsis"></i>'}else{return b}}};return{init:a.init,togglePane:a.togglePane,toggleText:a.toggleText,noteDelete:a.noteDelete,noteSave:a.noteSave,noteCancel:a.noteCancel,noteEdit:a.noteEdit}})();ZPG.user_hide_listing=(function(){var a={init:function(b){a.options=$.extend({hiddenInPage:[]},b);a.sessionStorageIsSupported=ZPG.support.sessionStorage();if(a.sessionStorageIsSupported){a.session=window.sessionStorage;if(typeof a.options.searchIdentifier!=="undefined"){if(a.options.searchIdentifier!==a.session.getItem("search_identifier")){a.session.removeItem("listings_hide");a.session.removeItem("listings_unhide");a.session.setItem("search_identifier",a.options.searchIdentifier)}}}a.data={};a.listings_unhide=[];a.listings_hide=[];a._getListings("hide",a.listings_hide);a._getListings("unhide",a.listings_unhide);if(a.options.placement==="results"){a._updateResultsUI()}else{if(a.options.placement==="details"){a._updateDetailsUI()}}},_compareOriginal:function(){if(!a.options.hiddenInPage.length){return false}var h={};for(var d in a.options.hiddenInPage){h[a.options.hiddenInPage[d]]=a.options.hiddenInPage[d]}for(var e in a.listings_unhide){if(typeof h[a.listings_unhide[e]]!="undefined"){var b=$("#listing_"+a.listings_unhide[e]),f="unhide",g=0;ZPG.user_hide_listing.updateResultsListUI(b,f,g);b.find("[data-hidden]").attr("data-hidden","false");b.find(".js-hide-listing-copy").html("Hide")}}for(var e in a.listings_hide){if(typeof h[a.listings_hide[e]]!="undefined"){var c=$.inArray(h[a.listings_hide[e]],a.listings_hide);if(c>-1){a.listings_hide.splice(c,1);a.session.setItem("listings_hide",JSON.stringify(a.listings_hide))}}}},toggle:function(b){a.$el=b;a.isHidden=a.$el.attr("data-hidden");a.listingId=a.$el.attr("data-listing-id");if(a.isHidden==="false"){a._hide()}else{a._unhide()}},_hide:function(){var b="/ajax/user/hide_listing";a.data.listing_id=a.$el.attr("data-listing-id");a.data.section=a.$el.attr("data-section");a.$el.find(".js-hide-listing-copy").text("...");$.ajax({url:b,data:a.data,success:function(){a._storeHidden();$(".js-hide-listing[data-listing-id="+a.listingId+"]").attr("data-hidden","true");if(typeof a.options.hideCallback=="function"){a.options.hideCallback(a.$el,a.options)}setTimeout(function(){a._updateResultsMessageUI();$(".js-hide-listing[data-listing-id="+a.listingId+"] .js-hide-listing-copy").html("Unhide")},500)}})},_unhide:function(){var b="/ajax/user/unhide_listing";a.data.listing_id=a.$el.attr("data-listing-id");a.$el.find(".js-hide-listing-copy").text("...");$.ajax({url:b,data:a.data,success:function(){a.restoreHidden("["+a.listingId+"]");$(".js-hide-listing[data-listing-id="+a.listingId+"]").attr("data-hidden","false");$(".js-hide-listing[data-listing-id="+a.listingId+"] .js-hide-listing-copy").html("Hide");if(typeof a.options.unhideCallback=="function"){a.options.unhideCallback(a.$el,a.options)}setTimeout(function(){a._updateResultsMessageUI()},500)}})},_getListings:function(c,b){if(a.sessionStorageIsSupported){var d=a.session.getItem("listings_"+c);if(typeof d!="undefined"&&d!=null){$.each(JSON.parse(d),function(e,f){b[e]=f})}}},_storeHidden:function(){if(a.sessionStorageIsSupported){a.listings_hide.push(a.listingId);a.session.setItem("listings_hide",JSON.stringify(a.listings_hide));var b=$.inArray(a.listingId,a.listings_unhide);if(b>-1){a.listings_unhide.splice(b,1);a.session.setItem("listings_unhide",JSON.stringify(a.listings_unhide))}}},restoreHidden:function(c){if(a.sessionStorageIsSupported){var e=[];$.each(JSON.parse(c),function(f,g){e[f]=""+g+""});for(var d=0;d<e.length;d++){if(a.sessionStorageIsSupported){a.listings_unhide.push(e[d]);a.session.setItem("listings_unhide",JSON.stringify(a.listings_unhide));var b=$.inArray(e[d],a.listings_hide);if(b>-1){a.listings_hide.splice(b,1);a.session.setItem("listings_hide",JSON.stringify(a.listings_hide))}}}}},_updateDetailsUI:function(){var c=$.inArray(a.options.listingId,a.listings_hide),e=$(".js-hide-listing"),b=$(".js-hide-listing-copy"),d=$(".js-hide-listing-msg");if(a.listings_hide.length){if(c>-1){d.show();e.attr("data-hidden",true);b.html("Unhide")}else{d.hide();e.attr("data-hidden",false);b.html("Hide")}}},_updateResultsUI:function(){if(a.options.placement!=="results"){return false}a._restoreUI();a._updateResultsMessageUI()},_restoreUI:function(){if(a.sessionStorageIsSupported){a.updateResultsListUI($.map(a.listings_hide,function(b){return"#listing_"+b}).join(", "),"hide",0);a._compareOriginal()}},resultsToggle:function(e){var d=e.find(".icon-text"),f=e.find(".icon"),c=e.closest("li"),b=c.find(".listing-results-wrapper");if(e.data("clicked")===true){d.html("Show");f.addClass("icon-right-dir");f.removeClass("icon-down-dir");e.data("clicked",false);b.hide()}else{d.html("Close");f.removeClass("icon-right-dir");f.addClass("icon-down-dir");e.data("clicked",true);b.show()}},updateResultsListUI:function(e,f,h){if(h==null){h=300}var b=$(e);$listingWrapper=b.find(".listing-results-wrapper"),$hideButton=b.find(".js-hide-listing"),$hideButtonCopy=b.find(".js-hide-listing-copy"),$msg=$(".js-hidden-listings-msg"),$hiddenWrapper=b.find(".hidden-listing-wrapper");if(f==="unhide"){$hideButton.attr("data-hidden",false);$hideButtonCopy.html("Hide");var d=b.find(".js-hidden-listing-result-toggle"),c=d.find(".icon-text"),g=d.find(".icon");d.data("clicked",false);c.html("Show");g.addClass("icon-right-dir");g.removeClass("icon-down-dir");$listingWrapper.show();$hiddenWrapper.hide();b.removeClass("js-is-hidden-listing-result is-hidden-listing-result");$msg.before(b);if(a.options.viewType==="grid"){$(".listing-results li.grid-cell:eq(-1)").after(b);b.addClass("grid-cell");a.updateResultsGridUI()}}else{$hideButton.attr("data-hidden",true);$hideButtonCopy.html("Unhide");if(h===0){$listingWrapper.hide();$hiddenWrapper.show();b.addClass("js-is-hidden-listing-result is-hidden-listing-result");$msg.after(b);if(a.options.viewType==="grid"){b.removeClass("grid-cell grid-cell-first grid-cell-third");a.updateResultsGridUI()}}else{$listingWrapper.slideUp(h,function(){b.addClass("js-is-hidden-listing-result is-hidden-listing-result");$hiddenWrapper.show();$msg.after(b)})}}},updateResultsGridUI:function(){var b=$(".listing-results");b.find("li").not(".js-is-hidden-listing-result").removeClass("grid-cell-first grid-cell-third");b.find("li:nth-child(3n+1)").not(".js-is-hidden-listing-result").addClass("grid-cell-first");b.find("li:nth-child(3n+3)").not(".js-is-hidden-listing-result").addClass("grid-cell-third")},_updateResultsMessageUI:function(){if(a.options.placement!=="results"){return false}var c=$(".js-hidden-listings-count"),b=$(".js-hidden-listings-msg"),e=$(".js-hidden-listings-property"),d=$(".js-is-hidden-listing-result").size();if(d===0){b.hide()}else{b.show();if(d===1){e.text("property")}else{e.text("properties")}c.text(d)}}};return{init:a.init,updateResultsListUI:a.updateResultsListUI,updateResultsGridUI:a.updateResultsGridUI,restoreHidden:a.restoreHidden,resultsToggle:a.resultsToggle,toggle:a.toggle}})();ZPG.user_hide_listing_details=(function(){var a={hideCallback:function(b){var e=b.attr("data-listing-id"),d=$(".js-hide-listing-msg"),c=$(".js-hide-listing-copy");c.html("Unhide");d.show()},unhideCallback:function(b){var d=$(".js-hide-listing-copy"),c=$(".js-hide-listing-msg");d.html("Hide");c.hide()}};return{hideCallback:a.hideCallback,unhideCallback:a.unhideCallback}})();ZPG.user_hide_listing_results=(function(){var a={hideCallback:function(d,c){if(c.viewType==="grid"){var b=d.closest("li");var e="hide";var f=0;ZPG.user_hide_listing.updateResultsListUI(b,e,f)}else{var b=d.closest("li");ZPG.user_hide_listing.updateResultsListUI(b)}},unhideCallback:function(d,c){if(c.viewType==="grid"){var b=d.closest("li"),e="unhide";ZPG.user_hide_listing.updateResultsListUI(b,e)}else{var b=d.closest("li"),e="unhide";ZPG.user_hide_listing.updateResultsListUI(b,e)}}};return{hideCallback:a.hideCallback,unhideCallback:a.unhideCallback}})();ZPG.user_hide_listing_map=(function(){var a={hideCallback:function(d){var i=d.attr("data-listing-id"),f=map.getInfoWindow().getPosition(),g=f.lat(),h=f.lng(),c=d.closest("ol"),b,e=d.parents("#map-popup").find(".map-popup-full-details:visible");if(e.length){b=e}else{b=d.closest("li")}b.fadeOut({complete:function(){b.remove();var k=parseInt($(".hidden-listings-count").text().replace(",",""));$(".hidden-listings-count").text(ZPG.util.formatNumber(k+1));if(parseInt($(".hidden-listings-count").text().replace(",",""))===1){$(".hidden-listings-property").text("property")}else{$(".hidden-listings-property").text("properties")}if($(".hidden-listings-count").parent("span").hasClass("none")){$(".hidden-listings-count").parent("span").removeClass("none")}var l=d.attr("data-section");if(l==="to-rent"){map.removeToRentPin(i,g,h);map.removeFavouriteResultsToRentPin(i,g,h)}else{map.removeForSalePin(i,g,h);map.removeFavouriteResultsForSalePin(i,g,h)}var j=c.find("li");$(".map-popup-tally").html(j.size());if(j.size()===1){$(".map-popup-tally-property").html("property")}if(!j.length){map.closeInfoWindow()}}})}};return{hideCallback:a.hideCallback}})();ZPG.util={formatNumber:function(b){var a="";while(b>999){var c=(b%1000);if(c<10){c="00"+c}else{if(c<100){c="0"+c}}a=","+c+a;b=Math.floor(b/1000)}a=b+a;return a},appendParams:function(a,b){$.each(b,function(d,e){var c=((typeof(e)=="object"&&e instanceof Array)?e:new Array(e));$.each(c,function(g,f){a=a+(a.indexOf("?")==-1?"?":"&")+encodeURIComponent(d)+"="+encodeURIComponent(f)})});return a},getCookie:function(b){var c,a,e,d=document.cookie.split(";");for(c=0;c<d.length;c++){a=d[c].substr(0,d[c].indexOf("="));e=d[c].substr(d[c].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a==b){return decodeURIComponent(e)}}}};ZPG.util_display_ads={init:function(){ZUD=ZPG.util_display_ads;$("div.dfp-banner").each(function(){ZUD.id=($(this).attr("id"));if(typeof googletag!=="undefined"){googletag.cmd.push(function(){googletag.display(ZUD.id)})}})}};ZPG.util_textarea={init:function(a){ZUT=ZPG.util_textarea;ZUT.$input=$(".textarea-limit");ZUT.$charsPlaceholder=$(".chars");ZUT.charsLimit=Number(ZUT.$charsPlaceholder.html());setTimeout(function(){ZUT.limitInputCopy()},500);ZUT.$input.keyup(function(){ZUT.limitInputCopy()})},limitInputCopy:function(b){var b=ZUT.$input.val();var a=ZUT.remainingForTextArea(b);ZUT.$charsPlaceholder.html(a);if(a<=0){ZUT.$charsPlaceholder.html("0");inputContentBeforeKeyup=b.substring(0,ZUT.charsLimit);ZUT.$input.val(inputContentBeforeKeyup)}},remainingForTextArea:function(d){var b=ZUT.$input.attr("title"),a,c=ZUT.$input.hasClass("gt-inline-label");if(c&&d==b){return ZUT.charsLimit}if(d){a=d.length}else{a=0}return ZUT.charsLimit-a}};function load_script(a,c){var b=document.createElement("script");b.type="text/javascript";b.async=true;if(b.readyState){b.onreadystatechange=function(){if(b.readyState=="loaded"||b.readyState=="complete"){b.onreadystatechange=null;if(c){c()}}}}else{b.onload=function(){if(c){c()}}}b.src=a;document.getElementsByTagName("head")[0].appendChild(b)}function contact_agent_form_messages(){$("#form_contact_agent").find("input[name=msg_type_of_enquiry]").click(function(){$("#msg_body").attr("placeholder","");var a=$("#listing-details-address h2").text();var b;if($("#section").val()=="for-sale"){b="for sale"}else{b="to rent"}if($(this).val()=="organise_viewing"){$("#msg_body").val("I would like to arrange a viewing of this property "+b+" in "+a+". Please contact me to arrange a suitable time. Thanks.")}else{if($(this).val()=="request_property_details"){$("#msg_body").val("I would be grateful if you would send me further details on this property "+b+" in "+a+". Thanks.")}}}).trigger("click")}function contact_agent_postcode_lookup(a,b){$.getJSON("/ajax/lookup_address_by_postcode/"+a,function(e){var c='<option value="">Select</option>';for(var d=0;d<e.length;d++){c+='<option value="'+e[d].address+'">'+e[d].address+"</option>"}c+='<option value="Address not listed.">My address is not listed</option>';$("#msg_body_address").html(c);if(e.length>0){$("#msg_body_address").parent().show()}$("#msg_body_address").val(b).attr("selected",true)})}function create_movie_frame(b,e){var d=e.attr("data-listing-id");var c=e.attr("data-branch-id");_gaq.push(["_setCustomVar",3,"Property detail","Movie played - "+d,3]);$.get("/ajax/movies/log_view/?listing_id="+d+"&branch_id="+c);var f=("movie-"+(new Date()).getTime());var a=$("<iframe class='jwplayer' id='vistabee-"+f+"' name='"+f+"'>");a.css("width","645px").css("height","365px").attr("scrolling","no").attr("seamless","seamless").appendTo(e);$("#vistabee-"+f).attr("src","/ajax/movies/embedd/?url="+b);$("#movie").show();$("#images").hide()}function remove_movie_frame(){$("#movie-main iframe").contents().find("body").html("&nbsp;");$("#movie-main iframe").remove();$("#movie").hide();$("#images").show()}$(function(){ZPG.user_signin_register.init();ZPG.user_favourites.init();search_values=["e.g. Oxford, NW3 or Waterloo Station","e.g. Acacia Avenue or TW19 5NW","Enter country, area or city","e.g. NW6 or York"],color_field="#BBBBBB",$section=$('input[name|="section"]'),$search_field=$("#search_field"),$overseas_search_field=$("#overseas_search_field"),$flatshare_search_field=$("#flatshare_search_field"),$search_company_name=$("#search_company_name");var c=function(){if($.inArray($search_field.val(),search_values)!==-1){$search_field.val("").css("color","#000")}};var b=function(){var d=$("li[data-selected-search='selected']").attr("data-section");if(d=="overseas"||d=="find-agents/overseas-agents"){$("#overseas_search_field div").load("/widgets/search/country.html",function(){$("#overseas_search_field li").bind("click",function(){var f=$(this).data("country-code");var e=$(this).html();$("#overseas_country_code").val(f);$("#overseas-search-value").html(e);$("#overseas_search_field div").hide("none");$("#search_button").focus()})});$("#overseas_search_field").removeClass("none");$("#flatshare_search_field").addClass("none");$search_field.prop("disabled","disabled").addClass("none")}else{if(d=="flatshare"){$("#flatshare_search_field div").load("/widgets/search/flatshare.html",function(){$("#flatshare_search_field li").bind("click",function(){var e=$(this).data("location");$("#flatshare-section").val($(this).data("mc"));$("#flatshare-search-value").html(e);$("#flatshare_search_field div").hide("none");$("#search_button").focus()})});$("#overseas_search_field").addClass("none");$("#flatshare_search_field").removeClass("none");$search_field.prop("disabled","disabled").addClass("none")}else{$("#overseas_search_field").addClass("none");$("#flatshare_search_field").addClass("none");$search_field.prop("disabled","").removeClass("none");if(($search_field.val()=="")||($.inArray($search_field.val(),search_values)!==-1)){if(d=="home-values"||d=="house-prices"){$search_field.val(search_values[1]).css("color",color_field)}else{if(d=="holiday"){$search_field.val(search_values[2]).css("color",color_field)}else{if($("#homepage").length==""){$search_field.val(search_values[0]).css("color",color_field)}}}}}}};$search_field.click(function(){c()}).keydown(function(){c()}).blur(function(){b()});$("#form_search").submit(function(){var d=$section.val();if(d=="overseas"||d=="find-agents/overseas-agents"){if($('input[name|="country_code"]').val()==""){return false}}else{if(d=="flatshare"){if($("#flatshare-section").val()==""){return false}}else{if($section.val()=="find-agents"||$section.val()=="find-agents/estate-agents"||$section.val()=="find-agents/letting-agents"||$section.val()=="new-homes/developers"){if(($search_company_name.val()=="")&&($.inArray($search_field.val(),search_values)==0)){return false}else{if(($search_company_name.val()!="")&&($.inArray($search_field.val(),search_values)==0)){$search_field.val("");return true}else{if(($search_company_name.val()=="")&&($.inArray($search_field.val(),search_values)==-1)){return true}}}}else{if($.inArray($search_field.val(),search_values)!==-1){return false}}}}});$(".sf-menu li").hover(function(){$("#search_type_sections").addClass("none");$(".ui-autocomplete").css("display","none")});$("#search_type").click(function(d){if($("#search_type_sections").hasClass("none")){$("#search_type_sections").removeClass("none");$("#flatshare_search_field div, #overseas_search_field div").addClass("none").hide();$("html").one("click",function(){$("#search_type_sections").addClass("none")})}else{$("#search_type_sections").addClass("none")}d.stopPropagation()});$("#search_type_sections li").click(function(){var d=$(this).html(),e=$(this).attr("data-section"),f=$(this).attr("data-category");$(this).parent().find("li").removeAttr("data-selected-search");$(this).attr("data-selected-search","selected");$("#search_type_text").html(d);$("#section").val(e);$("#category").val(f);$("#search_type_sections").addClass("none");$("#search_field").focus();b()});$("#overseas_search_field").click(function(d){if($("#overseas_search_field div").hasClass("none")){$("#overseas_search_field div").removeClass("none").show();$("#search_type_sections").addClass("none");$("html").one("click",function(){$("#overseas_search_field div").addClass("none").hide()})}else{$("#overseas_search_field div").addClass("none").hide()}d.stopPropagation()});$flatshare_search_field.click(function(d){if($("#flatshare_search_field div").hasClass("none")){$("#flatshare_search_field div").removeClass("none").show();$("#search_type_sections").addClass("none");$("html").one("click",function(){$("#flatshare_search_field div").addClass("none").hide()})}else{$("#flatshare_search_field div").addClass("none")}d.stopPropagation()});b();$("#search #search_field").focus(function(){$(this).parent().addClass("search_field_wrap_hover")});$("#search #search_field").blur(function(){$(this).parent().removeClass("search_field_wrap_hover")});$("#main-nav .sf-menu li").hover(function(){$(this).next().removeClass("sf-menu-bg")},function(){$(this).next().addClass("sf-menu-bg")});var a=$(".gt-inline-label");if(a.length){a.GT_inlineLabels({getText:function(d){if(d[0].title){return d[0].title}else{return null}}})}load_script((document.location.protocol=="https:"?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",function(){COMSCORE.beacon({c1:2,c2:"6034712",c3:"",c4:"",c5:"",c6:"",c15:""})});if(typeof _gaq!=="undefined"){$(document).on("click","a[data-ga-category]",function(){var d=$(this);_gaq.push(["_trackEvent",d.attr("data-ga-category"),d.attr("data-ga-action"),d.attr("data-ga-label")])});$("a[data-ga-vpv]").on("click",function(){var d=$(this).attr("data-ga-vpv");_gaq.push(["_trackPageview",d])});$("select[data-ga-category]").on("change",function(){var d=$(this);_gaq.push(["_trackEvent",d.attr("data-ga-category"),d.find("option:selected").attr("data-ga-action"),d.attr("data-ga-label")])})}$.support.placeholder=(function(){var d=document.createElement("input");return"placeholder" in d})();if(!$.support.placeholder){$("[placeholder]").focus(function(){var d=$(this);if(d.val()==d.attr("placeholder")){d.val("");d.removeClass("placeholder")}}).blur(function(){var d=$(this);if(d.val()==""||d.val()==d.attr("placeholder")){d.addClass("placeholder");d.val(d.attr("placeholder"))}}).blur();$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var d=$(this);if(d.val()==d.attr("placeholder")){d.val("")}})});$(".relevant-details [placeholder], .sidebar #form-search [placeholder]").parents("form").find(".btn").click(function(){$(this).parents("form").find("[placeholder]").each(function(){var d=$(this);if(d.val()==d.attr("placeholder")){d.val("")}})})}$("a.jqModal").each(function(){$(this).fancybox({type:"ajax",titleShow:false,href:$(this).attr("data-tip")})});$("#bookmarks-more li em").on("click",function(){var d=$(this),e=$("#bookmarks-more-links");d.data("clicked",!d.data("clicked"));if(d.data("clicked")){d.html("Less");e.show()}else{d.html("More");e.hide()}});$(".toggle").click(function(){var d=$(this).attr("rel");$("#"+d).toggle()});$("#zindex-pt").change(function(){$(".zindex-pt").addClass("none");$(".zindex-pt-"+$(this).val()).removeClass("none");return false});$("#stats-change").change(function(){$("#stats span").addClass("none");$("#stats-"+$(this).val()).removeClass("none");return false});if($("#vc_month").val()!=2){$(".vc").addClass("none");$(".vc_"+$("#vc_month").val()).removeClass("none")}$("#vc_month").change(function(){$(".vc").addClass("none");for(var d=0;d<=6;d++){if($("#vc_month").val()==d){$(".vc_"+d).removeClass("none")}}});$("#listings-sort select, select#page_size").change(function(){var d=$(this).find("option:selected");if($(this).attr("name")=="listings-sort"){_gaq.push(["_trackEvent",d.attr("data-ga-category"),d.attr("data-ga-action"),d.attr("data-ga-label")])}window.location=d.val()});$(".alert-fade").delay(15000).fadeOut(1200);$("a.attr-edit").fancybox({onComplete:function(){$("#attr-form").validate({submitHandler:function(e){var e=$("#attr-form"),d=$("#property_id").val();$.ajax({url:e.attr("action"),data:e.serialize(),success:function(){e.html("<h1>Thank you!</h1><p>This information has been noted and we will update our records where appropriate as soon as possible.</p>");$("#edit_"+d).parent().find(".attributes-update").load("/widgets/property/attributes.html?property_id="+d)}})}})}});$("a.printDetails").on("click",function(d){d.preventDefault();window.open($(this).attr("href"),"","width=700,height=650,directories=no,resizable=no,scrollbars=yes,toolbar=no,menubar=no,titlebar=no,status=no")});$(".clear-txt").on("click",function(d){d.preventDefault();$(this).siblings("textarea").val("")})});(function(){function aA(p,m){var q;p||(p={});for(q in m){p[q]=m[q]}return p}function av(){var p,m=arguments,t,r={},q=function(v,u){var y,w;typeof v!=="object"&&(v={});for(w in u){u.hasOwnProperty(w)&&(y=u[w],v[w]=y&&typeof y==="object"&&Object.prototype.toString.call(y)!=="[object Array]"&&w!=="renderTo"&&typeof y.nodeType!=="number"?q(v[w]||{},y):u[w])}return v};m[0]===!0&&(r=m[1],m=Array.prototype.slice.call(m,2));t=m.length;for(p=0;p<t;p++){r=q(r,m[p])}return r}function bq(p,m){return parseInt(p,m||10)}function j(m){return typeof m==="string"}function aD(m){return typeof m==="object"}function o(m){return Object.prototype.toString.call(m)==="[object Array]"}function bd(m){return typeof m==="number"}function bx(m){return aY.log(m)/aY.LN10}function aH(m){return aY.pow(10,m)}function ag(p,m){for(var q=p.length;q--;){if(p[q]===m){p.splice(q,1);break}}}function az(m){return m!==ay&&m!==null}function bg(p,m,t){var r,q;if(j(m)){az(t)?p.setAttribute(m,t):p&&p.getAttribute&&(q=p.getAttribute(m))}else{if(az(m)&&aD(m)){for(r in m){p.setAttribute(r,m[r])}}}return q}function n(m){return o(m)?m:[m]}function aE(){var p=arguments,m,r,q=p.length;for(m=0;m<q;m++){if(r=p[m],typeof r!=="undefined"&&r!==null){return r}}}function bm(p,m){if(bU&&!bA&&m&&m.opacity!==ay){m.filter="alpha(opacity="+m.opacity*100+")"}aA(p.style,m)}function aT(p,m,t,r,q){p=at.createElement(p);m&&aA(p,m);q&&bm(p,{padding:0,border:a5,margin:0});t&&bm(p,t);r&&r.appendChild(p);return p}function i(p,m){var q=function(){};q.prototype=new p;aA(q.prototype,m);return q}function bY(p,m,v,u){var t=bi.lang,p=+p||0,r=m===-1?(p.toString().split(".")[1]||"").length:isNaN(m=a4(m))?2:m,m=v===void 0?t.decimalPoint:v,u=u===void 0?t.thousandsSep:u,t=p<0?"-":"",v=String(bq(p=a4(p).toFixed(r))),q=v.length>3?v.length%3:0;return t+(q?v.substr(0,q)+u:"")+v.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+u)+(r?m+a4(p-v).toFixed(r).slice(2):"")}function bI(p,m){return Array((m||2)+1-String(p).length).join(0)+p}function b2(p,m,r){var q=p[m];p[m]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(q);return r.apply(this,t)}}function bn(z,y){for(var w="{",v=!1,u,t,r,q,p,m=[];(w=z.indexOf(w))!==-1;){u=z.slice(0,w);if(v){t=u.split(":");r=t.shift().split(".");p=r.length;u=y;for(q=0;q<p;q++){u=u[r[q]]}if(t.length){t=t.join(":"),r=/\.([0-9])/,q=bi.lang,p=void 0,/f$/.test(t)?(p=(p=t.match(r))?p[1]:-1,u!==null&&(u=bY(u,p,q.decimalPoint,t.indexOf(",")>-1?q.thousandsSep:""))):u=aC(t,u)}}m.push(u);z=z.slice(w+1);w=(v=!v)?"}":"{"}m.push(z);return m.join("")}function bF(m){return aY.pow(10,aZ(aY.log(m)/aY.LN10))}function bj(p,m,t,r){var q,t=aE(t,1);q=p/t;m||(m=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(t===1?m=[1,2,5,10]:t<=0.1&&(m=[1/t])));for(r=0;r<m.length;r++){if(p=m[r],q<=(m[r]+(m[r+1]||m[r]))/2){break}}p*=t;return p}function bD(){this.symbol=this.color=0}function aJ(p,m){var t=p.length,r,q;for(q=0;q<t;q++){p[q].ss_i=q}p.sort(function(u,v){r=m(u,v);return r===0?u.ss_i-v.ss_i:r});for(q=0;q<t;q++){delete p[q].ss_i}}function bM(p){for(var m=p.length,q=p[0];m--;){p[m]<q&&(q=p[m])}return q}function bE(p){for(var m=p.length,q=p[0];m--;){p[m]>q&&(q=p[m])}return q}function bu(p,m){for(var q in p){p[q]&&p[q]!==m&&p[q].destroy&&p[q].destroy(),delete p[q]}}function aQ(m){ac||(ac=aT(aM));m&&ac.appendChild(m);ac.innerHTML=""}function b1(p,m){var q="Highcharts error #"+p+": www.highcharts.com/errors/"+p;if(m){throw q}else{be.console&&console.log(q)}}function ad(m){return parseFloat(m.toPrecision(14))}function ap(p,m){ao=aE(p,m.animation)}function bc(){var p=bi.global.useUTC,m=p?"getUTC":"get",q=p?"setUTC":"set";J=(p&&bi.global.timezoneOffset||0)*60000;e=p?Date.UTC:function(t,r,y,w,v,u){return(new Date(t,r,aE(y,1),aE(w,0),aE(v,0),aE(u,0))).getTime()};ai=m+"Minutes";k=m+"Hours";bZ=m+"Day";Q=m+"Date";bR=m+"Month";bB=m+"FullYear";aG=q+"Minutes";af=q+"Hours";bJ=q+"Date";h=q+"Month";bW=q+"FullYear"}function aX(){}function c(p,m,r,q){this.axis=p;this.pos=m;this.type=r||"";this.isNew=!0;!r&&!q&&this.addLabel()}function bX(){this.init.apply(this,arguments)}function d(){this.init.apply(this,arguments)}function bG(p,m,u,t,r){var q=p.chart.inverted;this.axis=p;this.isNegative=u;this.options=m;this.x=t;this.total=null;this.points={};this.stack=r;this.alignOptions={align:m.align||(q?u?"left":"right":"center"),verticalAlign:m.verticalAlign||(q?"middle":u?"bottom":"top"),y:aE(m.y,q?4:u?14:-6),x:aE(m.x,q?u?-6:6:0)};this.textAlign=m.textAlign||(q?u?"right":"left":"center")}var ay,at=document,be=window,aY=Math,ax=aY.round,aZ=aY.floor,al=aY.ceil,aw=aY.max,bo=aY.min,a4=aY.abs,aS=aY.cos,f=aY.sin,bH=aY.PI,bf=bH*2/360,B=navigator.userAgent,bl=be.opera,bU=/msie/i.test(B)&&!bl,a9=at.documentMode===8,aF=/AppleWebKit/.test(B),bP=/Firefox/.test(B),aL=/(Mobile|Android|Windows Phone)/.test(B),b="http://www.w3.org/2000/svg",bA=!!at.createElementNS&&!!at.createElementNS(b,"svg").createSVGRect,bL=bP&&parseInt(B.split("Firefox/")[1],10)<4,bT=!bA&&!bU&&!!at.createElement("canvas").getContext,bQ,bp,ak={},br=0,ac,bi,aC,ao,aN,aq,bK=function(){},aW=[],bz=0,aM="div",a5="none",bt=/^[0-9]+$/,aP="stroke-width",e,J,ai,k,bZ,Q,bR,bB,aG,af,bJ,h,bW,bh={},a0=be.Highcharts=be.Highcharts?b1(16,!0):{};aC=function(C,A,z){if(!az(A)||isNaN(A)){return"Invalid date"}var C=aE(C,"%Y-%m-%d %H:%M:%S"),y=new Date(A-J),w,v=y[k](),u=y[bZ](),t=y[Q](),r=y[bR](),q=y[bB](),p=bi.lang,m=p.weekdays,y=aA({a:m[u].substr(0,3),A:m[u],d:bI(t),e:t,b:p.shortMonths[r],B:p.months[r],m:bI(r+1),y:q.toString().substr(2,2),Y:q,H:bI(v),I:bI(v%12||12),l:v%12||12,M:bI(y[ai]()),p:v<12?"AM":"PM",P:v<12?"am":"pm",S:bI(y.getSeconds()),L:bI(ax(A%1000),3)},a0.dateFormats);for(w in y){for(;C.indexOf("%"+w)!==-1;){C=C.replace("%"+w,typeof y[w]==="function"?y[w](A):y[w])}}return z?C.substr(0,1).toUpperCase()+C.substr(1):C};bD.prototype={wrapColor:function(m){if(this.color>=m){this.color=0}},wrapSymbol:function(m){if(this.symbol>=m){this.symbol=0}}};aq=function(){for(var p=0,m=arguments,r=m.length,q={};p<r;p++){q[m[p++]]=m[p]}return q}("millisecond",1,"second",1000,"minute",60000,"hour",3600000,"day",86400000,"week",604800000,"month",2678400000,"year",31556952000);aN={init:function(z,y,w){var y=y||"",v=z.shift,u=y.indexOf("C")>-1,t=u?7:3,r,y=y.split(" "),w=[].concat(w),q,p,m=function(A){for(r=A.length;r--;){A[r]==="M"&&A.splice(r+1,0,A[r+1],A[r+2],A[r+1],A[r+2])}};u&&(m(y),m(w));z.isArea&&(q=y.splice(y.length-6,6),p=w.splice(w.length-6,6));if(v<=w.length/t&&y.length===w.length){for(;v--;){w=[].concat(w).splice(0,t).concat(w)}}z.shift=0;if(y.length){for(z=w.length;y.length<z;){v=[].concat(y).splice(y.length-t,t),u&&(v[t-6]=v[t-2],v[t-5]=v[t-1]),y=y.concat(v)}}q&&(y=y.concat(q),w=w.concat(p));return[y,w]},step:function(p,m,u,t){var r=[],q=p.length;if(u===1){r=t}else{if(q===m.length&&u<1){for(;q--;){t=parseFloat(p[q]),r[q]=isNaN(t)?p[q]:u*parseFloat(m[q]-t)+t}}else{r=m}}return r}};(function(m){be.HighchartsAdapter=be.HighchartsAdapter||m&&{init:function(p){var v=m.fx,u=v.step,t,r=m.Tween,q=r&&r.propHooks;t=m.cssHooks.opacity;m.extend(m.easing,{easeOutQuad:function(y,w,C,A,z){return -A*(w/=z)*(w-2)+C}});m.each(["cur","_default","width","height","opacity"],function(y,w){var A=u,z;w==="cur"?A=v.prototype:w==="_default"&&r&&(A=q[w],w="set");(z=A[w])&&(A[w]=function(D){var C,D=y?D:this;if(D.prop!=="align"){return C=D.elem,C.attr?C.attr(D.prop,w==="cur"?ay:D.now):z.apply(this,arguments)}})});b2(t,"get",function(y,w,z){return w.attr?w.opacity||0:y.call(this,w,z)});t=function(w){var z=w.elem,y;if(!w.started){y=p.init(z,z.d,z.toD),w.start=y[0],w.end=y[1],w.started=!0}z.attr("d",p.step(w.start,w.end,w.pos,z.toD))};r?q.d={set:t}:u.d=t;this.each=Array.prototype.forEach?function(y,w){return Array.prototype.forEach.call(y,w)}:function(y,w){for(var A=0,z=y.length;A<z;A++){if(w.call(y[A],y[A],A,y)===!1){return A}}};m.fn.highcharts=function(){var y="Chart",w=arguments,A,z;if(this[0]){j(w[0])&&(y=w[0],w=Array.prototype.slice.call(w,1));A=w[0];if(A!==ay){A.chart=A.chart||{},A.chart.renderTo=this[0],new a0[y](A,w[1]),z=this}A===ay&&(z=aW[bg(this[0],"data-highcharts-chart")])}return z}},getScript:m.getScript,inArray:m.inArray,adapterRun:function(p,q){return m(p)[q]()},grep:m.grep,map:function(p,u){for(var t=[],r=0,q=p.length;r<q;r++){t[r]=u.call(p[r],p[r],r,p)}return t},offset:function(p){return m(p).offset()},addEvent:function(p,r,q){m(p).bind(r,q)},removeEvent:function(p,t,r){var q=at.removeEventListener?"removeEventListener":"detachEvent";at[q]&&p&&!p[q]&&(p[q]=function(){});m(p).unbind(t,r)},fireEvent:function(p,w,v,u){var t=m.Event(w),r="detached"+w,q;!bU&&v&&(delete v.layerX,delete v.layerY,delete v.returnValue);aA(t,v);p[w]&&(p[r]=p[w],p[w]=null);m.each(["preventDefault","stopPropagation"],function(z,y){var A=t[y];t[y]=function(){try{A.call(t)}catch(C){y==="preventDefault"&&(q=!0)}}});m(p).trigger(t);p[r]&&(p[w]=p[r],p[r]=null);u&&!t.isDefaultPrevented()&&!q&&u(t)},washMouseEvent:function(p){var q=p.originalEvent||p;if(q.pageX===ay){q.pageX=p.pageX,q.pageY=p.pageY}return q},animate:function(p,t,r){var q=m(p);if(!p.style){p.style={}}if(t.d){p.toD=t.d,t.d=1}q.stop();t.opacity!==ay&&p.attr&&(t.opacity+="px");q.animate(t,r)},stop:function(p){m(p).stop()}}})(be.jQuery);var a2=be.HighchartsAdapter,a7=a2||{};a2&&a2.init.call(a2,aN);var ae=a7.adapterRun,an=a7.getScript,aI=a7.inArray,aB=a7.each,am=a7.grep,s=a7.offset,by=a7.map,a8=a7.addEvent,aV=a7.removeEvent,bk=a7.fireEvent,a=a7.washMouseEvent,g=a7.animate,a1=a7.stop,a7={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};bi={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.0/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.0/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:av(a7,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":bY(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1000}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:bA,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:aL?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var a3=bi.plotOptions,a2=a3.line;bc();var bO=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,bw=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,aR=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,bN=function(p){var m=[],r,q;(function(t){t&&t.stops?q=by(t.stops,function(u){return bN(u[1])}):(r=bO.exec(t))?m=[bq(r[1]),bq(r[2]),bq(r[3]),parseFloat(r[4],10)]:(r=bw.exec(t))?m=[bq(r[1],16),bq(r[2],16),bq(r[3],16),1]:(r=aR.exec(t))&&(m=[bq(r[1]),bq(r[2]),bq(r[3]),1])})(p);return{get:function(u){var t;q?(t=av(p),t.stops=[].concat(t.stops),aB(q,function(w,v){t.stops[v]=[t.stops[v][0],w.get(u)]})):t=m&&!isNaN(m[0])?u==="rgb"?"rgb("+m[0]+","+m[1]+","+m[2]+")":u==="a"?m[3]:"rgba("+m.join(",")+")":p;return t},brighten:function(t){if(q){aB(q,function(v){v.brighten(t)})}else{if(bd(t)&&t!==0){var u;for(u=0;u<3;u++){m[u]+=bq(t*255),m[u]<0&&(m[u]=0),m[u]>255&&(m[u]=255)}}}return this},rgba:m,setOpacity:function(t){m[3]=t;return this}}};aX.prototype={init:function(p,m){this.element=m==="span"?aT(m):at.createElementNS(b,m);this.renderer=p},opacity:1,animate:function(p,m,q){m=aE(m,ao,!0);a1(this);if(m){m=av(m,{});if(q){m.complete=q}g(this,p,m)}else{this.attr(p),q&&q()}},colorGradient:function(E,D,C){var A=this.renderer,z,y,w,v,u,t,r,q,m,p,F=[];E.linearGradient?y="linearGradient":E.radialGradient&&(y="radialGradient");if(y){w=E[y];v=A.gradients;t=E.stops;m=C.radialReference;o(w)&&(E[y]=w={x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientUnits:"userSpaceOnUse"});y==="radialGradient"&&m&&!az(w.gradientUnits)&&(w=av(w,{cx:m[0]-m[2]/2+w.cx*m[2],cy:m[1]-m[2]/2+w.cy*m[2],r:w.r*m[2],gradientUnits:"userSpaceOnUse"}));for(p in w){p!=="id"&&F.push(p,w[p])}for(p in t){F.push(t[p])}F=F.join(",");v[F]?E=v[F].attr("id"):(w.id=E="highcharts-"+br++,v[F]=u=A.createElement(y).attr(w).add(A.defs),u.stops=[],aB(t,function(G){G[1].indexOf("rgba")===0?(z=bN(G[1]),r=z.get("rgb"),q=z.get("a")):(r=G[1],q=1);G=A.createElement("stop").attr({offset:G[0],"stop-color":r,"stop-opacity":q}).add(u);u.stops.push(G)}));C.setAttribute(D,"url("+A.url+"#"+E+")")}},attr:function(p,m){var w,v,u=this.element,t,r=this,q;typeof p==="string"&&m!==ay&&(w=p,p={},p[w]=m);if(typeof p==="string"){r=(this[p+"Getter"]||this._defaultGetter).call(this,p,u)}else{for(w in p){v=p[w];q=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(w)&&(t||(this.symbolAttr(p),t=!0),q=!0);if(this.rotation&&(w==="x"||w==="y")){this.doTransform=!0}q||(this[w+"Setter"]||this._defaultSetter).call(this,v,w,u);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(w)&&this.updateShadows(w,v)}if(this.doTransform){this.updateTransform(),this.doTransform=!1}}return r},updateShadows:function(p,m){for(var r=this.shadows,q=r.length;q--;){r[q].setAttribute(p,p==="height"?aw(m-(r[q].cutHeight||0),0):p==="d"?this.d:m)}},addClass:function(p){var m=this.element,q=bg(m,"class")||"";q.indexOf(p)===-1&&bg(m,"class",q+" "+p);return this},symbolAttr:function(p){var m=this;aB("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(q){m[q]=aE(p[q],m[q])});m.attr({d:m.renderer.symbols[m.symbolName](m.x,m.y,m.width,m.height,m)})},clip:function(m){return this.attr("clip-path",m?"url("+this.renderer.url+"#"+m.id+")":a5)},crisp:function(p){var m,t={},r,q=p.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;r=ax(q)%2/2;p.x=aZ(p.x||this.x||0)+r;p.y=aZ(p.y||this.y||0)+r;p.width=aZ((p.width||this.width||0)-2*r);p.height=aZ((p.height||this.height||0)-2*r);p.strokeWidth=q;for(m in p){this[m]!==p[m]&&(this[m]=t[m]=p[m])}return t},css:function(p){var m=this.styles,v={},u=this.element,t,r,q="";t=!m;if(p&&p.color){p.fill=p.color}if(m){for(r in p){p[r]!==m[r]&&(v[r]=p[r],t=!0)}}if(t){t=this.textWidth=p&&p.width&&u.nodeName.toLowerCase()==="text"&&bq(p.width);m&&(p=aA(m,v));this.styles=p;t&&(bT||!bA&&this.renderer.forExport)&&delete p.width;if(bU&&!bA){bm(this.element,p)}else{m=function(y,w){return"-"+w.toLowerCase()};for(r in p){q+=r.replace(/([A-Z])/g,m)+":"+p[r]+";"}bg(u,"style",q)}t&&this.added&&this.renderer.buildText(this)}return this},on:function(p,m){var r=this,q=r.element;bp&&p==="click"?(q.ontouchstart=function(t){r.touchEventFired=Date.now();t.preventDefault();m.call(q,t)},q.onclick=function(t){(B.indexOf("Android")===-1||Date.now()-(r.touchEventFired||0)>1100)&&m.call(q,t)}):q["on"+p]=m;return this},setRadialReference:function(m){this.element.radialReference=m;return this},translate:function(p,m){return this.attr({translateX:p,translateY:m})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var p=this.translateX||0,m=this.translateY||0,v=this.scaleX,u=this.scaleY,t=this.inverted,r=this.rotation,q=this.element;t&&(p+=this.attr("width"),m+=this.attr("height"));p=["translate("+p+","+m+")"];t?p.push("rotate(90) scale(-1,1)"):r&&p.push("rotate("+r+" "+(q.getAttribute("x")||0)+" "+(q.getAttribute("y")||0)+")");(az(v)||az(u))&&p.push("scale("+aE(v,1)+" "+aE(u,1)+")");p.length&&q.setAttribute("transform",p.join(" "))},toFront:function(){var m=this.element;m.parentNode.appendChild(m);return this},align:function(p,m,w){var v,u,t,r,q={};u=this.renderer;t=u.alignedObjects;if(p){if(this.alignOptions=p,this.alignByTranslate=m,!w||j(w)){this.alignTo=v=w||"renderer",ag(t,this),t.push(this),w=null}}else{p=this.alignOptions,m=this.alignByTranslate,v=this.alignTo}w=aE(w,u[v],u);v=p.align;u=p.verticalAlign;t=(w.x||0)+(p.x||0);r=(w.y||0)+(p.y||0);if(v==="right"||v==="center"){t+=(w.width-(p.width||0))/{right:1,center:2}[v]}q[m?"translateX":"x"]=ax(t);if(u==="bottom"||u==="middle"){r+=(w.height-(p.height||0))/({bottom:1,middle:2}[u]||1)}q[m?"translateY":"y"]=ax(r);this[this.placed?"animate":"attr"](q);this.placed=!0;this.alignAttr=q;return this},getBBox:function(){var y=this.bBox,w=this.renderer,v,u,t=this.rotation;v=this.element;var r=this.styles,q=t*bf;u=this.textStr;var p;if(u===""||bt.test(u)){p="num."+u.toString().length+(r?"|"+r.fontSize+"|"+r.fontFamily:"")}p&&(y=w.cache[p]);if(!y){if(v.namespaceURI===b||w.forExport){try{y=v.getBBox?aA({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight}}catch(m){}if(!y||y.width<0){y={width:0,height:0}}}else{y=this.htmlGetBBox()}if(w.isSVG){v=y.width;u=y.height;if(bU&&r&&r.fontSize==="11px"&&u.toPrecision(3)==="16.9"){y.height=u=14}if(t){y.width=a4(u*f(q))+a4(v*aS(q)),y.height=a4(u*aS(q))+a4(v*f(q))}}this.bBox=y;p&&(w.cache[p]=y)}return y},show:function(m){return m&&this.element.namespaceURI===b?(this.element.removeAttribute("visibility"),this):this.attr({visibility:m?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(p){var m=this;m.animate({opacity:0},{duration:p||150,complete:function(){m.hide()}})},add:function(p){var m=this.renderer,w=p||m,v=w.element||m.box,u=this.element,t=this.zIndex,r,q;if(p){this.parentGroup=p}this.parentInverted=p&&p.inverted;this.textStr!==void 0&&m.buildText(this);if(t){w.handleZ=!0,t=bq(t)}if(w.handleZ){p=v.childNodes;for(r=0;r<p.length;r++){if(m=p[r],w=bg(m,"zIndex"),m!==u&&(bq(w)>t||!az(t)&&az(w))){v.insertBefore(u,m);q=!0;break}}}q||v.appendChild(u);this.added=!0;if(this.onAdd){this.onAdd()}return this},safeRemoveChild:function(p){var m=p.parentNode;m&&m.removeChild(p)},destroy:function(){var p=this,m=p.element||{},u=p.shadows,t=p.renderer.isSVG&&m.nodeName==="SPAN"&&p.parentGroup,r,q;m.onclick=m.onmouseout=m.onmouseover=m.onmousemove=m.point=null;a1(p);if(p.clipPath){p.clipPath=p.clipPath.destroy()}if(p.stops){for(q=0;q<p.stops.length;q++){p.stops[q]=p.stops[q].destroy()}p.stops=null}p.safeRemoveChild(m);for(u&&aB(u,function(v){p.safeRemoveChild(v)});t&&t.div.childNodes.length===0;){m=t.parentGroup,p.safeRemoveChild(t.div),delete t.div,t=m}p.alignTo&&ag(p.renderer.alignedObjects,p);for(r in p){delete p[r]}return null},shadow:function(A,z,y){var w=[],v,u,t=this.element,r,q,p,m;if(A){q=aE(A.width,3);p=(A.opacity||0.15)/q;m=this.parentInverted?"(-1,-1)":"("+aE(A.offsetX,1)+", "+aE(A.offsetY,1)+")";for(v=1;v<=q;v++){u=t.cloneNode(0);r=q*2+1-2*v;bg(u,{isShadow:"true",stroke:A.color||"black","stroke-opacity":p*v,"stroke-width":r,transform:"translate"+m,fill:a5});if(y){bg(u,"height",aw(bg(u,"height")-r,0)),u.cutHeight=r}z?z.element.appendChild(u):t.parentNode.insertBefore(u,t);w.push(u)}this.shadows=w}return this},xGetter:function(m){this.element.nodeName==="circle"&&(m={x:"cx",y:"cy"}[m]||m);return this._defaultGetter(m)},_defaultGetter:function(m){m=aE(this[m],this.element?this.element.getAttribute(m):null,0);/^[0-9\.]+$/.test(m)&&(m=parseFloat(m));return m},dSetter:function(p,m,q){p&&p.join&&(p=p.join(" "));/(NaN| {2}|^$)/.test(p)&&(p="M 0 0");q.setAttribute(m,p);this[m]=p},dashstyleSetter:function(p){var m;if(p=p&&p.toLowerCase()){p=p.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(m=p.length;m--;){p[m]=bq(p[m])*this.element.getAttribute("stroke-width")}p=p.join(",");this.element.setAttribute("stroke-dasharray",p)}},alignSetter:function(m){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[m])},opacitySetter:function(p,m,q){this[m]=p;q.setAttribute(m,p)},"stroke-widthSetter":function(p,m,q){p===0&&(p=0.00001);this.strokeWidth=p;q.setAttribute(m,p)},titleSetter:function(p){var m=this.element.getElementsByTagName("title")[0];m||(m=at.createElementNS(b,"title"),this.element.appendChild(m));m.textContent=p},textSetter:function(m){if(m!==this.textStr){delete this.bBox,this.textStr=m,this.added&&this.renderer.buildText(this)}},fillSetter:function(p,m,q){typeof p==="string"?q.setAttribute(m,p):p&&this.colorGradient(p,m,q)},zIndexSetter:function(p,m,q){q.setAttribute(m,p);this[m]=p},_defaultSetter:function(p,m,q){q.setAttribute(m,p)}};aX.prototype.yGetter=aX.prototype.xGetter;aX.prototype.translateXSetter=aX.prototype.translateYSetter=aX.prototype.rotationSetter=aX.prototype.verticalAlignSetter=aX.prototype.scaleXSetter=aX.prototype.scaleYSetter=function(p,m){this[m]=p;this.doTransform=!0};var bs=function(){this.init.apply(this,arguments)};bs.prototype={Element:aX,init:function(p,m,w,v,u){var t=location,r,v=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(v));r=v.element;p.appendChild(r);p.innerHTML.indexOf("xmlns")===-1&&bg(r,"xmlns",b);this.isSVG=!0;this.box=r;this.boxWrapper=v;this.alignedObjects=[];this.url=(bP||aF)&&at.getElementsByTagName("base").length?t.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highcharts 4.0.0"));this.defs=this.createElement("defs").add();this.forExport=u;this.gradients={};this.cache={};this.setSize(m,w,!1);var q;if(bP&&p.getBoundingClientRect){this.subPixelFix=m=function(){bm(p,{left:0,top:0});q=p.getBoundingClientRect();bm(p,{left:al(q.left)-q.left+"px",top:al(q.top)-q.top+"px"})},m(),a8(be,"resize",m)}},getStyle:function(m){return this.style=aA({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},m)},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var m=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bu(this.gradients||{});this.gradients=null;if(m){this.defs=m.destroy()}this.subPixelFix&&aV(be,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(p){var m=new this.Element;m.init(this,p);return m},draw:function(){},buildText:function(E){for(var D=E.element,C=this,A=C.forExport,z=aE(E.textStr,"").toString(),y=z.indexOf("<")!==-1,w=D.childNodes,v,u,t=bg(D,"x"),r=E.styles,q=E.textWidth,m=r&&r.lineHeight,p=w.length,F=function(G){return m?bq(m):C.fontMetrics(/(px|em)$/.test(G&&G.style.fontSize)?G.style.fontSize:r&&r.fontSize||C.style.fontSize||12).h};p--;){D.removeChild(w[p])}!y&&z.indexOf(" ")===-1?D.appendChild(at.createTextNode(z)):(v=/<.*style="([^"]+)".*>/,u=/<.*href="(http[^"]+)".*>/,q&&!E.added&&this.box.appendChild(D),z=y?z.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[z],z[z.length-1]===""&&z.pop(),aB(z,function(I,H){var G,K=0,I=I.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");G=I.split("|||");aB(G,function(T){if(T!==""||G.length===1){var P={},R=at.createElementNS(b,"tspan"),O;v.test(T)&&(O=T.match(v)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),bg(R,"style",O));u.test(T)&&!A&&(bg(R,"onclick",'location.href="'+T.match(u)[1]+'"'),bm(R,{cursor:"pointer"}));T=(T.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(T!==" "){R.appendChild(at.createTextNode(T));if(K){P.dx=0}else{if(H&&t!==null){P.x=t}}bg(R,P);!K&&H&&(!bA&&A&&bm(R,{display:"block"}),bg(R,"dy",F(R),aF&&R.offsetHeight));D.appendChild(R);K++;if(q){for(var T=T.replace(/([^\^])-/g,"$1- ").split(" "),P=T.length>1&&r.whiteSpace!=="nowrap",S,L,N=E._clipHeight,M=[],U=F(),V=1;P&&(T.length||M.length);){delete E.bBox,S=E.getBBox(),L=S.width,!bA&&C.forExport&&(L=C.measureSpanWidth(R.firstChild.data,E.styles)),S=L>q,!S||T.length===1?(T=M,M=[],T.length&&(V++,N&&V*U>N?(T=["..."],E.attr("title",E.textStr)):(R=at.createElementNS(b,"tspan"),bg(R,{dy:U,x:t}),O&&bg(R,"style",O),D.appendChild(R),L>q&&(q=L)))):(R.removeChild(R.firstChild),M.unshift(T.pop())),T.length&&R.appendChild(at.createTextNode(T.join(" ").replace(/- /g,"-")))}}}}})}))},button:function(I,H,G,F,E,D,C,A,z){var y=this.label(I,H,G,z,null,null,null,null,"button"),w=0,v,r,t,K,u,q,I={x1:0,y1:0,x2:0,y2:1},E=av({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:I,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},E);t=E.style;delete E.style;D=av(E,{stroke:"#68A",fill:{linearGradient:I,stops:[[0,"#FFF"],[1,"#ACF"]]}},D);K=D.style;delete D.style;C=av(E,{stroke:"#68A",fill:{linearGradient:I,stops:[[0,"#9BD"],[1,"#CDF"]]}},C);u=C.style;delete C.style;A=av(E,{style:{color:"#CCC"}},A);q=A.style;delete A.style;a8(y.element,bU?"mouseover":"mouseenter",function(){w!==3&&y.attr(D).css(K)});a8(y.element,bU?"mouseout":"mouseleave",function(){w!==3&&(v=[E,D,C][w],r=[t,K,u][w],y.attr(v).css(r))});y.setState=function(m){(y.state=w=m)?m===2?y.attr(C).css(u):m===3&&y.attr(A).css(q):y.attr(E).css(t)};return y.on("click",function(){w!==3&&F.call(y)}).attr(E).css(aA({cursor:"default"},t))},crispLine:function(p,m){p[1]===p[4]&&(p[1]=p[4]=ax(p[1])-m%2/2);p[2]===p[5]&&(p[2]=p[5]=ax(p[2])+m%2/2);return p},path:function(p){var m={fill:a5};o(p)?m.d=p:aD(p)&&aA(m,p);return this.createElement("path").attr(m)},circle:function(p,m,q){p=aD(p)?p:{x:p,y:m,r:q};m=this.createElement("circle");m.xSetter=function(r){this.element.setAttribute("cx",r)};m.ySetter=function(r){this.element.setAttribute("cy",r)};return m.attr(p)},arc:function(p,m,u,t,r,q){if(aD(p)){m=p.y,u=p.r,t=p.innerR,r=p.start,q=p.end,p=p.x}p=this.symbol("arc",p||0,m||0,u||0,u||0,{innerR:t||0,start:r||0,end:q||0});p.r=u;return p},rect:function(p,m,v,u,t,r){var t=aD(p)?p.r:t,q=this.createElement("rect"),p=aD(p)?p:p===ay?{}:{x:p,y:m,width:aw(v,0),height:aw(u,0)};if(r!==ay){p.strokeWidth=r,p=q.crisp(p)}if(t){p.r=t}q.rSetter=function(w){bg(this.element,{rx:w,ry:w})};return q.attr(p)},setSize:function(p,m,t){var r=this.alignedObjects,q=r.length;this.width=p;this.height=m;for(this.boxWrapper[aE(t,!0)?"animate":"attr"]({width:p,height:m});q--;){r[q].align()}},g:function(p){var m=this.createElement("g");return az(p)?m.attr({"class":"highcharts-"+p}):m},image:function(p,m,u,t,r){var q={preserveAspectRatio:a5};arguments.length>1&&aA(q,{x:m,y:u,width:t,height:r});q=this.createElement("image").attr(q);q.element.setAttributeNS?q.element.setAttributeNS("http://www.w3.org/1999/xlink","href",p):q.element.setAttribute("hc-svg-href",p);return q},symbol:function(A,z,y,w,v,u){var t,r=this.symbols[A],r=r&&r(ax(z),ax(y),w,v,u),q=/^url\((.*?)\)$/,p,m;if(r){t=this.path(r),aA(t,{symbolName:A,x:z,y:y,width:w,height:v}),u&&aA(t,u)}else{if(q.test(A)){m=function(D,C){D.element&&(D.attr({width:C[0],height:C[1]}),D.alignByTranslate||D.translate(ax((w-C[0])/2),ax((v-C[1])/2)))},p=A.match(q)[1],A=ak[p],t=this.image(p).attr({x:z,y:y}),t.isImg=!0,A?m(t,A):(t.attr({width:0,height:0}),aT("img",{onload:function(){m(t,ak[p]=[this.width,this.height])},src:p}))}}return t},symbols:{circle:function(p,m,t,r){var q=0.166*t;return["M",p+t/2,m,"C",p+t+q,m,p+t+q,m+r,p+t/2,m+r,"C",p-q,m+r,p-q,m,p+t/2,m,"Z"]},square:function(p,m,r,q){return["M",p,m,"L",p+r,m,p+r,m+q,p,m+q,"Z"]},triangle:function(p,m,r,q){return["M",p+r/2,m,"L",p+r,m+q,p,m+q,"Z"]},"triangle-down":function(p,m,r,q){return["M",p,m,"L",p+r,m,p+r/2,m+q,"Z"]},diamond:function(p,m,r,q){return["M",p+r/2,m,"L",p+r,m+q/2,p+r/2,m+q,p,m+q/2,"Z"]},arc:function(A,z,y,w,v){var u=v.start,y=v.r||y||w,t=v.end-0.001,w=v.innerR,r=v.open,q=aS(u),p=f(u),m=aS(t),t=f(t),v=v.end-u<bH?0:1;return["M",A+y*q,z+y*p,"A",y,y,0,v,1,A+y*m,z+y*t,r?"M":"L",A+w*m,z+w*t,"A",w,w,0,v,0,A+w*q,z+w*p,r?"":"Z"]},callout:function(y,w,v,u,t){var r=bo(t&&t.r||0,v,u),q=r+6,p=t&&t.anchorX,m=t&&t.anchorY,t=ax(t.strokeWidth||0)%2/2;y+=t;w+=t;t=["M",y+r,w,"L",y+v-r,w,"C",y+v,w,y+v,w,y+v,w+r,"L",y+v,w+u-r,"C",y+v,w+u,y+v,w+u,y+v-r,w+u,"L",y+r,w+u,"C",y,w+u,y,w+u,y,w+u-r,"L",y,w+r,"C",y,w,y,w,y+r,w];p&&p>v&&m>w+q&&m<w+u-q?t.splice(13,3,"L",y+v,m-6,y+v+6,m,y+v,m+6,y+v,w+u-r):p&&p<0&&m>w+q&&m<w+u-q?t.splice(33,3,"L",y,m+6,y-6,m,y,m-6,y,w+r):m&&m>u&&p>y+q&&p<y+v-q?t.splice(23,3,"L",p+6,w+u,p,w+u+6,p-6,w+u,y+r,w+u):m&&m<0&&p>y+q&&p<y+v-q&&t.splice(3,3,"L",p-6,w,p,w-6,p+6,w,v-r,w);return t}},clipRect:function(p,m,u,t){var r="highcharts-"+br++,q=this.createElement("clipPath").attr({id:r}).add(this.defs),p=this.rect(p,m,u,t,0).add(q);p.id=r;p.clipPath=q;return p},text:function(p,m,u,t){var r=bT||!bA&&this.forExport,q={};if(t&&!this.forExport){return this.html(p,m,u)}q.x=Math.round(m||0);if(u){q.y=Math.round(u)}if(p||p===0){q.text=p}p=this.createElement("text").attr(q);r&&p.css({position:"absolute"});if(!t){p.xSetter=function(w,v,C){var A=C.childNodes,z,y;for(y=1;y<A.length;y++){z=A[y],z.getAttribute("x")===C.getAttribute("x")&&z.setAttribute("x",w)}C.setAttribute(v,w)}}return p},fontMetrics:function(p){var p=p||this.style.fontSize,p=/px/.test(p)?bq(p):/em/.test(p)?parseFloat(p)*12:12,p=p<24?p+4:ax(p*1.2),m=ax(p*0.8);return{h:p,b:m}},label:function(aa,Z,Y,X,W,V,U,T,S){function P(){var v,m;v=G.element.style;D=(q===void 0||C===void 0||L.styles.textAlign)&&G.textStr&&G.getBBox();L.width=(q||D.width||0)+2*E+F;L.height=(C||D.height||0)+2*E;t=E+K.fontMetrics(v&&v.fontSize).b;if(I){if(!M){v=ax(-r*E),m=T?-t:0,L.box=M=X?K.symbol(X,v,m,L.width,L.height,H):K.rect(v,m,L.width,L.height,0,H[aP]),M.attr("fill",a5).add(L)}M.isImg||M.attr(aA({width:ax(L.width),height:ax(L.height)},H));H=null}}function O(){var v=L.styles,v=v&&v.textAlign,m=F+E*(1-r),y;y=T?0:t;if(az(q)&&D&&(v==="center"||v==="right")){m+={center:0.5,right:1}[v]*(q-D.width)}if(m!==G.x||y!==G.y){G.attr("x",m),y!==ay&&G.attr("y",y)}G.x=m;G.y=y}function N(v,m){M?M.attr(v,m):H[v]=m}var K=this,L=K.g(S),G=K.text("",0,0,U).attr({zIndex:1}),M,D,r=0,E=3,F=0,q,C,R,p,w=0,H={},t,I;L.onAdd=function(){G.add(L);L.attr({text:aa||"",x:Z,y:Y});M&&az(W)&&L.attr({anchorX:W,anchorY:V})};L.widthSetter=function(m){q=m};L.heightSetter=function(m){C=m};L.paddingSetter=function(m){az(m)&&m!==E&&(E=m,O())};L.paddingLeftSetter=function(m){az(m)&&m!==F&&(F=m,O())};L.alignSetter=function(m){r={left:0,center:0.5,right:1}[m]};L.textSetter=function(m){m!==ay&&G.textSetter(m);P();O()};L["stroke-widthSetter"]=function(v,m){v&&(I=!0);w=v%2/2;N(m,v)};L.strokeSetter=L.fillSetter=L.rSetter=function(v,m){m==="fill"&&v&&(I=!0);N(m,v)};L.anchorXSetter=function(v,m){W=v;N(m,v+w-R)};L.anchorYSetter=function(v,m){V=v;N(m,v-p)};L.xSetter=function(m){L.x=m;r&&(m-=r*((q||D.width)+E));R=ax(m);L.attr("translateX",R)};L.ySetter=function(m){p=L.y=ax(m);L.attr("translateY",p)};var u=L.css;return aA(L,{css:function(v){if(v){var m={},v=av(v);aB("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(y){v[y]!==ay&&(m[y]=v[y],delete v[y])});G.css(m)}return u.call(L,v)},getBBox:function(){return{width:D.width+2*E,height:D.height+2*E,x:D.x-E,y:D.y-E}},shadow:function(m){M&&M.shadow(m);return L},destroy:function(){aV(L.element,"mouseenter");aV(L.element,"mouseleave");G&&(G=G.destroy());M&&(M=M.destroy());aX.prototype.destroy.call(L);L=K=P=O=N=null}})}};bQ=bs;aA(aX.prototype,{htmlCss:function(p){var m=this.element;if(m=p&&m.tagName==="SPAN"&&p.width){delete p.width,this.textWidth=m,this.updateTransform()}this.styles=aA(this.styles,p);bm(this.element,p);return this},htmlGetBBox:function(){var p=this.element,m=this.bBox;if(!m){if(p.nodeName==="text"){p.style.position="absolute"}m=this.bBox={x:p.offsetLeft,y:p.offsetTop,width:p.offsetWidth,height:p.offsetHeight}}return m},htmlUpdateTransform:function(){if(this.added){var D=this.renderer,C=this.element,A=this.translateX||0,z=this.translateY||0,y=this.x||0,w=this.y||0,v=this.textAlign||"left",u={left:0,center:0.5,right:1}[v],t=this.shadows;bm(C,{marginLeft:A,marginTop:z});t&&aB(t,function(E){bm(E,{marginLeft:A+1,marginTop:z+1})});this.inverted&&aB(C.childNodes,function(E){D.invertChild(E,C)});if(C.tagName==="SPAN"){var r=this.rotation,q,p=bq(this.textWidth),m=[r,v,C.innerHTML,this.textWidth].join(",");if(m!==this.cTT){q=D.fontMetrics(C.style.fontSize).b;az(r)&&this.setSpanRotation(r,u,q);t=aE(this.elemWidth,C.offsetWidth);if(t>p&&/[ \-]/.test(C.textContent||C.innerText)){bm(C,{width:p+"px",display:"block",whiteSpace:"normal"}),t=p}this.getSpanCorrection(t,q,u,r,v)}bm(C,{left:y+(this.xCorr||0)+"px",top:w+(this.yCorr||0)+"px"});if(aF){q=C.offsetHeight}this.cTT=m}}else{this.alignOnAdd=!0}},setSpanRotation:function(p,m,t){var r={},q=bU?"-ms-transform":aF?"-webkit-transform":bP?"MozTransform":bl?"-o-transform":"";r[q]=r.transform="rotate("+p+"deg)";r[q+(bP?"Origin":"-origin")]=r.transformOrigin=m*100+"% "+t+"px";bm(this.element,r)},getSpanCorrection:function(p,m,q){this.xCorr=-p*q;this.yCorr=-m}});aA(bs.prototype,{html:function(p,m,u){var t=this.createElement("span"),r=t.element,q=t.renderer;t.textSetter=function(v){v!==r.innerHTML&&delete this.bBox;r.innerHTML=this.textStr=v};t.xSetter=t.ySetter=t.alignSetter=t.rotationSetter=function(w,v){v==="align"&&(v="textAlign");t[v]=w;t.htmlUpdateTransform()};t.attr({text:p,x:ax(m),y:ax(u)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});t.css=t.htmlCss;if(q.isSVG){t.add=function(w){var v,z=q.box.parentNode,y=[];if(this.parentGroup=w){if(v=w.div,!v){for(;w;){y.push(w),w=w.parentGroup}aB(y.reverse(),function(A){var C;v=A.div=A.div||aT(aM,{className:bg(A.element,"class")},{position:"absolute",left:(A.translateX||0)+"px",top:(A.translateY||0)+"px"},v||z);C=v.style;aA(A,{translateXSetter:function(D,E){C.left=D+"px";A[E]=D;A.doTransform=!0},translateYSetter:function(D,E){C.top=D+"px";A[E]=D;A.doTransform=!0},visibilitySetter:function(E,D){C[D]=E}})})}}else{v=z}v.appendChild(r);t.added=!0;t.alignOnAdd&&t.htmlUpdateTransform();return t}}return t}});var aU;if(!bA&&!bT){a0.VMLElement=aU={init:function(p,m){var t=["<",m,' filled="f" stroked="f"'],r=["position: ","absolute",";"],q=m===aM;(m==="shape"||q)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",q?"hidden":"visible");t.push(' style="',r.join(""),'"/>');if(m){t=q||m==="span"||m==="img"?t.join(""):p.prepVML(t),this.element=aT(t)}this.renderer=p},add:function(p){var m=this.renderer,r=this.element,q=m.box,q=p?p.element||p:q;p&&p.inverted&&m.invertChild(r,q);q.appendChild(r);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd){this.onAdd()}return this},updateTransform:aX.prototype.htmlUpdateTransform,setSpanRotation:function(){var p=this.rotation,m=aS(p*bf),q=f(p*bf);bm(this.element,{filter:p?["progid:DXImageTransform.Microsoft.Matrix(M11=",m,", M12=",-q,", M21=",q,", M22=",m,", sizingMethod='auto expand')"].join(""):a5})},getSpanCorrection:function(y,w,v,u,t){var r=u?aS(u*bf):1,q=u?f(u*bf):0,p=aE(this.elemHeight,this.element.offsetHeight),m;this.xCorr=r<0&&-y;this.yCorr=q<0&&-p;m=r*q<0;this.xCorr+=q*w*(m?1-v:v);this.yCorr-=r*w*(u?m?v:1-v:1);t&&t!=="left"&&(this.xCorr-=y*v*(r<0?-1:1),u&&(this.yCorr-=p*v*(q<0?-1:1)),bm(this.element,{textAlign:t}))},pathToVML:function(p){for(var m=p.length,q=[];m--;){if(bd(p[m])){q[m]=ax(p[m]*10)-5}else{if(p[m]==="Z"){q[m]="x"}else{if(q[m]=p[m],p.isArc&&(p[m]==="wa"||p[m]==="at")){q[m+5]===q[m+7]&&(q[m+7]+=p[m+7]>p[m+5]?1:-1),q[m+6]===q[m+8]&&(q[m+8]+=p[m+8]>p[m+6]?1:-1)}}}}return q.join(" ")||"x"},clip:function(p){var m=this,q;p?(q=p.members,ag(q,m),q.push(m),m.destroyClip=function(){ag(q,m)},p=p.getCSS(m)):(m.destroyClip&&m.destroyClip(),p={clip:a9?"inherit":"rect(auto)"});return m.css(p)},css:aX.prototype.htmlCss,safeRemoveChild:function(m){m.parentNode&&aQ(m)},destroy:function(){this.destroyClip&&this.destroyClip();return aX.prototype.destroy.apply(this)},on:function(p,m){this.element["on"+p]=function(){var q=be.event;q.target=q.srcElement;m(q)};return this},cutOffPath:function(p,m){var q,p=p.split(/[ ,]/);q=p.length;if(q===9||q===11){p[q-4]=p[q-2]=bq(p[q-2])-10*m}return p.join(" ")},shadow:function(E,D,C){var A=[],z,y=this.element,w=this.renderer,v,u=y.style,t,r=y.path,q,m,p,F;r&&typeof r.value!=="string"&&(r="x");m=r;if(E){p=aE(E.width,3);F=(E.opacity||0.15)/p;for(z=1;z<=3;z++){q=p*2+1-2*z;C&&(m=this.cutOffPath(r.value,q+0.5));t=['<shape isShadow="true" strokeweight="',q,'" filled="false" path="',m,'" coordsize="10 10" style="',y.style.cssText,'" />'];v=aT(w.prepVML(t),null,{left:bq(u.left)+aE(E.offsetX,1),top:bq(u.top)+aE(E.offsetY,1)});if(C){v.cutOff=q+1}t=['<stroke color="',E.color||"black",'" opacity="',F*z,'"/>'];aT(w.prepVML(t),null,null,v);D?D.element.appendChild(v):y.parentNode.insertBefore(v,y);A.push(v)}this.shadows=A}return this},updateShadows:bK,setAttr:function(p,m){a9?this.element[p]=m:this.element.setAttribute(p,m)},classSetter:function(m){this.element.className=m},dashstyleSetter:function(p,m,q){(q.getElementsByTagName("stroke")[0]||aT(this.renderer.prepVML(["<stroke/>"]),null,null,q))[m]=p||"solid";this[m]=p},dSetter:function(p,m,r){var q=this.shadows,p=p||[];this.d=p.join(" ");r.path=p=this.pathToVML(p);if(q){for(r=q.length;r--;){q[r].path=q[r].cutOff?this.cutOffPath(p,q[r].cutOff):p}}this.setAttr(m,p)},fillSetter:function(p,m,r){var q=r.nodeName;if(q==="SPAN"){r.style.color=p}else{if(q!=="IMG"){r.filled=p!==a5,this.setAttr("fillcolor",this.renderer.color(p,r,m,this))}}},opacitySetter:bK,rotationSetter:function(p,m,q){q=q.style;this[m]=q[m]=p;q.left=-ax(f(p*bf)+1)+"px";q.top=ax(aS(p*bf))+"px"},strokeSetter:function(p,m,q){this.setAttr("strokecolor",this.renderer.color(p,q,m))},"stroke-widthSetter":function(p,m,q){q.stroked=!!p;this[m]=p;bd(p)&&(p+="px");this.setAttr("strokeweight",p)},titleSetter:function(p,m){this.setAttr(m,p)},visibilitySetter:function(p,m,q){p==="inherit"&&(p="visible");this.shadows&&aB(this.shadows,function(r){r.style[m]=p});q.nodeName==="DIV"&&(p=p==="hidden"?"-999em":0,a9||(q.style[m]=p?"visible":"hidden"),m="top");q.style[m]=p},xSetter:function(p,m,q){this[m]=p;m==="x"?m="left":m==="y"&&(m="top");this.updateClipping?(this[m]=p,this.updateClipping()):q.style[m]=p},zIndexSetter:function(p,m,q){q.style[m]=p}};aU=i(aX,aU);aU.prototype.ySetter=aU.prototype.widthSetter=aU.prototype.heightSetter=aU.prototype.xSetter;var bC={Element:aU,isIE8:B.indexOf("MSIE 8.0")>-1,init:function(p,m,u,t){var r;this.alignedObjects=[];t=this.createElement(aM).css(aA(this.getStyle(t),{position:"relative"}));r=t.element;p.appendChild(t.element);this.isVML=!0;this.box=r;this.boxWrapper=t;this.cache={};this.setSize(m,u,!1);if(!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(q){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(p,m,u,t){var r=this.createElement(),q=aD(p);return aA(r,{members:[],left:(q?p.x:p)+1,top:(q?p.y:m)+1,width:(q?p.width:u)-1,height:(q?p.height:t)-1,getCSS:function(w){var v=w.element,C=v.nodeName,w=w.inverted,A=this.top-(C==="shape"?v.offsetTop:0),z=this.left,v=z+this.width,y=A+this.height,A={clip:"rect("+ax(w?z:A)+"px,"+ax(w?y:v)+"px,"+ax(w?v:y)+"px,"+ax(w?A:z)+"px)"};!w&&a9&&C==="DIV"&&aA(A,{width:v+"px",height:y+"px"});return A},updateClipping:function(){aB(r.members,function(v){v.element&&v.css(r.getCSS(v))})}})},color:function(ba,ab,aa,Z){var Y=this,X,W=/^rgba/,V,U,T=a5;ba&&ba.linearGradient?U="gradient":ba&&ba.radialGradient&&(U="pattern");if(U){var S,R,N=ba.linearGradient||ba.radialGradient,O,I,P,C,p,D="",ba=ba.stops,K,F=[],M=function(){V=['<fill colors="'+F.join(",")+'" opacity="',P,'" o:opacity2="',I,'" type="',U,'" ',D,'focus="100%" method="any" />'];aT(Y.prepVML(V),null,null,ab)};O=ba[0];K=ba[ba.length-1];O[0]>0&&ba.unshift([0,O[1]]);K[0]<1&&ba.push([1,K[1]]);aB(ba,function(q,m){W.test(q[1])?(X=bN(q[1]),S=X.get("rgb"),R=X.get("a")):(S=q[1],R=1);F.push(q[0]*100+"% "+S);m?(P=R,C=S):(I=R,p=S)});if(aa==="fill"){if(U==="gradient"){aa=N.x1||N[0]||0,ba=N.y1||N[1]||0,O=N.x2||N[2]||0,N=N.y2||N[3]||0,D='angle="'+(90-aY.atan((N-ba)/(O-aa))*180/bH)+'"',M()}else{var T=N.r,H=T*2,G=T*2,A=N.cx,L=N.cy,z=ab.radialReference,E,T=function(){z&&(E=Z.getBBox(),A+=(z[0]-E.x)/E.width-0.5,L+=(z[1]-E.y)/E.height-0.5,H*=z[2]/E.width,G*=z[2]/E.height);D='src="'+bi.global.VMLRadialGradientURL+'" size="'+H+","+G+'" origin="0.5,0.5" position="'+A+","+L+'" color2="'+p+'" ';M()};Z.added?T():Z.onAdd=T;T=C}}else{T=S}}else{if(W.test(ba)&&ab.tagName!=="IMG"){X=bN(ba),V=["<",aa,' opacity="',X.get("a"),'"/>'],aT(this.prepVML(V),null,null,ab),T=X.get("rgb")}else{T=ab.getElementsByTagName(aa);if(T.length){T[0].opacity=1,T[0].type="solid"}T=ba}}return T},prepVML:function(p){var m=this.isIE8,p=p.join("");m?(p=p.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),p=p.indexOf('style="')===-1?p.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):p.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):p=p.replace("<","<hcv:");return p},text:bs.prototype.html,path:function(p){var m={coordsize:"10 10"};o(p)?m.d=p:aD(p)&&aA(m,p);return this.createElement("shape").attr(m)},circle:function(p,m,r){var q=this.symbol("circle");if(aD(p)){r=p.r,m=p.y,p=p.x}q.isCircle=!0;q.r=r;return q.attr({x:p,y:m})},g:function(p){var m;p&&(m={className:"highcharts-"+p,"class":"highcharts-"+p});return this.createElement(aM).attr(m)},image:function(p,m,u,t,r){var q=this.createElement("img").attr({src:p});arguments.length>1&&q.attr({x:m,y:u,width:t,height:r});return q},createElement:function(m){return m==="rect"?this.symbol(m):bs.prototype.createElement.call(this,m)},invertChild:function(p,m){var t=this,r=m.style,q=p.tagName==="IMG"&&p.style;bm(p,{flip:"x",left:bq(r.width)-(q?bq(q.top):1),top:bq(r.height)-(q?bq(q.left):1),rotation:-90});aB(p.childNodes,function(u){t.invertChild(u,p)})},symbols:{arc:function(A,z,y,w,v){var u=v.start,t=v.end,r=v.r||y||w,y=v.innerR,w=aS(u),q=f(u),p=aS(t),m=f(t);if(t-u===0){return["x"]}u=["wa",A-r,z-r,A+r,z+r,A+r*w,z+r*q,A+r*p,z+r*m];v.open&&!y&&u.push("e","M",A,z);u.push("at",A-y,z-y,A+y,z+y,A+y*p,z+y*m,A+y*w,z+y*q,"x","e");u.isArc=!0;return u},circle:function(p,m,t,r,q){q&&(t=r=2*q.r);q&&q.isCircle&&(p-=t/2,m-=r/2);return["wa",p,m,p+t,m+r,p+t,m+r/2,p+t,m+r/2,"e"]},rect:function(p,m,t,r,q){return bs.prototype.symbols[!az(q)||!q.r?"square":"callout"].call(0,p,m,t,r,q)}}};a0.VMLRenderer=aU=function(){this.init.apply(this,arguments)};aU.prototype=av(bs.prototype,bC);bQ=aU}bs.prototype.measureSpanWidth=function(p,m){var r=at.createElement("span"),q;q=at.createTextNode(p);r.appendChild(q);bm(r,m);this.box.appendChild(r);q=r.offsetWidth;aQ(r);return q};var l;if(bT){a0.CanVGRenderer=aU=function(){b="http://www.w3.org/1999/xhtml"},aU.prototype.symbols={},l=function(){function p(){var q=m.length,r;for(r=0;r<q;r++){m[r]()}m=[]}var m=[];return{push:function(r,q){m.length===0&&an(q,p);m.push(r)}}}(),bQ=aU}c.prototype={addLabel:function(){var D=this.axis,C=D.options,A=D.chart,z=D.horiz,y=D.categories,w=D.names,v=this.pos,u=C.labels,t=D.tickPositions,z=z&&y&&!u.step&&!u.staggerLines&&!u.rotation&&A.plotWidth/t.length||!z&&(A.margin[3]||A.chartWidth*0.33),r=v===t[0],q=v===t[t.length-1],p,w=y?aE(y[v],w[v],v):v,y=this.label,m=t.info;D.isDatetimeAxis&&m&&(p=C.dateTimeLabelFormats[m.higherRanks[v]||m.unitName]);this.isFirst=r;this.isLast=q;C=D.labelFormatter.call({axis:D,chart:A,isFirst:r,isLast:q,dateTimeLabelFormat:p,value:D.isLog?ad(aH(w)):w});v=z&&{width:aw(1,ax(z-2*(u.padding||10)))+"px"};v=aA(v,u.style);if(az(y)){y&&y.attr({text:C}).css(v)}else{p={align:D.labelAlign};if(bd(u.rotation)){p.rotation=u.rotation}if(z&&u.ellipsis){p._clipHeight=D.len/t.length}this.label=az(C)&&u.enabled?A.renderer.text(C,0,0,u.useHTML).attr(p).css(v).add(D.labelGroup):null}},getLabelSize:function(){var p=this.label,m=this.axis;return p?p.getBBox()[m.horiz?"height":"width"]:0},getLabelSides:function(){var p=this.label.getBBox(),m=this.axis,r=m.horiz,q=m.options.labels,p=r?p.width:p.height,m=r?q.x-p*{left:0,center:0.5,right:1}[m.labelAlign]:0;return[m,r?p+m:p]},handleOverflow:function(E,D){var C=!0,A=this.axis,z=this.isFirst,y=this.isLast,w=A.horiz?D.x:D.y,v=A.reversed,u=A.tickPositions,t=this.getLabelSides(),r=t[0],t=t[1],q,m,p,F=this.label.line||0;q=A.labelEdge;m=A.justifyLabels&&(z||y);q[F]===ay||w+r>q[F]?q[F]=w+t:m||(C=!1);if(m){q=(m=A.justifyToPlot)?A.pos:0;m=m?q+A.len:A.chart.chartWidth;do{E+=z?1:-1,p=A.ticks[u[E]]}while(u[E]&&(!p||p.label.line!==F));A=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[z?0:1];z&&!v||y&&v?w+r<q&&(w=q-r,p&&w+t>A&&(C=!1)):w+t>m&&(w=m-t,p&&w+r<A&&(C=!1));D.x=w}return C},getPosition:function(p,m,v,u){var t=this.axis,r=t.chart,q=u&&r.oldChartHeight||r.chartHeight;return{x:p?t.translate(m+v,null,null,u)+t.transB:t.left+t.offset+(t.opposite?(u&&r.oldChartWidth||r.chartWidth)-t.right-t.left:0),y:p?q-t.bottom+t.offset-(t.opposite?t.height:0):q-t.translate(m+v,null,null,u)-t.transB}},getLabelPosition:function(E,D,C,A,z,y,w,v){var u=this.axis,t=u.transA,r=u.reversed,q=u.staggerLines,m=u.chart.renderer.fontMetrics(z.style.fontSize).b,p=z.rotation,E=E+z.x-(y&&A?y*t*(r?-1:1):0),D=D+z.y-(y&&!A?y*t*(r?1:-1):0);p&&u.side===2&&(D-=m-m*aS(p*bf));!az(z.y)&&!p&&(D+=m-C.getBBox().height/2);if(q){C.line=w/(v||1)%q,D+=C.line*(u.labelOffset/q)}return{x:E,y:D}},getMarkPath:function(p,m,u,t,r,q){return q.crispLine(["M",p,m,"L",p+(r?0:-u),m+(r?u:0)],t)},render:function(Z,Y,X){var W=this.axis,V=W.options,U=W.chart.renderer,T=W.horiz,S=this.type,R=this.label,P=this.pos,O=V.labels,N=this.gridLine,L=S?S+"Grid":"grid",M=S?S+"Tick":"tick",F=V[L+"LineWidth"],K=V[L+"LineColor"],z=V[L+"LineDashStyle"],m=V[M+"Length"],L=V[M+"Width"]||0,A=V[M+"Color"],G=V[M+"Position"],M=this.mark,D=O.step,I=!0,E=W.tickmarkOffset,C=this.getPosition(T,P,E,Y),t=C.x,C=C.y,H=T&&t===W.pos+W.len||!T&&C===W.pos?-1:1;this.isActive=!0;if(F){P=W.getPlotLinePath(P+E,F*H,Y,!0);if(N===ay){N={stroke:K,"stroke-width":F};if(z){N.dashstyle=z}if(!S){N.zIndex=1}if(Y){N.opacity=0}this.gridLine=N=F?U.path(P).attr(N).add(W.gridGroup):null}if(!Y&&N&&P){N[this.isNew?"attr":"animate"]({d:P,opacity:X})}}if(L&&m){G==="inside"&&(m=-m),W.opposite&&(m=-m),S=this.getMarkPath(t,C,m,L*H,T,U),M?M.animate({d:S,opacity:X}):this.mark=U.path(S).attr({stroke:A,"stroke-width":L,opacity:X}).add(W.axisGroup)}if(R&&!isNaN(t)){R.xy=C=this.getLabelPosition(t,C,R,T,O,E,Z,D),this.isFirst&&!this.isLast&&!aE(V.showFirstLabel,1)||this.isLast&&!this.isFirst&&!aE(V.showLastLabel,1)?I=!1:!W.isRadial&&!O.step&&!O.rotation&&!Y&&X!==0&&(I=this.handleOverflow(Z,C)),D&&Z%D&&(I=!1),I&&!isNaN(C.y)?(C.opacity=X,R[this.isNew?"attr":"animate"](C),this.isNew=!1):R.attr("y",-9999)}},destroy:function(){bu(this,this.axis)}};a0.PlotLineOrBand=function(p,m){this.axis=p;if(m){this.options=m,this.id=m.id}};a0.PlotLineOrBand.prototype={render:function(){var P=this,O=P.axis,N=O.horiz,M=(O.pointRange||0)/2,L=P.options,K=L.label,I=P.label,H=L.width,G=L.to,F=L.from,E=az(F)&&az(G),D=L.value,A=L.dashStyle,C=P.svgElem,w=[],z,r=L.color,m=L.zIndex,u=L.events,y={},v=O.chart.renderer;O.isLog&&(F=bx(F),G=bx(G),D=bx(D));if(H){if(w=O.getPlotLinePath(D,H),y={stroke:r,"stroke-width":H},A){y.dashstyle=A}}else{if(E){F=aw(F,O.min-M);G=bo(G,O.max+M);w=O.getPlotBandPath(F,G,L);if(r){y.fill=r}if(L.borderWidth){y.stroke=L.borderColor,y["stroke-width"]=L.borderWidth}}else{return}}if(az(m)){y.zIndex=m}if(C){if(w){C.animate({d:w},null,C.onGetPath)}else{if(C.hide(),C.onGetPath=function(){C.show()},I){P.label=I=I.destroy()}}}else{if(w&&w.length&&(P.svgElem=C=v.path(w).attr(y).add(),u)){for(z in M=function(p){C.on(p,function(q){u[p].apply(P,[q])})},u){M(z)}}}if(K&&az(K.text)&&w&&w.length&&O.width>0&&O.height>0){K=av({align:N&&E&&"center",x:N?!E&&4:10,verticalAlign:!N&&E&&"middle",y:N?E?16:10:E?6:-4,rotation:N&&!E&&90},K);if(!I){y={align:K.textAlign||K.align,rotation:K.rotation};if(az(m)){y.zIndex=m}P.label=I=v.text(K.text,0,0,K.useHTML).attr(y).css(K.style).add()}O=[w[1],w[4],aE(w[6],w[1])];w=[w[2],w[5],aE(w[7],w[2])];N=bM(O);E=bM(w);I.align(K,!1,{x:N,y:E,width:bE(O)-N,height:bE(w)-E});I.show()}else{I&&I.hide()}return P},destroy:function(){ag(this.axis.plotLinesAndBands,this);delete this.axis;bu(this)}};bX.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:a7,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return bY(this.total,-1)},style:a7.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(p,m){var u=m.isX;this.horiz=p.inverted?!u:u;this.coll=(this.isXAxis=u)?"xAxis":"yAxis";this.opposite=m.opposite;this.side=m.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(m);var t=this.options,r=t.type;this.labelFormatter=t.labels.formatter||this.defaultLabelFormatter;this.userOptions=m;this.minPixelPadding=0;this.chart=p;this.reversed=t.reversed;this.zoomEnabled=t.zoomEnabled!==!1;this.categories=t.categories||r==="category";this.names=[];this.isLog=r==="logarithmic";this.isDatetimeAxis=r==="datetime";this.isLinked=az(t.linkedTo);this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=t.minRange||t.maxZoom;this.range=t.range;this.offset=t.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=aE(t.crosshair,n(p.options.tooltip.crosshairs)[u?0:1],!1);var q,t=this.options.events;aI(this,p.axes)===-1&&(u&&!this.isColorAxis?p.axes.splice(p.xAxis.length,0,this):p.axes.push(this),p[this.coll].push(this));this.series=this.series||[];if(p.inverted&&u&&this.reversed===ay){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(q in t){a8(this,q,t[q])}if(this.isLog){this.val2lin=bx,this.lin2val=aH}},setOptions:function(m){this.options=av(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],av(bi[this.coll],m))},defaultLabelFormatter:function(){var p=this.axis,m=this.value,w=p.categories,v=this.dateTimeLabelFormat,u=bi.lang.numericSymbols,t=u&&u.length,r,q=p.options.labels.format,p=p.isLog?m:p.tickInterval;if(q){r=bn(q,this)}else{if(w){r=m}else{if(v){r=aC(v,m)}else{if(t&&p>=1000){for(;t--&&r===ay;){w=Math.pow(1000,t+1),p>=w&&u[t]!==null&&(r=bY(m/w,-1)+u[t])}}}}}r===ay&&(r=m>=10000?bY(m,0):bY(m,-1,ay,""));return r},getSeriesExtremes:function(){var p=this,m=p.chart;p.hasVisibleSeries=!1;p.dataMin=p.dataMax=null;p.buildStacks&&p.buildStacks();aB(p.series,function(t){if(t.visible||!m.options.chart.ignoreHiddenSeries){var r;r=t.options.threshold;var q;p.hasVisibleSeries=!0;p.isLog&&r<=0&&(r=null);if(p.isXAxis){if(r=t.xData,r.length){p.dataMin=bo(aE(p.dataMin,r[0]),bM(r)),p.dataMax=aw(aE(p.dataMax,r[0]),bE(r))}}else{t.getExtremes();q=t.dataMax;t=t.dataMin;if(az(t)&&az(q)){p.dataMin=bo(aE(p.dataMin,t),t),p.dataMax=aw(aE(p.dataMax,q),q)}if(az(r)){if(p.dataMin>=r){p.dataMin=r,p.ignoreMinPadding=!0}else{if(p.dataMax<r){p.dataMax=r,p.ignoreMaxPadding=!0}}}}}})},translate:function(z,y,w,v,u,t){var r=1,q=0,p=v?this.oldTransA:this.transA,v=v?this.oldMin:this.min,m=this.minPixelPadding,u=(this.options.ordinal||this.isLog&&u)&&this.lin2val;if(!p){p=this.transA}if(w){r*=-1,q=this.len}this.reversed&&(r*=-1,q-=r*(this.sector||this.len));y?(z=z*r+q,z-=m,z=z/p+v,u&&(z=this.lin2val(z))):(u&&(z=this.val2lin(z)),t==="between"&&(t=0.5),z=r*(z-v)*p+q+r*m+(bd(t)?p*t*this.pointRange:0));return z},toPixels:function(p,m){return this.translate(p,!1,!this.horiz,null,!0)+(m?0:this.pos)},toValue:function(p,m){return this.translate(p-(m?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(D,C,A,z,y){var w=this.chart,v=this.left,u=this.top,t,r,q=A&&w.oldChartHeight||w.chartHeight,p=A&&w.oldChartWidth||w.chartWidth,m;t=this.transB;y=aE(y,this.translate(D,null,null,A));D=A=ax(y+t);t=r=ax(q-y-t);if(isNaN(y)){m=!0}else{if(this.horiz){if(t=u,r=q-this.bottom,D<v||D>v+this.width){m=!0}}else{if(D=v,A=p-this.right,t<u||t>u+this.height){m=!0}}}return m&&!z?null:w.renderer.crispLine(["M",D,t,"L",A,r],C||1)},getLinearTickPositions:function(p,m,v){var u,t=ad(aZ(m/p)*p),r=ad(al(v/p)*p),q=[];if(m===v&&bd(m)){return[m]}for(m=t;m<=r;){q.push(m);m=ad(m+p);if(m===u){break}u=m}return q},getMinorTickPositions:function(){var p=this.options,m=this.tickPositions,t=this.minorTickInterval,r=[],q;if(this.isLog){q=m.length;for(p=1;p<q;p++){r=r.concat(this.getLogTickPositions(t,m[p-1],m[p],!0))}}else{if(this.isDatetimeAxis&&p.minorTickInterval==="auto"){r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(t),this.min,this.max,p.startOfWeek)),r[0]<this.min&&r.shift()}else{for(m=this.min+(m[0]-this.min)%t;m<=this.max;m+=t){r.push(m)}}}return r},adjustForMinRange:function(){var A=this.options,z=this.min,y=this.max,w,v=this.dataMax-this.dataMin>=this.minRange,u,t,r,q,p;if(this.isXAxis&&this.minRange===ay&&!this.isLog){az(A.min)||az(A.max)?this.minRange=null:(aB(this.series,function(C){q=C.xData;for(t=p=C.xIncrement?1:q.length-1;t>0;t--){if(r=q[t]-q[t-1],u===ay||r<u){u=r}}}),this.minRange=bo(u*5,this.dataMax-this.dataMin))}if(y-z<this.minRange){var m=this.minRange;w=(m-y+z)/2;w=[z-w,aE(A.min,z-w)];if(v){w[2]=this.dataMin}z=bE(w);y=[z+m,aE(A.max,z+m)];if(v){y[2]=this.dataMax}y=bM(y);y-z<m&&(w[0]=y-m,w[1]=aE(A.min,y-m),z=bE(w))}this.min=z;this.max=y},setAxisTranslation:function(z){var y=this,w=y.max-y.min,v=y.axisPointRange||0,u,t=0,r=0,q=y.linkedParent,p=!!y.categories,m=y.transA;if(y.isXAxis||p||v){q?(t=q.minPointOffset,r=q.pointRangePadding):aB(y.series,function(A){var D=p?1:y.isXAxis?A.pointRange:y.axisPointRange||0,C=A.options.pointPlacement,E=A.closestPointRange;D>w&&(D=0);v=aw(v,D);t=aw(t,j(C)?0:D/2);r=aw(r,C==="on"?0:D);!A.noSharedTooltip&&az(E)&&(u=az(u)?bo(u,E):E)}),q=y.ordinalSlope&&u?y.ordinalSlope/u:1,y.minPointOffset=t*=q,y.pointRangePadding=r*=q,y.pointRange=bo(v,w),y.closestPointRange=u}if(z){y.oldTransA=m}y.translationSlope=y.transA=m=y.len/(w+r||1);y.transB=y.horiz?y.left:y.bottom;y.minPixelPadding=m*t},setTickPositions:function(F){var E=this,D=E.chart,C=E.options,A=E.isLog,z=E.isDatetimeAxis,y=E.isXAxis,w=E.isLinked,v=E.options.tickPositioner,t=C.maxPadding,r=C.minPadding,q=C.tickInterval,m=C.minTickInterval,p=C.tickPixelInterval,G,u=E.categories;w?(E.linkedParent=D[E.coll][C.linkedTo],D=E.linkedParent.getExtremes(),E.min=aE(D.min,D.dataMin),E.max=aE(D.max,D.dataMax),C.type!==E.linkedParent.options.type&&b1(11,1)):(E.min=aE(E.userMin,C.min,E.dataMin),E.max=aE(E.userMax,C.max,E.dataMax));if(A){!F&&bo(E.min,aE(E.dataMin,E.min))<=0&&b1(10,1),E.min=ad(bx(E.min)),E.max=ad(bx(E.max))}if(E.range&&az(E.max)){E.userMin=E.min=aw(E.min,E.max-E.range),E.userMax=E.max,E.range=null}E.beforePadding&&E.beforePadding();E.adjustForMinRange();if(!u&&!E.axisPointRange&&!E.usePercentage&&!w&&az(E.min)&&az(E.max)&&(D=E.max-E.min)){if(!az(C.min)&&!az(E.userMin)&&r&&(E.dataMin<0||!E.ignoreMinPadding)){E.min-=D*r}if(!az(C.max)&&!az(E.userMax)&&t&&(E.dataMax>0||!E.ignoreMaxPadding)){E.max+=D*t}}if(bd(C.floor)){E.min=aw(E.min,C.floor)}if(bd(C.ceiling)){E.max=bo(E.max,C.ceiling)}E.min===E.max||E.min===void 0||E.max===void 0?E.tickInterval=1:w&&!q&&p===E.linkedParent.options.tickPixelInterval?E.tickInterval=E.linkedParent.tickInterval:(E.tickInterval=aE(q,u?1:(E.max-E.min)*p/aw(E.len,p)),!az(q)&&E.len<p&&!this.isRadial&&!this.isLog&&!u&&C.startOnTick&&C.endOnTick&&(G=!0,E.tickInterval/=4));y&&!F&&aB(E.series,function(H){H.processData(E.min!==E.oldMin||E.max!==E.oldMax)});E.setAxisTranslation(!0);E.beforeSetTickPositions&&E.beforeSetTickPositions();if(E.postProcessTickInterval){E.tickInterval=E.postProcessTickInterval(E.tickInterval)}if(E.pointRange){E.tickInterval=aw(E.pointRange,E.tickInterval)}if(!q&&E.tickInterval<m){E.tickInterval=m}if(!z&&!A&&!q){E.tickInterval=bj(E.tickInterval,null,bF(E.tickInterval),C)}E.minorTickInterval=C.minorTickInterval==="auto"&&E.tickInterval?E.tickInterval/5:C.minorTickInterval;E.tickPositions=F=C.tickPositions?[].concat(C.tickPositions):v&&v.apply(E,[E.min,E.max]);if(!F){!E.ordinalPositions&&(E.max-E.min)/E.tickInterval>aw(2*E.len,200)&&b1(19,!0),F=z?E.getTimeTicks(E.normalizeTimeTickInterval(E.tickInterval,C.units),E.min,E.max,C.startOfWeek,E.ordinalPositions,E.closestPointRange,!0):A?E.getLogTickPositions(E.tickInterval,E.min,E.max):E.getLinearTickPositions(E.tickInterval,E.min,E.max),G&&F.splice(1,F.length-2),E.tickPositions=F}if(!w){A=F[0],z=F[F.length-1],w=E.minPointOffset||0,C.startOnTick?E.min=A:E.min-w>A&&F.shift(),C.endOnTick?E.max=z:E.max+w<z&&F.pop(),F.length===1&&(C=a4(E.max)>10000000000000?1:0.001,E.min-=C,E.max+=C)}},setMaxTicks:function(){var p=this.chart,m=p.maxTicks||{},r=this.tickPositions,q=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&r&&r.length>(m[q]||0)&&this.options.alignTicks!==!1){m[q]=r.length}p.maxTicks=m},adjustTickAmount:function(){var p=this._maxTicksKey,m=this.tickPositions,t=this.chart.maxTicks;if(t&&t[p]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==ay){var r=this.tickAmount,q=m.length;this.tickAmount=p=t[p];if(q<p){for(;m.length<p;){m.push(ad(m[m.length-1]+this.tickInterval))}this.transA*=(q-1)/(p-1);this.max=m[m.length-1]}if(az(r)&&p!==r){this.isDirty=!0}}},setScale:function(){var p=this.stacks,m,t,r,q;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();q=this.len!==this.oldAxisLength;aB(this.series,function(u){if(u.isDirtyData||u.isDirty||u.xAxis.isDirty){r=!0}});if(q||r||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis){for(m in p){for(t in p[m]){p[m][t].total=null,p[m][t].cum=0}}}this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty){this.isDirty=q||this.min!==this.oldMin||this.max!==this.oldMax}}else{if(!this.isXAxis){if(this.oldStacks){p=this.stacks=this.oldStacks}for(m in p){for(t in p[m]){p[m][t].cum=p[m][t].total}}}}this.setMaxTicks()},setExtremes:function(p,m,v,u,t){var r=this,q=r.chart,v=aE(v,!0),t=aA(t,{min:p,max:m});bk(r,"setExtremes",t,function(){r.userMin=p;r.userMax=m;r.eventArgs=t;r.isDirtyExtremes=!0;v&&q.redraw(u)})},zoom:function(p,m){var t=this.dataMin,r=this.dataMax,q=this.options;this.allowZoomOutside||(az(t)&&p<=bo(t,aE(q.min,t))&&(p=ay),az(r)&&m>=aw(r,aE(q.max,r))&&(m=ay));this.displayBtn=p!==ay||m!==ay;this.setExtremes(p,m,!1,ay,{trigger:"zoom"});return !0},setAxisSize:function(){var p=this.chart,m=this.options,v=m.offsetLeft||0,u=this.horiz,t=aE(m.width,p.plotWidth-v+(m.offsetRight||0)),r=aE(m.height,p.plotHeight),q=aE(m.top,p.plotTop),m=aE(m.left,p.plotLeft+v),v=/%$/;v.test(r)&&(r=parseInt(r,10)/100*p.plotHeight);v.test(q)&&(q=parseInt(q,10)/100*p.plotHeight+p.plotTop);this.left=m;this.top=q;this.width=t;this.height=r;this.bottom=p.chartHeight-r-q;this.right=p.chartWidth-t-m;this.len=aw(u?t:r,0);this.pos=u?m:q},getExtremes:function(){var m=this.isLog;return{min:m?ad(aH(this.min)):this.min,max:m?ad(aH(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(p){var m=this.isLog,q=m?aH(this.min):this.min,m=m?aH(this.max):this.max;q>p||p===null?p=q:m<p&&(p=m);return this.translate(p,0,1,0,1)},autoLabelAlign:function(m){m=(aE(m,0)-this.side*90+720)%360;return m>15&&m<165?"right":m>195&&m<345?"left":"center"},getOffset:function(){var Z=this,Y=Z.chart,X=Y.renderer,W=Z.options,V=Z.tickPositions,U=Z.ticks,T=Z.horiz,S=Z.side,R=Y.inverted?[1,0,3,2][S]:S,P,O=0,N,L=0,M=W.title,G=W.labels,m=0,C=Y.axisOffset,p=Y.clipOffset,D=[-1,1,1,-1][S],I,F=1,E=aE(G.maxStaggerLines,5),v,K,t,H,r=S===2?X.fontMetrics(G.style.fontSize).b:0;Z.hasData=P=Z.hasVisibleSeries||az(Z.min)&&az(Z.max)&&!!V;Z.showAxis=Y=P||aE(W.showEmpty,!0);Z.staggerLines=Z.horiz&&G.staggerLines;if(!Z.axisGroup){Z.gridGroup=X.g("grid").attr({zIndex:W.gridZIndex||1}).add(),Z.axisGroup=X.g("axis").attr({zIndex:W.zIndex||2}).add(),Z.labelGroup=X.g("axis-labels").attr({zIndex:G.zIndex||7}).addClass("highcharts-"+Z.coll.toLowerCase()+"-labels").add()}if(P||Z.isLinked){Z.labelAlign=aE(G.align||Z.autoLabelAlign(G.rotation));aB(V,function(q){U[q]?U[q].addLabel():U[q]=new c(Z,q)});if(Z.horiz&&!Z.staggerLines&&E&&!G.rotation){for(I=Z.reversed?[].concat(V).reverse():V;F<E;){P=[];v=!1;for(G=0;G<I.length;G++){K=I[G],t=(t=U[K].label&&U[K].label.getBBox())?t.width:0,H=G%F,t&&(K=Z.translate(K),P[H]!==ay&&K<P[H]&&(v=!0),P[H]=K+t)}if(v){F++}else{break}}if(F>1){Z.staggerLines=F}}aB(V,function(q){if(S===0||S===2||{1:"left",3:"right"}[S]===Z.labelAlign){m=aw(U[q].getLabelSize(),m)}});if(Z.staggerLines){m*=Z.staggerLines,Z.labelOffset=m}}else{for(I in U){U[I].destroy(),delete U[I]}}if(M&&M.text&&M.enabled!==!1){if(!Z.axisTitle){Z.axisTitle=X.text(M.text,0,0,M.useHTML).attr({zIndex:7,rotation:M.rotation||0,align:M.textAlign||{low:"left",middle:"center",high:"right"}[M.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(M.style).add(Z.axisGroup),Z.axisTitle.isNew=!0}if(Y){O=Z.axisTitle.getBBox()[T?"height":"width"],L=aE(M.margin,T?5:10),N=M.offset}Z.axisTitle[Y?"show":"hide"]()}Z.offset=D*aE(W.offset,C[S]);Z.axisTitleMargin=aE(N,m+L+(m&&D*W.labels[T?"y":"x"]-r));C[S]=aw(C[S],Z.axisTitleMargin+O+D*Z.offset);p[R]=aw(p[R],aZ(W.lineWidth/2)*2)},getLinePath:function(p){var m=this.chart,u=this.opposite,t=this.offset,r=this.horiz,q=this.left+(u?this.width:0)+t,t=m.chartHeight-this.bottom-(u?this.height:0)+t;u&&(p*=-1);return m.renderer.crispLine(["M",r?this.left:q,r?t:this.top,"L",r?m.chartWidth-this.right:q,r?t:m.chartHeight-this.bottom],p)},getTitlePosition:function(){var y=this.horiz,w=this.left,v=this.top,u=this.len,t=this.options.title,r=y?w:v,q=this.opposite,p=this.offset,m=bq(t.style.fontSize||12),u={low:r+(y?0:u),middle:r+u/2,high:r+(y?u:0)}[t.align],w=(y?v+this.height:w)+(y?1:-1)*(q?-1:1)*this.axisTitleMargin+(this.side===2?m:0);return{x:y?u:w+(q?this.width:0)+p+(t.x||0),y:y?w-(q?this.height:0)+p:u+(t.y||0)}},render:function(){var Z=this,Y=Z.horiz,X=Z.reversed,W=Z.chart,V=W.renderer,U=Z.options,T=Z.isLog,S=Z.isLinked,R=Z.tickPositions,P,O=Z.axisTitle,N=Z.ticks,K=Z.minorTicks,L=Z.alternateBands,G=U.stackLabels,M=U.alternateGridColor,t=Z.tickmarkOffset,H=U.lineWidth,C=W.hasRendered&&az(Z.oldMin)&&!isNaN(Z.oldMin),E=Z.hasData,F=Z.showAxis,D,r=U.labels.overflow,I=Z.justifyLabels=Y&&r!==!1,p;Z.labelEdge.length=0;Z.justifyToPlot=r==="justify";aB([N,K,L],function(q){for(var m in q){q[m].isActive=!1}});if(E||S){if(Z.minorTickInterval&&!Z.categories&&aB(Z.getMinorTickPositions(),function(m){K[m]||(K[m]=new c(Z,m,"minor"));C&&K[m].isNew&&K[m].render(null,!0);K[m].render(null,!1,1)}),R.length&&(P=R.slice(),(Y&&X||!Y&&!X)&&P.reverse(),I&&(P=P.slice(1).concat([P[0]])),aB(P,function(m,q){I&&(q=q===P.length-1?0:q+1);if(!S||m>=Z.min&&m<=Z.max){N[m]||(N[m]=new c(Z,m)),C&&N[m].isNew&&N[m].render(q,!0,0.1),N[m].render(q,!1,1)}}),t&&Z.min===0&&(N[-1]||(N[-1]=new c(Z,-1,null,!0)),N[-1].render(-1))),M&&aB(R,function(m,q){if(q%2===0&&m<Z.max){L[m]||(L[m]=new a0.PlotLineOrBand(Z)),D=m+t,p=R[q+1]!==ay?R[q+1]+t:Z.max,L[m].options={from:T?aH(D):D,to:T?aH(p):p,color:M},L[m].render(),L[m].isActive=!0}}),!Z._addedPlotLB){aB((U.plotLines||[]).concat(U.plotBands||[]),function(m){Z.addPlotBandOrLine(m)}),Z._addedPlotLB=!0}}aB([N,K,L],function(q){var m,y,w=[],v=ao?ao.duration||500:0,u=function(){for(y=w.length;y--;){q[w[y]]&&!q[w[y]].isActive&&(q[w[y]].destroy(),delete q[w[y]])}};for(m in q){if(!q[m].isActive){q[m].render(m,!1,0),q[m].isActive=!1,w.push(m)}}q===L||!W.hasRendered||!v?u():v&&setTimeout(u,v)});if(H){Y=Z.getLinePath(H),Z.axisLine?Z.axisLine.animate({d:Y}):Z.axisLine=V.path(Y).attr({stroke:U.lineColor,"stroke-width":H,zIndex:7}).add(Z.axisGroup),Z.axisLine[F?"show":"hide"]()}if(O&&F){O[O.isNew?"attr":"animate"](Z.getTitlePosition()),O.isNew=!1}G&&G.enabled&&Z.renderStackTotals();Z.isDirty=!1},redraw:function(){var m=this.chart.pointer;m&&m.reset(!0);this.render();aB(this.plotLinesAndBands,function(p){p.render()});aB(this.series,function(p){p.isDirty=!0})},destroy:function(p){var m=this,t=m.stacks,r,q=m.plotLinesAndBands;p||aV(m);for(r in t){bu(t[r]),t[r]=null}aB([m.ticks,m.minorTicks,m.alternateBands],function(u){bu(u)});for(p=q.length;p--;){q[p].destroy()}aB("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(u){m[u]&&(m[u]=m[u].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(p,m){if(this.crosshair){if((az(m)||!aE(this.crosshair.snap,!0))===!1){this.hideCrosshair()}else{var t,r=this.crosshair,q=r.animation;aE(r.snap,!0)?az(m)&&(t=this.chart.inverted!=this.horiz?m.plotX:this.len-m.plotY):t=this.horiz?p.chartX-this.pos:this.len-p.chartY+this.pos;t=this.isRadial?this.getPlotLinePath(this.isXAxis?m.x:aE(m.stackY,m.y)):this.getPlotLinePath(null,null,null,null,t);if(t===null){this.hideCrosshair()}else{if(this.cross){this.cross.attr({visibility:"visible"})[q?"animate":"attr"]({d:t},q)}else{q={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2};if(r.dashStyle){q.dashstyle=r.dashStyle}this.cross=this.chart.renderer.path(t).attr(q).add()}}}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};aA(bX.prototype,{getPlotBandPath:function(p,m){var r=this.getPlotLinePath(m),q=this.getPlotLinePath(p);q&&r?q.push(r[4],r[5],r[1],r[2]):q=null;return q},addPlotBand:function(m){this.addPlotBandOrLine(m,"plotBands")},addPlotLine:function(m){this.addPlotBandOrLine(m,"plotLines")},addPlotBandOrLine:function(p,m){var r=(new a0.PlotLineOrBand(this,p)).render(),q=this.userOptions;r&&(m&&(q[m]=q[m]||[],q[m].push(p)),this.plotLinesAndBands.push(r));return r},removePlotBandOrLine:function(p){for(var m=this.plotLinesAndBands,t=this.options,r=this.userOptions,q=m.length;q--;){m[q].id===p&&m[q].destroy()}aB([t.plotLines||[],r.plotLines||[],t.plotBands||[],r.plotBands||[]],function(u){for(q=u.length;q--;){u[q].id===p&&ag(u,u[q])}})}});bX.prototype.getTimeTicks=function(E,D,C,A){var z=[],y={},w=bi.global.useUTC,v,u=new Date(D-J),t=E.unitRange,r=E.count;if(az(D)){t>=aq.second&&(u.setMilliseconds(0),u.setSeconds(t>=aq.minute?0:r*aZ(u.getSeconds()/r)));if(t>=aq.minute){u[aG](t>=aq.hour?0:r*aZ(u[ai]()/r))}if(t>=aq.hour){u[af](t>=aq.day?0:r*aZ(u[k]()/r))}if(t>=aq.day){u[bJ](t>=aq.month?1:r*aZ(u[Q]()/r))}t>=aq.month&&(u[h](t>=aq.year?0:r*aZ(u[bR]()/r)),v=u[bB]());t>=aq.year&&(v-=v%r,u[bW](v));if(t===aq.week){u[bJ](u[Q]()-u[bZ]()+aE(A,1))}D=1;J&&(u=new Date(u.getTime()+J));v=u[bB]();for(var A=u.getTime(),q=u[bR](),m=u[Q](),p=w?J:(86400000+u.getTimezoneOffset()*60000)%86400000;A<C;){z.push(A),t===aq.year?A=e(v+D*r,0):t===aq.month?A=e(v,q+D*r):!w&&(t===aq.day||t===aq.week)?A=e(v,q,m+D*r*(t===aq.day?1:7)):A+=t*r,D++}z.push(A);aB(am(z,function(F){return t<=aq.hour&&F%aq.day===p}),function(F){y[F]="day"})}z.info=aA(E,{higherRanks:y,totalRange:t*r});return z};bX.prototype.normalizeTimeTickInterval=function(p,m){var v=m||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],u=v[v.length-1],t=aq[u[0]],r=u[1],q;for(q=0;q<v.length;q++){if(u=v[q],t=aq[u[0]],r=u[1],v[q+1]&&p<=(t*r[r.length-1]+aq[v[q+1][0]])/2){break}}t===aq.year&&p<5*t&&(r=[1,2,5]);v=bj(p/t,r,u[0]==="year"?aw(bF(p/t),1):1);return{unitRange:t,count:v,unitName:u[0]}};bX.prototype.getLogTickPositions=function(C,A,z,y){var w=this.options,v=this.len,u=[];if(!y){this._minorAutoInterval=null}if(C>=0.5){C=ax(C),u=this.getLinearTickPositions(C,A,z)}else{if(C>=0.08){for(var v=aZ(A),t,r,q,p,m,w=C>0.3?[1,2,4]:C>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];v<z+1&&!m;v++){r=w.length;for(t=0;t<r&&!m;t++){q=bx(aH(v)*w[t]),q>A&&(!y||p<=z)&&u.push(p),p>z&&(m=!0),p=q}}}else{if(A=aH(A),z=aH(z),C=w[y?"minorTickInterval":"tickInterval"],C=aE(C==="auto"?null:C,this._minorAutoInterval,(z-A)*(w.tickPixelInterval/(y?5:1))/((y?v/this.tickPositions.length:v)||1)),C=bj(C,null,bF(C)),u=by(this.getLinearTickPositions(C,A,z),bx),!y){this._minorAutoInterval=C/5}}}if(!y){this.tickInterval=C}return u};var b0=a0.Tooltip=function(){this.init.apply(this,arguments)};b0.prototype={init:function(p,m){var t=m.borderWidth,r=m.style,q=bq(r.padding);this.chart=p;this.options=m;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=p.renderer.label("",0,0,m.shape||"callout",null,null,m.useHTML,null,"tooltip").attr({padding:q,fill:m.backgroundColor,"stroke-width":t,r:m.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999});bT||this.label.shadow(m.shadow);this.shared=m.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(p,m,w,v){var u=this,t=u.now,r=u.options.animation!==!1&&!u.isHidden,q=u.followPointer||u.len>1;aA(t,{x:r?(2*t.x+p)/3:p,y:r?(t.y+m)/2:m,anchorX:q?ay:r?(2*t.anchorX+w)/3:w,anchorY:q?ay:r?(t.anchorY+v)/2:v});u.label.attr(t);if(r&&(a4(p-t.x)>1||a4(m-t.y)>1)){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(p,m,w,v)},32)}},hide:function(){var p=this,m;clearTimeout(this.hideTimer);if(!this.isHidden){m=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){p.label.fadeOut();p.isHidden=!0},aE(this.options.hideDelay,500)),m&&aB(m,function(q){q.setState()}),this.chart.hoverPoints=null}},getAnchor:function(y,w){var v,u=this.chart,t=u.inverted,r=u.plotTop,q=0,p=0,m,y=n(y);v=y[0].tooltipPos;this.followPointer&&w&&(w.chartX===ay&&(w=u.pointer.normalize(w)),v=[w.chartX-u.plotLeft,w.chartY-r]);v||(aB(y,function(z){m=z.series.yAxis;q+=z.plotX;p+=(z.plotLow?(z.plotLow+z.plotHigh)/2:z.plotY)+(!t&&m?m.top-r:0)}),q/=y.length,p/=y.length,v=[t?u.plotWidth-p:q,this.shared&&!t&&y.length>1&&w?w.chartY-r:t?u.plotHeight-q:p]);return by(v,ax)},getPosition:function(E,D,C){var A=this.chart,z=this.distance,y={},w,v=["y",A.chartHeight,D,C.plotY+A.plotTop],u=["x",A.chartWidth,E,C.plotX+A.plotLeft],t=C.ttBelow||A.inverted&&!C.negative||!A.inverted&&C.negative,r=function(G,F,K,I){var H=K<I-z,F=I+z+K<F,K=I-z-K;I+=z;if(t&&F){y[G]=I}else{if(!t&&H){y[G]=K}else{if(H){y[G]=K}else{if(F){y[G]=I}else{return !1}}}}},q=function(G,F,I,H){if(H<z||H>F-z){return !1}else{y[G]=H<I/2?1:H>F-I/2?F-I-2:H-I/2}},m=function(G){var F=v;v=u;u=F;w=G},p=function(){r.apply(0,v)!==!1?q.apply(0,u)===!1&&!w&&(m(!0),p()):w?y.x=y.y=0:(m(!0),p())};(A.inverted||this.len>1)&&m();p();return y},defaultFormatter:function(p){var m=this.points||n(this),r=m[0].series,q;q=[p.tooltipHeaderFormatter(m[0])];aB(m,function(t){r=t.series;q.push(r.tooltipFormatter&&r.tooltipFormatter(t)||t.point.tooltipFormatter(r.tooltipOptions.pointFormat))});q.push(p.options.footerFormat||"");return q.join("")},refresh:function(C,A){var z=this.chart,y=this.label,w=this.options,v,u,t={},r,q=[];r=w.formatter||this.defaultFormatter;var t=z.hoverPoints,p,m=this.shared;clearTimeout(this.hideTimer);this.followPointer=n(C)[0].series.tooltipOptions.followPointer;u=this.getAnchor(C,A);v=u[0];u=u[1];m&&(!C.series||!C.series.noSharedTooltip)?(z.hoverPoints=C,t&&aB(t,function(D){D.setState()}),aB(C,function(D){D.setState("hover");q.push(D.getLabelConfig())}),t={x:C[0].category,y:C[0].y},t.points=q,this.len=q.length,C=C[0]):t=C.getLabelConfig();r=r.call(t,this);t=C.series;this.distance=aE(t.tooltipOptions.distance,16);r===!1?this.hide():(this.isHidden&&(a1(y),y.attr("opacity",1).show()),y.attr({text:r}),p=w.borderColor||C.color||t.color||"#606060",y.attr({stroke:p}),this.updatePosition({plotX:v,plotY:u,negative:C.negative,ttBelow:C.ttBelow}),this.isHidden=!1);bk(z,"tooltipRefresh",{text:r,x:v+z.plotLeft,y:u+z.plotTop,borderColor:p})},updatePosition:function(p){var m=this.chart,q=this.label,q=(this.options.positioner||this.getPosition).call(this,q.width,q.height,p);this.move(ax(q.x),ax(q.y),p.plotX+m.plotLeft,p.plotY+m.plotTop)},tooltipHeaderFormatter:function(p){var m=p.series,w=m.tooltipOptions,v=w.dateTimeLabelFormats,u=w.xDateFormat,t=m.xAxis,r=t&&t.options.type==="datetime"&&bd(p.key),w=w.headerFormat,t=t&&t.closestPointRange,q;if(r&&!u){if(t){for(q in aq){if(aq[q]>=t||aq[q]<=aq.day&&p.key%aq[q]>0){u=v[q];break}}}else{u=v.day}u=u||v.year}r&&u&&(w=w.replace("{point.key}","{point.key:"+u+"}"));return bn(w,{point:p,series:m})}};var aK;bp=at.documentElement.ontouchstart!==ay;var au=a0.Pointer=function(p,m){this.init(p,m)};au.prototype={init:function(p,m){var u=m.chart,t=u.events,r=bT?"":u.zoomType,u=p.inverted,q;this.options=m;this.chart=p;this.zoomX=q=/x/.test(r);this.zoomY=r=/y/.test(r);this.zoomHor=q&&!u||r&&u;this.zoomVert=r&&!u||q&&u;this.hasZoom=q||r;this.runChartClick=t&&!!t.click;this.pinchDown=[];this.lastValidTouch={};if(a0.Tooltip&&m.tooltip.enabled){p.tooltip=new b0(p,m.tooltip),this.followTouchMove=m.tooltip.followTouchMove}this.setDOMEvents()},normalize:function(p,m){var r,q,p=p||window.event,p=a(p);if(!p.target){p.target=p.srcElement}q=p.touches?p.touches.length?p.touches.item(0):p.changedTouches[0]:p;if(!m){this.chartPosition=m=s(this.chart.container)}q.pageX===ay?(r=aw(p.x,p.clientX-m.left),q=p.y):(r=q.pageX-m.left,q=q.pageY-m.top);return aA(p,{chartX:ax(r),chartY:ax(q)})},getCoordinates:function(p){var m={xAxis:[],yAxis:[]};aB(this.chart.axes,function(q){m[q.isXAxis?"xAxis":"yAxis"].push({axis:q,value:q.toValue(p[q.horiz?"chartX":"chartY"])})});return m},getIndex:function(p){var m=this.chart;return m.inverted?m.plotHeight+m.plotTop-p.chartY:p.chartX-m.plotLeft},runPointActions:function(C){var A=this.chart,z=A.series,y=A.tooltip,w,v,u=A.hoverPoint,t=A.hoverSeries,r,q,p=A.chartWidth,m=this.getIndex(C);if(y&&this.options.tooltip.shared&&(!t||!t.noSharedTooltip)){v=[];r=z.length;for(q=0;q<r;q++){if(z[q].visible&&z[q].options.enableMouseTracking!==!1&&!z[q].noSharedTooltip&&z[q].singularTooltips!==!0&&z[q].tooltipPoints.length&&(w=z[q].tooltipPoints[m])&&w.series){w._dist=a4(m-w.clientX),p=bo(p,w._dist),v.push(w)}}for(r=v.length;r--;){v[r]._dist>p&&v.splice(r,1)}if(v.length&&v[0].clientX!==this.hoverX){y.refresh(v,C),this.hoverX=v[0].clientX}}z=t&&t.tooltipOptions.followPointer;if(t&&t.tracker&&!z){if((w=t.tooltipPoints[m])&&w!==u){w.onMouseOver(C)}}else{y&&z&&!y.isHidden&&(t=y.getAnchor([{}],C),y.updatePosition({plotX:t[0],plotY:t[1]}))}if(y&&!this._onDocumentMouseMove){this._onDocumentMouseMove=function(D){if(aW[aK]){aW[aK].pointer.onDocumentMouseMove(D)}},a8(at,"mousemove",this._onDocumentMouseMove)}aB(A.axes,function(D){D.drawCrosshair(C,aE(w,u))})},reset:function(p){var m=this.chart,u=m.hoverSeries,t=m.hoverPoint,r=m.tooltip,q=r&&r.shared?m.hoverPoints:t;(p=p&&r&&q)&&n(q)[0].plotX===ay&&(p=!1);if(p){r.refresh(q),t&&t.setState(t.state,!0)}else{if(t){t.onMouseOut()}if(u){u.onMouseOut()}r&&r.hide();if(this._onDocumentMouseMove){aV(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null}aB(m.axes,function(v){v.hideCrosshair()});this.hoverX=null}},scaleGroups:function(p,m){var r=this.chart,q;aB(r.series,function(t){q=p||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&(t.group.attr(q),t.markerGroup&&(t.markerGroup.attr(q),t.markerGroup.clip(m?r.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(q))});r.clipRect.attr(m||r.clipBox)},dragStart:function(p){var m=this.chart;m.mouseIsDown=p.type;m.cancelClick=!1;m.mouseDownX=this.mouseDownX=p.chartX;m.mouseDownY=this.mouseDownY=p.chartY},drag:function(E){var D=this.chart,C=D.options.chart,A=E.chartX,z=E.chartY,y=this.zoomHor,w=this.zoomVert,v=D.plotLeft,u=D.plotTop,t=D.plotWidth,r=D.plotHeight,q,m=this.mouseDownX,p=this.mouseDownY;A<v?A=v:A>v+t&&(A=v+t);z<u?z=u:z>u+r&&(z=u+r);this.hasDragged=Math.sqrt(Math.pow(m-A,2)+Math.pow(p-z,2));if(this.hasDragged>10){q=D.isInsidePlot(m-v,p-u);if(D.hasCartesianSeries&&(this.zoomX||this.zoomY)&&q&&!this.selectionMarker){this.selectionMarker=D.renderer.rect(v,u,y?1:t,w?1:r,0).attr({fill:C.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&y&&(A-=m,this.selectionMarker.attr({width:a4(A),x:(A>0?0:A)+m}));this.selectionMarker&&w&&(A=z-p,this.selectionMarker.attr({height:a4(A),y:(A>0?0:A)+p}));q&&!this.selectionMarker&&C.panning&&D.pan(E,C.panning)}},drop:function(y){var w=this.chart,v=this.hasPinched;if(this.selectionMarker){var u={xAxis:[],yAxis:[],originalEvent:y.originalEvent||y},y=this.selectionMarker,t=y.attr?y.attr("x"):y.x,r=y.attr?y.attr("y"):y.y,q=y.attr?y.attr("width"):y.width,p=y.attr?y.attr("height"):y.height,m;if(this.hasDragged||v){aB(w.axes,function(A){if(A.zoomEnabled){var z=A.horiz,C=A.toValue(z?t:r),z=A.toValue(z?t+q:r+p);!isNaN(C)&&!isNaN(z)&&(u[A.coll].push({axis:A,min:bo(C,z),max:aw(C,z)}),m=!0)}}),m&&bk(w,"selection",u,function(z){w.zoom(aA(z,v?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();v&&this.scaleGroups()}if(w){bm(w.container,{cursor:w._cursor}),w.cancelClick=this.hasDragged>10,w.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(m){m=this.normalize(m);m.preventDefault&&m.preventDefault();this.dragStart(m)},onDocumentMouseUp:function(m){aW[aK]&&aW[aK].pointer.drop(m)},onDocumentMouseMove:function(p){var m=this.chart,r=this.chartPosition,q=m.hoverSeries,p=this.normalize(p,r);r&&q&&!this.inClass(p.target,"highcharts-tracker")&&!m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop)&&this.reset()},onContainerMouseLeave:function(){var m=aW[aK];if(m){m.pointer.reset(),m.pointer.chartPosition=null}},onContainerMouseMove:function(p){var m=this.chart;aK=m.index;p=this.normalize(p);m.mouseIsDown==="mousedown"&&this.drag(p);(this.inClass(p.target,"highcharts-tracker")||m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop))&&!m.openMenu&&this.runPointActions(p)},inClass:function(p,m){for(var q;p;){if(q=bg(p,"class")){if(q.indexOf(m)!==-1){return !0}else{if(q.indexOf("highcharts-container")!==-1){return !1}}}p=p.parentNode}},onTrackerMouseOut:function(p){var m=this.chart.hoverSeries,q=(p=p.relatedTarget||p.toElement)&&p.point&&p.point.series;if(m&&!m.options.stickyTracking&&!this.inClass(p,"highcharts-tooltip")&&q!==m){m.onMouseOut()}},onContainerClick:function(y){var w=this.chart,v=w.hoverPoint,u=w.plotLeft,t=w.plotTop,r=w.inverted,q,p,m,y=this.normalize(y);y.cancelBubble=!0;if(!w.cancelClick){v&&this.inClass(y.target,"highcharts-tracker")?(q=this.chartPosition,p=v.plotX,m=v.plotY,aA(v,{pageX:q.left+u+(r?w.plotWidth-m:p),pageY:q.top+t+(r?w.plotHeight-p:m)}),bk(v.series,"click",aA(y,{point:v})),w.hoverPoint&&v.firePointEvent("click",y)):(aA(y,this.getCoordinates(y)),w.isInsidePlot(y.chartX-u,y.chartY-t)&&bk(w,"click",y))}},setDOMEvents:function(){var p=this,m=p.chart.container;m.onmousedown=function(q){p.onContainerMouseDown(q)};m.onmousemove=function(q){p.onContainerMouseMove(q)};m.onclick=function(q){p.onContainerClick(q)};a8(m,"mouseleave",p.onContainerMouseLeave);bz===1&&a8(at,"mouseup",p.onDocumentMouseUp);if(bp){m.ontouchstart=function(q){p.onContainerTouchStart(q)},m.ontouchmove=function(q){p.onContainerTouchMove(q)},bz===1&&a8(at,"touchend",p.onDocumentTouchEnd)}},destroy:function(){var m;aV(this.chart.container,"mouseleave",this.onContainerMouseLeave);bz||(aV(at,"mouseup",this.onDocumentMouseUp),aV(at,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(m in this){this[m]=null}}};aA(a0.Pointer.prototype,{pinchTranslate:function(p,m,u,t,r,q){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,p,m,u,t,r,q);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,p,m,u,t,r,q)},pinchTranslateDirection:function(aa,Z,Y,X,W,V,U,T){var S=this.chart,R=aa?"x":"y",P=aa?"X":"Y",O="chart"+P,L=aa?"width":"height",M=S["plot"+(aa?"Left":"Top")],G,N,K=T||1,I=S.inverted,A=S.bounds[aa?"h":"v"],H=Z.length===1,D=Z[0][O],E=Y[0][O],F=!H&&Z[1][O],C=!H&&Y[1][O],z,Y=function(){!H&&a4(D-F)>20&&(K=T||a4(E-C)/a4(D-F));N=(M-E)/K+D;G=S["plot"+(aa?"Width":"Height")]/K};Y();Z=N;Z<A.min?(Z=A.min,z=!0):Z+G>A.max&&(Z=A.max-G,z=!0);z?(E-=0.8*(E-U[R][0]),H||(C-=0.8*(C-U[R][1])),Y()):U[R]=[E,C];I||(V[R]=N-M,V[L]=G);V=I?1/K:K;W[L]=G;W[R]=Z;X[I?aa?"scaleY":"scaleX":"scale"+P]=K;X["translate"+P]=V*M+(E-V*D)},pinch:function(D){var C=this,A=C.chart,z=C.pinchDown,y=C.followTouchMove,w=D.touches,v=w.length,u=C.lastValidTouch,t=C.hasZoom,r=C.selectionMarker,q={},p=v===1&&(C.inClass(D.target,"highcharts-tracker")&&A.runTrackerClick||A.runChartClick),m={};(t||y)&&!p&&D.preventDefault();by(w,function(E){return C.normalize(E)});if(D.type==="touchstart"){aB(w,function(F,E){z[E]={chartX:F.chartX,chartY:F.chartY}}),u.x=[z[0].chartX,z[1]&&z[1].chartX],u.y=[z[0].chartY,z[1]&&z[1].chartY],aB(A.axes,function(F){if(F.zoomEnabled){var E=A.bounds[F.horiz?"h":"v"],K=F.minPixelPadding,I=F.toPixels(F.dataMin),H=F.toPixels(F.dataMax),G=bo(I,H),I=aw(I,H);E.min=bo(F.pos,G-K);E.max=aw(F.pos+F.len,I+K)}})}else{if(z.length){if(!r){C.selectionMarker=r=aA({destroy:bK},A.plotBox)}C.pinchTranslate(z,w,q,r,m,u);C.hasPinched=t;C.scaleGroups(q,m);!t&&y&&v===1&&this.runPointActions(C.normalize(D))}}},onContainerTouchStart:function(p){var m=this.chart;aK=m.index;p.touches.length===1?(p=this.normalize(p),m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop)?(this.runPointActions(p),this.pinch(p)):this.reset()):p.touches.length===2&&this.pinch(p)},onContainerTouchMove:function(m){(m.touches.length===1||m.touches.length===2)&&this.pinch(m)},onDocumentTouchEnd:function(m){aW[aK]&&aW[aK].pointer.drop(m)}});if(be.PointerEvent||be.MSPointerEvent){var aO={},bv=!!be.PointerEvent,ar=function(){var p,m=[];m.item=function(q){return this[q]};for(p in aO){aO.hasOwnProperty(p)&&m.push({pageX:aO[p].pageX,pageY:aO[p].pageY,target:aO[p].target})}return m},bS=function(p,m,r,q){p=p.originalEvent||p;if((p.pointerType==="touch"||p.pointerType===p.MSPOINTER_TYPE_TOUCH)&&aW[aK]){q(p),q=aW[aK].pointer,q[m]({type:r,target:p.currentTarget,preventDefault:bK,touches:ar()})}};aA(au.prototype,{onContainerPointerDown:function(m){bS(m,"onContainerTouchStart","touchstart",function(p){aO[p.pointerId]={pageX:p.pageX,pageY:p.pageY,target:p.currentTarget}})},onContainerPointerMove:function(m){bS(m,"onContainerTouchMove","touchmove",function(p){aO[p.pointerId]={pageX:p.pageX,pageY:p.pageY};if(!aO[p.pointerId].target){aO[p.pointerId].target=p.currentTarget}})},onDocumentPointerUp:function(m){bS(m,"onContainerTouchEnd","touchend",function(p){delete aO[p.pointerId]})},batchMSEvents:function(m){m(this.chart.container,bv?"pointerdown":"MSPointerDown",this.onContainerPointerDown);m(this.chart.container,bv?"pointermove":"MSPointerMove",this.onContainerPointerMove);m(at,bv?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});b2(au.prototype,"init",function(p,m,q){p.call(this,m,q);(this.hasZoom||this.followTouchMove)&&bm(m.container,{"-ms-touch-action":a5,"touch-action":a5})});b2(au.prototype,"setDOMEvents",function(m){m.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(a8)});b2(au.prototype,"destroy",function(m){this.batchMSEvents(aV);m.call(this)})}var bV=a0.Legend=function(p,m){this.init(p,m)};bV.prototype={init:function(p,m){var u=this,t=m.itemStyle,r=aE(m.padding,8),q=m.itemMarginTop||0;this.options=m;if(m.enabled){u.baseline=bq(t.fontSize)+3+q,u.itemStyle=t,u.itemHiddenStyle=av(t,m.itemHiddenStyle),u.itemMarginTop=q,u.padding=r,u.initialItemX=r,u.initialItemY=r-5,u.maxItemWidth=0,u.chart=p,u.itemHeight=0,u.lastLineHeight=0,u.symbolWidth=aE(m.symbolWidth,16),u.pages=[],u.render(),a8(u.chart,"endResize",function(){u.positionCheckboxes()})}},colorizeItem:function(z,y){var w=this.options,v=z.legendItem,u=z.legendLine,t=z.legendSymbol,r=this.itemHiddenStyle.color,w=y?w.itemStyle.color:r,q=y?z.legendColor||z.color||"#CCC":r,r=z.options&&z.options.marker,p={fill:q},m;v&&v.css({fill:w,color:w});u&&u.attr({stroke:q});if(t){if(r&&t.isMarker){for(m in p.stroke=q,r=z.convertAttribs(r),r){v=r[m],v!==ay&&(p[m]=v)}}t.attr(p)}},positionItem:function(p){var m=this.options,u=m.symbolPadding,m=!m.rtl,t=p._legendItemPos,r=t[0],t=t[1],q=p.checkbox;p.legendGroup&&p.legendGroup.translate(m?r:this.legendWidth-r-2*u-4,t);if(q){q.x=r,q.y=t}},destroyItem:function(p){var m=p.checkbox;aB(["legendItem","legendLine","legendSymbol","legendGroup"],function(q){p[q]&&(p[q]=p[q].destroy())});m&&aQ(p.checkbox)},destroy:function(){var p=this.group,m=this.box;if(m){this.box=m.destroy()}if(p){this.group=p.destroy()}},positionCheckboxes:function(p){var m=this.group.alignAttr,r,q=this.clipHeight||this.legendHeight;if(m){r=m.translateY,aB(this.allItems,function(v){var u=v.checkbox,t;u&&(t=r+u.y+(p||0)+3,bm(u,{left:m.translateX+v.legendItemWidth+u.x-20+"px",top:t+"px",display:t>r-6&&t<r+q-6?"":a5}))})}},renderTitle:function(){var p=this.padding,m=this.options.title,q=0;if(m.text){if(!this.title){this.title=this.chart.renderer.label(m.text,p-3,p-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(m.style).add(this.group)}p=this.title.getBBox();q=p.height;this.offsetWidth=p.width;this.contentGroup.attr({translateY:q})}this.titleHeight=q},renderItem:function(P){var O=this.chart,N=O.renderer,M=this.options,L=M.layout==="horizontal",K=this.symbolWidth,I=M.symbolPadding,H=this.itemStyle,G=this.itemHiddenStyle,F=this.padding,E=L?aE(M.itemDistance,20):0,D=!M.rtl,A=M.width,C=M.itemMarginBottom||0,v=this.itemMarginTop,z=this.initialItemX,y=P.legendItem,w=P.series&&P.series.drawLegendSymbol?P.series:P,m=w.options,m=this.createCheckboxForItem&&m&&m.showCheckbox,u=M.useHTML;if(!y){P.legendGroup=N.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),w.drawLegendSymbol(this,P),P.legendItem=y=N.text(M.labelFormat?bn(M.labelFormat,P):M.labelFormatter.call(P),D?K+I:-I,this.baseline,u).css(av(P.visible?H:G)).attr({align:D?"left":"right",zIndex:2}).add(P.legendGroup),this.setItemEvents&&this.setItemEvents(P,y,u,H,G),this.colorizeItem(P,P.visible),m&&this.createCheckboxForItem(P)}N=y.getBBox();K=P.legendItemWidth=M.itemWidth||P.legendItemWidth||K+I+N.width+E+(m?20:0);this.itemHeight=I=ax(P.legendItemHeight||N.height);if(L&&this.itemX-z+K>(A||O.chartWidth-2*F-z-M.x)){this.itemX=z,this.itemY+=v+this.lastLineHeight+C,this.lastLineHeight=0}this.maxItemWidth=aw(this.maxItemWidth,K);this.lastItemY=v+this.itemY+C;this.lastLineHeight=aw(I,this.lastLineHeight);P._legendItemPos=[this.itemX,this.itemY];L?this.itemX+=K:(this.itemY+=v+I+C,this.lastLineHeight=I);this.offsetWidth=A||aw((L?this.itemX-z-E:K)+F,this.offsetWidth)},getAllItems:function(){var m=[];aB(this.chart.series,function(p){var q=p.options;if(aE(q.showInLegend,!az(q.linkedTo)?ay:!1,!0)){m=m.concat(p.legendItems||(q.legendType==="point"?p.data:p))}});return m},render:function(){var D=this,C=D.chart,A=C.renderer,z=D.group,y,w,v,u,t=D.box,r=D.options,q=D.padding,p=r.borderWidth,m=r.backgroundColor;D.itemX=D.initialItemX;D.itemY=D.initialItemY;D.offsetWidth=0;D.lastItemY=0;if(!z){D.group=z=A.g("legend").attr({zIndex:7}).add(),D.contentGroup=A.g().attr({zIndex:1}).add(z),D.scrollGroup=A.g().add(D.contentGroup)}D.renderTitle();y=D.getAllItems();aJ(y,function(F,E){return(F.options&&F.options.legendIndex||0)-(E.options&&E.options.legendIndex||0)});r.reversed&&y.reverse();D.allItems=y;D.display=w=!!y.length;aB(y,function(E){D.renderItem(E)});v=r.width||D.offsetWidth;u=D.lastItemY+D.lastLineHeight+D.titleHeight;u=D.handleOverflow(u);if(p||m){v+=q;u+=q;if(t){if(v>0&&u>0){t[t.isNew?"attr":"animate"](t.crisp({width:v,height:u})),t.isNew=!1}}else{D.box=t=A.rect(0,0,v,u,r.borderRadius,p||0).attr({stroke:r.borderColor,"stroke-width":p||0,fill:m||a5}).add(z).shadow(r.shadow),t.isNew=!0}t[w?"show":"hide"]()}D.legendWidth=v;D.legendHeight=u;aB(y,function(E){D.positionItem(E)});w&&z.align(aA({width:v,height:u},r),!0,"spacingBox");C.isResizing||this.positionCheckboxes()},handleOverflow:function(G){var F=this,E=this.chart,D=E.renderer,C=this.options,A=C.y,A=E.spacingBox.height+(C.verticalAlign==="top"?-A:A)-this.padding,z=C.maxHeight,y,w=this.clipRect,v=C.navigation,u=aE(v.animation,!0),t=v.arrowSize||12,p=this.nav,r=this.pages,H,m=this.allItems;C.layout==="horizontal"&&(A/=2);z&&(A=bo(A,z));r.length=0;if(G>A&&!C.useHTML){this.clipHeight=y=A-20-this.titleHeight-this.padding;this.currentPage=aE(this.currentPage,1);this.fullHeight=G;aB(m,function(I,q){var M=I._legendItemPos[1],L=ax(I.legendItem.getBBox().height),K=r.length;if(!K||M-r[K-1]>y&&(H||M)!==r[K-1]){r.push(H||M),K++}q===m.length-1&&M+L-r[K-1]>y&&r.push(M);M!==H&&(H=M)});if(!w){w=F.clipRect=D.clipRect(0,this.padding,9999,0),F.contentGroup.clip(w)}w.attr({height:y});if(!p){this.nav=p=D.g().attr({zIndex:1}).add(this.group),this.up=D.symbol("triangle",0,0,t,t).on("click",function(){F.scroll(-1,u)}).add(p),this.pager=D.text("",15,10).css(v.style).add(p),this.down=D.symbol("triangle-down",0,0,t,t).on("click",function(){F.scroll(1,u)}).add(p)}F.scroll(0);G=A}else{if(p){w.attr({height:E.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return G},scroll:function(z,y){var w=this.pages,v=w.length,u=this.currentPage+z,t=this.clipHeight,r=this.options.navigation,q=r.activeColor,r=r.inactiveColor,p=this.pager,m=this.padding;u>v&&(u=v);if(u>0){y!==ay&&ap(y,this.chart),this.nav.attr({translateX:m,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:u===1?r:q}).css({cursor:u===1?"default":"pointer"}),p.attr({text:u+"/"+v}),this.down.attr({x:18+this.pager.getBBox().width,fill:u===v?r:q}).css({cursor:u===v?"default":"pointer"}),w=-w[u-1]+this.initialItemY,this.scrollGroup.animate({translateY:w}),this.currentPage=u,this.positionCheckboxes(w)}}};a7=a0.LegendSymbolMixin={drawRectangle:function(p,m){var q=p.options.symbolHeight||12;m.legendSymbol=this.chart.renderer.rect(0,p.baseline-5-q/2,p.symbolWidth,q,p.options.symbolRadius||0).attr({zIndex:3}).add(m.legendGroup)},drawLineMarker:function(p){var m=this.options,v=m.marker,u;u=p.symbolWidth;var t=this.chart.renderer,r=this.legendGroup,p=p.baseline-ax(t.fontMetrics(p.options.itemStyle.fontSize).b*0.3),q;if(m.lineWidth){q={"stroke-width":m.lineWidth};if(m.dashStyle){q.dashstyle=m.dashStyle}this.legendLine=t.path(["M",0,p,"L",u,p]).attr(q).add(r)}if(v&&v.enabled!==!1){m=v.radius,this.legendSymbol=u=t.symbol(this.symbol,u/2-m,p-m,2*m,2*m).add(r),u.isMarker=!0}}};(/Trident\/7\.0/.test(B)||bP)&&b2(bV.prototype,"positionItem",function(p,m){var r=this,q=function(){m._legendItemPos&&p.call(r,m)};q();setTimeout(q)});d.prototype={init:function(p,m){var v,u=p.series;p.series=null;v=av(bi,p);v.series=p.series=u;this.userOptions=p;u=v.chart;this.margin=this.splashArray("margin",u);this.spacing=this.splashArray("spacing",u);var t=u.events;this.bounds={h:{},v:{}};this.callback=m;this.isResizing=0;this.options=v;this.axes=[];this.series=[];this.hasCartesianSeries=u.showAxes;var r=this,q;r.index=aW.length;aW.push(r);bz++;u.reflow!==!1&&a8(r,"load",function(){r.initReflow()});if(t){for(q in t){a8(r,q,t[q])}}r.xAxis=[];r.yAxis=[];r.animation=bT?!1:aE(u.animation,!0);r.pointCount=0;r.counters=new bD;r.firstRender()},initSeries:function(p){var m=this.options.chart;(m=bh[p.type||m.type||m.defaultSeriesType])||b1(17,!0);m=new m;m.init(this,p);return m},isInsidePlot:function(p,m,r){var q=r?m:p,p=r?p:m;return q>=0&&q<=this.plotWidth&&p>=0&&p<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&aB(this.axes,function(m){m.adjustTickAmount()});this.maxTicks=null},redraw:function(E){var D=this.axes,C=this.series,A=this.pointer,z=this.legend,y=this.isDirtyLegend,w,v,u=this.isDirtyBox,t=C.length,r=t,q=this.renderer,m=q.isHidden(),p=[];ap(E,this);m&&this.cloneRenderTo();for(this.layOutTitles();r--;){if(E=C[r],E.options.stacking&&(w=!0,E.isDirty)){v=!0;break}}if(v){for(r=t;r--;){if(E=C[r],E.options.stacking){E.isDirty=!0}}}aB(C,function(F){F.isDirty&&F.options.legendType==="point"&&(y=!0)});if(y&&z.options.enabled){z.render(),this.isDirtyLegend=!1}w&&this.getStacks();if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,aB(D,function(F){F.setScale()})}this.adjustTickAmounts();this.getMargins();aB(D,function(F){F.isDirty&&(u=!0)});aB(D,function(F){if(F.isDirtyExtremes){F.isDirtyExtremes=!1,p.push(function(){bk(F,"afterSetExtremes",aA(F.eventArgs,F.getExtremes()));delete F.eventArgs})}(u||w)&&F.redraw()})}u&&this.drawChartBox();aB(C,function(F){F.isDirty&&F.visible&&(!F.isCartesian||F.xAxis)&&F.redraw()});A&&A.reset(!0);q.draw();bk(this,"redraw");m&&this.cloneRenderTo(!0);aB(p,function(F){F.call()})},get:function(p){var m=this.axes,t=this.series,r,q;for(r=0;r<m.length;r++){if(m[r].options.id===p){return m[r]}}for(r=0;r<t.length;r++){if(t[r].options.id===p){return t[r]}}for(r=0;r<t.length;r++){q=t[r].points||[];for(m=0;m<q.length;m++){if(q[m].id===p){return q[m]}}}return null},getAxes:function(){var p=this,m=this.options,q=m.xAxis=n(m.xAxis||{}),m=m.yAxis=n(m.yAxis||{});aB(q,function(t,r){t.index=r;t.isX=!0});aB(m,function(t,r){t.index=r});q=q.concat(m);aB(q,function(r){new bX(p,r)});p.adjustTickAmounts()},getSelectedPoints:function(){var m=[];aB(this.series,function(p){m=m.concat(am(p.points||[],function(q){return q.selected}))});return m},getSelectedSeries:function(){return am(this.series,function(m){return m.selected})},getStacks:function(){var m=this;aB(m.yAxis,function(p){if(p.stacks&&p.hasVisibleSeries){p.oldStacks=p.stacks}});aB(m.series,function(p){if(p.options.stacking&&(p.visible===!0||m.options.chart.ignoreHiddenSeries===!1)){p.stackKey=p.type+aE(p.options.stack,"")}})},setTitle:function(p,m,v){var q;var u=this,t=u.options,r;r=t.title=av(t.title,p);q=t.subtitle=av(t.subtitle,m),t=q;aB([["title",p,r],["subtitle",m,t]],function(y){var w=y[0],A=u[w],z=y[1],y=y[2];A&&z&&(u[w]=A=A.destroy());y&&y.text&&!A&&(u[w]=u.renderer.text(y.text,0,0,y.useHTML).attr({align:y.align,"class":"highcharts-"+w,zIndex:y.zIndex||4}).css(y.style).add())});u.layOutTitles(v)},layOutTitles:function(p){var m=0,v=this.title,u=this.subtitle,t=this.options,r=t.title,t=t.subtitle,q=this.spacingBox.width-44;if(v&&(v.css({width:(r.width||q)+"px"}).align(aA({y:15},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign)){m=v.getBBox().height}u&&(u.css({width:(t.width||q)+"px"}).align(aA({y:m+r.margin},t),!1,"spacingBox"),!t.floating&&!t.verticalAlign&&(m=al(m+u.getBBox().height)));v=this.titleOffset!==m;this.titleOffset=m;if(!this.isDirtyBox&&v){this.isDirtyBox=v,this.hasRendered&&aE(p,!0)&&this.isDirtyBox&&this.redraw()}},getChartSize:function(){var p=this.options.chart,m=p.width,p=p.height,q=this.renderToClone||this.renderTo;if(!az(m)){this.containerWidth=ae(q,"width")}if(!az(p)){this.containerHeight=ae(q,"height")}this.chartWidth=aw(0,m||this.containerWidth||600);this.chartHeight=aw(0,aE(p,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(p){var m=this.renderToClone,q=this.container;p?m&&(this.renderTo.appendChild(q),aQ(m),delete this.renderToClone):(q&&q.parentNode===this.renderTo&&this.renderTo.removeChild(q),this.renderToClone=m=this.renderTo.cloneNode(0),bm(m,{position:"absolute",top:"-9999px",display:"block"}),m.style.setProperty&&m.style.setProperty("display","block","important"),at.body.appendChild(m),q&&m.appendChild(q))},getContainer:function(){var p,m=this.options.chart,t,r,q;this.renderTo=p=m.renderTo;q="highcharts-"+br++;if(j(p)){this.renderTo=p=at.getElementById(p)}p||b1(13,!0);t=bq(bg(p,"data-highcharts-chart"));!isNaN(t)&&aW[t]&&aW[t].hasRendered&&aW[t].destroy();bg(p,"data-highcharts-chart",this.index);p.innerHTML="";!m.skipClone&&!p.offsetWidth&&this.cloneRenderTo();this.getChartSize();t=this.chartWidth;r=this.chartHeight;this.container=p=aT(aM,{className:"highcharts-container"+(m.className?" "+m.className:""),id:q},aA({position:"relative",overflow:"hidden",width:t+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},m.style),this.renderToClone||p);this._cursor=p.style.cursor;this.renderer=m.forExport?new bs(p,t,r,m.style,!0):new bQ(p,t,r,m.style);bT&&this.renderer.create(this,p,t,r)},getMargins:function(){var A=this.spacing,z,y=this.legend,w=this.margin,v=this.options.legend,u=aE(v.margin,20),t=v.x,r=v.y,q=v.align,p=v.verticalAlign,m=this.titleOffset;this.resetMargins();z=this.axisOffset;if(m&&!az(w[0])){this.plotTop=aw(this.plotTop,m+this.options.title.margin+A[0])}if(y.display&&!v.floating){if(q==="right"){if(!az(w[1])){this.marginRight=aw(this.marginRight,y.legendWidth-t+u+A[1])}}else{if(q==="left"){if(!az(w[3])){this.plotLeft=aw(this.plotLeft,y.legendWidth+t+u+A[3])}}else{if(p==="top"){if(!az(w[0])){this.plotTop=aw(this.plotTop,y.legendHeight+r+u+A[0])}}else{if(p==="bottom"&&!az(w[2])){this.marginBottom=aw(this.marginBottom,y.legendHeight-r+u+A[2])}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&aB(this.axes,function(C){C.getOffset()});az(w[3])||(this.plotLeft+=z[3]);az(w[0])||(this.plotTop+=z[0]);az(w[2])||(this.marginBottom+=z[2]);az(w[1])||(this.marginRight+=z[1]);this.setChartSize()},reflow:function(p){var m=this,u=m.options.chart,t=m.renderTo,r=u.width||ae(t,"width"),q=u.height||ae(t,"height"),u=p?p.target:be,t=function(){if(m.container){m.setSize(r,q,!1),m.hasUserSize=null}};if(!m.hasUserSize&&r&&q&&(u===be||u===at)){if(r!==m.containerWidth||q!==m.containerHeight){clearTimeout(m.reflowTimeout),p?m.reflowTimeout=setTimeout(t,100):t()}m.containerWidth=r;m.containerHeight=q}},initReflow:function(){var p=this,m=function(q){p.reflow(q)};a8(be,"resize",m);a8(p,"destroy",function(){aV(be,"resize",m)})},setSize:function(p,m,v){var u=this,t,r,q;u.isResizing+=1;q=function(){u&&bk(u,"endResize",null,function(){u.isResizing-=1})};ap(v,u);u.oldChartHeight=u.chartHeight;u.oldChartWidth=u.chartWidth;if(az(p)){u.chartWidth=t=aw(0,ax(p)),u.hasUserSize=!!t}if(az(m)){u.chartHeight=r=aw(0,ax(m))}(ao?g:bm)(u.container,{width:t+"px",height:r+"px"},ao);u.setChartSize(!0);u.renderer.setSize(t,r,v);u.maxTicks=null;aB(u.axes,function(w){w.isDirty=!0;w.setScale()});aB(u.series,function(w){w.isDirty=!0});u.isDirtyLegend=!0;u.isDirtyBox=!0;u.layOutTitles();u.getMargins();u.redraw(v);u.oldChartHeight=null;bk(u,"resize");ao===!1?q():setTimeout(q,ao&&ao.duration||500)},setChartSize:function(C){var A=this.inverted,z=this.renderer,y=this.chartWidth,w=this.chartHeight,v=this.options.chart,u=this.spacing,t=this.clipOffset,r,q,p,m;this.plotLeft=r=ax(this.plotLeft);this.plotTop=q=ax(this.plotTop);this.plotWidth=p=aw(0,ax(y-r-this.marginRight));this.plotHeight=m=aw(0,ax(w-q-this.marginBottom));this.plotSizeX=A?m:p;this.plotSizeY=A?p:m;this.plotBorderWidth=v.plotBorderWidth||0;this.spacingBox=z.spacingBox={x:u[3],y:u[0],width:y-u[3]-u[1],height:w-u[0]-u[2]};this.plotBox=z.plotBox={x:r,y:q,width:p,height:m};y=2*aZ(this.plotBorderWidth/2);A=al(aw(y,t[3])/2);z=al(aw(y,t[0])/2);this.clipBox={x:A,y:z,width:aZ(this.plotSizeX-aw(y,t[1])/2-A),height:aZ(this.plotSizeY-aw(y,t[2])/2-z)};C||aB(this.axes,function(D){D.setAxisSize();D.setAxisTranslation()})},resetMargins:function(){var p=this.spacing,m=this.margin;this.plotTop=aE(m[0],p[0]);this.marginRight=aE(m[1],p[1]);this.marginBottom=aE(m[2],p[2]);this.plotLeft=aE(m[3],p[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var T=this.options.chart,S=this.renderer,R=this.chartWidth,P=this.chartHeight,O=this.chartBackground,N=this.plotBackground,M=this.plotBorder,L=this.plotBGImage,K=T.borderWidth||0,I=T.backgroundColor,H=T.plotBackgroundColor,G=T.plotBackgroundImage,D=T.plotBorderWidth||0,E,y=this.plotLeft,F=this.plotTop,C=this.plotWidth,A=this.plotHeight,z=this.plotBox,t=this.clipRect,w=this.clipBox;E=K+(T.shadow?8:0);if(K||I){if(O){O.animate(O.crisp({width:R-E,height:P-E}))}else{O={fill:I||a5};if(K){O.stroke=T.borderColor,O["stroke-width"]=K}this.chartBackground=S.rect(E/2,E/2,R-E,P-E,T.borderRadius,K).attr(O).addClass("highcharts-background").add().shadow(T.shadow)}}if(H){N?N.animate(z):this.plotBackground=S.rect(y,F,C,A,0).attr({fill:H}).add().shadow(T.plotShadow)}if(G){L?L.animate(z):this.plotBGImage=S.image(G,y,F,C,A).add()}t?t.animate({width:w.width,height:w.height}):this.clipRect=S.clipRect(w);if(D){M?M.animate(M.crisp({x:y,y:F,width:C,height:A})):this.plotBorder=S.rect(y,F,C,A,0,-D).attr({stroke:T.plotBorderColor,"stroke-width":D,fill:a5,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var p=this,m=p.options.chart,u,t=p.options.series,r,q;aB(["inverted","angular","polar"],function(v){u=bh[m.type||m.defaultSeriesType];q=p[v]||m[v]||u&&u.prototype[v];for(r=t&&t.length;!q&&r--;){(u=bh[t[r].type])&&u.prototype[v]&&(q=!0)}p[v]=q})},linkSeries:function(){var p=this,m=p.series;aB(m,function(q){q.linkedSeries.length=0});aB(m,function(q){var r=q.options.linkedTo;if(j(r)&&(r=r===":previous"?p.series[q.index-1]:p.get(r))){r.linkedSeries.push(q),q.linkedParent=r}})},renderSeries:function(){aB(this.series,function(m){m.translate();m.setTooltipPoints&&m.setTooltipPoints();m.render()})},render:function(){var p=this,m=p.axes,v=p.renderer,u=p.options,t=u.labels,r=u.credits,q;p.setTitle();p.legend=new bV(p,u.legend);p.getStacks();aB(m,function(w){w.setScale()});p.getMargins();p.maxTicks=null;aB(m,function(w){w.setTickPositions(!0);w.setMaxTicks()});p.adjustTickAmounts();p.getMargins();p.drawChartBox();p.hasCartesianSeries&&aB(m,function(w){w.render()});if(!p.seriesGroup){p.seriesGroup=v.g("series-group").attr({zIndex:3}).add()}p.renderSeries();t.items&&aB(t.items,function(w){var A=aA(t.style,w.style),z=bq(A.left)+p.plotLeft,y=bq(A.top)+p.plotTop+12;delete A.left;delete A.top;v.text(w.html,z,y).attr({zIndex:2}).css(A).add()});if(r.enabled&&!p.credits){q=r.href,p.credits=v.text(r.text,0,0).on("click",function(){if(q){location.href=q}}).attr({align:r.position.align,zIndex:8}).css(r.style).add().align(r.position)}p.hasRendered=!0},destroy:function(){var p=this,m=p.axes,u=p.series,t=p.container,r,q=t&&t.parentNode;bk(p,"destroy");aW[p.index]=ay;bz--;p.renderTo.removeAttribute("data-highcharts-chart");aV(p);for(r=m.length;r--;){m[r]=m[r].destroy()}for(r=u.length;r--;){u[r]=u[r].destroy()}aB("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(v){var w=p[v];w&&w.destroy&&(p[v]=w.destroy())});if(t){t.innerHTML="",aV(t),q&&aQ(t)}for(r in p){delete p[r]}},isReadyToRender:function(){var m=this;return !bA&&be==be.top&&at.readyState!=="complete"||bT&&!be.canvg?(bT?l.push(function(){m.firstRender()},m.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",m.firstRender);at.readyState==="complete"&&m.firstRender()}),!1):!0},firstRender:function(){var p=this,m=p.options,q=p.callback;if(p.isReadyToRender()){p.getContainer();bk(p,"init");p.resetMargins();p.setChartSize();p.propFromSeries();p.getAxes();aB(m.series||[],function(r){p.initSeries(r)});p.linkSeries();bk(p,"beforeRender");if(a0.Pointer){p.pointer=new au(p,m)}p.render();p.renderer.draw();q&&q.apply(p,[p]);aB(p.callbacks,function(r){r.apply(p,[p])});p.cloneRenderTo(!0);bk(p,"load")}},splashArray:function(p,m){var q=m[p],q=aD(q)?q:[q,q,q,q];return[aE(m[p+"Top"],q[0]),aE(m[p+"Right"],q[1]),aE(m[p+"Bottom"],q[2]),aE(m[p+"Left"],q[3])]}};d.prototype.callbacks=[];aU=a0.CenteredSeriesMixin={getCenter:function(){var p=this.options,m=this.chart,w=2*(p.slicedOffset||0),v,u=m.plotWidth-2*w,t=m.plotHeight-2*w,m=p.center,p=[aE(m[0],"50%"),aE(m[1],"50%"),p.size||"100%",p.innerSize||0],r=bo(u,t),q;return by(p,function(z,y){q=/%$/.test(z);v=y<2||y===2&&q;return(q?[u,t,r,r][y]*bq(z)/100:z)+(v?w:0)})}};var ah=function(){};ah.prototype={init:function(p,m,q){this.series=p;this.applyOptions(m,q);this.pointAttr={};if(p.options.colorByPoint&&(m=p.options.colors||p.chart.options.colors,this.color=this.color||m[p.colorCounter++],p.colorCounter===m.length)){p.colorCounter=0}p.chart.pointCount++;return this},applyOptions:function(p,m){var r=this.series,q=r.pointValKey,p=ah.prototype.optionsToObject.call(this,p);aA(this,p);this.options=this.options?aA(this.options,p):p;if(q){this.y=this[q]}if(this.x===ay&&r){this.x=m===ay?r.autoIncrement():m}return this},optionsToObject:function(p){var m={},v=this.series,u=v.pointArrayMap||["y"],t=u.length,r=0,q=0;if(typeof p==="number"||p===null){m[u[0]]=p}else{if(o(p)){if(p.length>t){v=typeof p[0];if(v==="string"){m.name=p[0]}else{if(v==="number"){m.x=p[0]}}r++}for(;q<t;){m[u[q++]]=p[r++]}}else{if(typeof p==="object"){m=p;if(p.dataLabels){v._hasPointLabels=!0}if(p.marker){v._hasPointMarkers=!0}}}}return m},destroy:function(){var p=this.series.chart,m=p.hoverPoints,q;p.pointCount--;if(m&&(this.setState(),ag(m,this),!m.length)){p.hoverPoints=null}if(this===p.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){aV(this),this.destroyElements()}this.legendItem&&p.legend.destroyItem(this);for(q in this){this[q]=null}},destroyElements:function(){for(var p="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),m,q=6;q--;){m=p[q],this[m]&&(this[m]=this[m].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(p){var m=this.series,u=m.tooltipOptions,t=aE(u.valueDecimals,""),r=u.valuePrefix||"",q=u.valueSuffix||"";aB(m.pointArrayMap||["y"],function(v){v="{point."+v;if(r||q){p=p.replace(v+"}",r+v+"}"+q)}p=p.replace(v+"}",v+":,."+t+"f}")});return bn(p,{point:this,series:this.series})},firePointEvent:function(p,m,t){var r=this,q=this.series.options;(q.point.events[p]||r.options&&r.options.events&&r.options.events[p])&&this.importEvents();p==="click"&&q.allowPointSelect&&(t=function(u){r.select(null,u.ctrlKey||u.metaKey||u.shiftKey)});bk(this,p,m,t)}};var a6=function(){};a6.prototype={isCartesian:!0,type:"line",pointClass:ah,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(p,m){var v=this,u,t,r=p.series,q=function(y,w){return aE(y.options.index,y._i)-aE(w.options.index,w._i)};v.chart=p;v.options=m=v.setOptions(m);v.linkedSeries=[];v.bindAxes();aA(v,{name:m.name,state:"",pointAttr:{},visible:m.visible!==!1,selected:m.selected===!0});if(bT){m.animation=!1}t=m.events;for(u in t){a8(v,u,t[u])}if(t&&t.click||m.point&&m.point.events&&m.point.events.click||m.allowPointSelect){p.runTrackerClick=!0}v.getColor();v.getSymbol();aB(v.parallelArrays,function(w){v[w+"Data"]=[]});v.setData(m.data,!1);if(v.isCartesian){p.hasCartesianSeries=!0}r.push(v);v._i=r.length-1;aJ(r,q);this.yAxis&&aJ(this.yAxis.series,q);aB(r,function(y,w){y.index=w;y.name=y.name||"Series "+(w+1)})},bindAxes:function(){var p=this,m=p.options,r=p.chart,q;aB(p.axisTypes||[],function(t){aB(r[t],function(u){q=u.options;if(m[t]===q.index||m[t]!==ay&&m[t]===q.id||m[t]===ay&&q.index===0){u.series.push(p),p[t]=u,u.isDirty=!0}});!p[t]&&p.optionalAxis!==t&&b1(18,!0)})},updateParallelArrays:function(p,m){var r=p.series,q=arguments;aB(r.parallelArrays,typeof m==="number"?function(u){var t=u==="y"&&r.toYData?r.toYData(p):p[u];r[u+"Data"][m]=t}:function(t){Array.prototype[m].apply(r[t+"Data"],Array.prototype.slice.call(q,2))})},autoIncrement:function(){var p=this.options,m=this.xIncrement,m=aE(m,p.pointStart,0);this.pointInterval=aE(this.pointInterval,p.pointInterval,1);this.xIncrement=m+this.pointInterval;return m},getSegments:function(){var p=-1,m=[],t,r=this.points,q=r.length;if(q){if(this.options.connectNulls){for(t=q;t--;){r[t].y===null&&r.splice(t,1)}r.length&&(m=[r])}else{aB(r,function(v,u){v.y===null?(u>p+1&&m.push(r.slice(p+1,u)),p=u):u===q-1&&m.push(r.slice(p+1,u+1))})}}this.segments=m},setOptions:function(p){var m=this.chart,t=m.options.plotOptions,m=m.userOptions||{},r=m.plotOptions||{},q=t[this.type];this.userOptions=p;t=av(q,t.series,p);this.tooltipOptions=av(bi.tooltip,bi.plotOptions[this.type].tooltip,m.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,p.tooltip);q.marker===null&&delete t.marker;return t},getColor:function(){var p=this.options,m=this.userOptions,t=this.chart.options.colors,r=this.chart.counters,q;q=p.color||a3[this.type].color;if(!q&&!p.colorByPoint){az(m._colorIndex)?p=m._colorIndex:(m._colorIndex=r.color,p=r.color++),q=t[p]}this.color=q;r.wrapColor(t.length)},getSymbol:function(){var p=this.userOptions,m=this.options.marker,r=this.chart,q=r.options.symbols,r=r.counters;this.symbol=m.symbol;if(!this.symbol){az(p._symbolIndex)?p=p._symbolIndex:(p._symbolIndex=r.symbol,p=r.symbol++),this.symbol=q[p]}if(/^url/.test(this.symbol)){m.radius=0}r.wrapSymbol(q.length)},drawLegendSymbol:a7.drawLineMarker,setData:function(M,L,K,I){var H=this,G=H.points,F=G&&G.length||0,E,D=H.options,C=H.chart,A=null,z=H.xAxis,w=z&&!!z.categories,y=H.tooltipPoints,p=D.turboThreshold,u=this.xData,t=this.yData,m=(E=H.pointArrayMap)&&E.length,M=M||[];E=M.length;L=aE(L,!0);if(I!==!1&&E&&F===E&&!H.cropped&&!H.hasGroupedData){aB(M,function(r,q){G[q].update(r,!1)})}else{H.xIncrement=null;H.pointRange=w?1:D.pointRange;H.colorCounter=0;aB(this.parallelArrays,function(q){H[q+"Data"].length=0});if(p&&E>p){for(K=0;A===null&&K<E;){A=M[K],K++}if(bd(A)){w=aE(D.pointStart,0);D=aE(D.pointInterval,1);for(K=0;K<E;K++){u[K]=w,t[K]=M[K],w+=D}H.xIncrement=w}else{if(o(A)){if(m){for(K=0;K<E;K++){D=M[K],u[K]=D[0],t[K]=D.slice(1,m+1)}}else{for(K=0;K<E;K++){D=M[K],u[K]=D[0],t[K]=D[1]}}}else{b1(12)}}}else{for(K=0;K<E;K++){if(M[K]!==ay&&(D={series:H},H.pointClass.prototype.applyOptions.apply(D,[M[K]]),H.updateParallelArrays(D,K),w&&D.name)){z.names[D.x]=D.name}}}j(t[0])&&b1(14,!0);H.data=[];H.options.data=M;for(K=F;K--;){G[K]&&G[K].destroy&&G[K].destroy()}if(y){y.length=0}if(z){z.minRange=z.userMinRange}H.isDirty=H.isDirtyData=C.isDirtyBox=!0;K=!1}L&&C.redraw(K)},processData:function(E){var D=this.xData,C=this.yData,A=D.length,z;z=0;var y,w,v=this.xAxis,u=this.options,t=u.cropThreshold,r=0,q=this.isCartesian,m,p;if(q&&!this.isDirty&&!v.isDirty&&!this.yAxis.isDirty&&!E){return !1}if(q&&this.sorted&&(!t||A>t||this.forceCrop)){if(m=v.min,p=v.max,D[A-1]<m||D[0]>p){D=[],C=[]}else{if(D[0]<m||D[A-1]>p){z=this.cropData(this.xData,this.yData,m,p),D=z.xData,C=z.yData,z=z.start,y=!0,r=D.length}}}for(A=D.length-1;A>=0;A--){E=D[A]-D[A-1],!y&&D[A]>m&&D[A]<p&&r++,E>0&&(w===ay||E<w)?w=E:E<0&&this.requireSorting&&b1(15)}this.cropped=y;this.cropStart=z;this.processedXData=D;this.processedYData=C;this.activePointCount=r;if(u.pointRange===null){this.pointRange=w||1}this.closestPointRange=w},cropData:function(y,w,v,u){var t=y.length,r=0,q=t,p=aE(this.cropShoulder,1),m;for(m=0;m<t;m++){if(y[m]>=v){r=aw(0,m-p);break}}for(;m<t;m++){if(y[m]>u){q=m+p;break}}return{xData:y.slice(r,q),yData:w.slice(r,q),start:r,end:q}},generatePoints:function(){var D=this.options.data,C=this.data,A,z=this.processedXData,y=this.processedYData,w=this.pointClass,v=z.length,u=this.cropStart||0,t,r=this.hasGroupedData,q,p=[],m;if(!C&&!r){C=[],C.length=D.length,C=this.data=C}for(m=0;m<v;m++){t=u+m,r?p[m]=(new w).init(this,[z[m]].concat(n(y[m]))):(C[t]?q=C[t]:D[t]!==ay&&(C[t]=q=(new w).init(this,D[t],z[m])),p[m]=q)}if(C&&(v!==(A=C.length)||r)){for(m=0;m<A;m++){if(m===u&&!r&&(m+=v),C[m]){C[m].destroyElements(),C[m].plotX=ay}}}this.data=C;this.points=p},getExtremes:function(C){var A=this.yAxis,z=this.processedXData,y,w=[],v=0;y=this.xAxis.getExtremes();var u=y.min,t=y.max,r,q,p,m,C=C||this.stackedYData||this.processedYData;y=C.length;for(m=0;m<y;m++){if(q=z[m],p=C[m],r=p!==null&&p!==ay&&(!A.isLog||p.length||p>0),q=this.getExtremesFromAll||this.cropped||(z[m+1]||q)>=u&&(z[m-1]||q)<=t,r&&q){if(r=p.length){for(;r--;){p[r]!==null&&(w[v++]=p[r])}}else{w[v++]=p}}}this.dataMin=aE(void 0,bM(w));this.dataMax=aE(void 0,bE(w))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var G=this.options,F=G.stacking,E=this.xAxis,D=E.categories,C=this.yAxis,A=this.points,z=A.length,y=!!this.modifyValue,w=G.pointPlacement,v=w==="between"||bd(w),u=G.threshold,G=0;G<z;G++){var t=A[G],q=t.x,r=t.y,H=t.low,m=F&&C.stacks[(this.negStacks&&r<u?"-":"")+this.stackKey];if(C.isLog&&r<=0){t.y=r=null}t.plotX=E.translate(q,0,0,0,1,w,this.type==="flags");if(F&&this.visible&&m&&m[q]){m=m[q],r=m.points[this.index+","+G],H=r[0],r=r[1],H===0&&(H=aE(u,C.min)),C.isLog&&H<=0&&(H=null),t.total=t.stackTotal=m.total,t.percentage=m.total&&t.y/m.total*100,t.stackY=r,m.setOffset(this.pointXOffset||0,this.barW||0)}t.yBottom=az(H)?C.translate(H,0,1,0,1):null;y&&(r=this.modifyValue(r,t));t.plotY=typeof r==="number"&&r!==Infinity?C.translate(r,0,1,0,1):ay;t.clientX=v?E.translate(q,0,0,0,1):t.plotX;t.negative=t.y<(u||0);t.category=D&&D[t.x]!==ay?D[t.x]:t.x}this.getSegments()},animate:function(p){var m=this.chart,v=m.renderer,u;u=this.options.animation;var t=this.clipBox||m.clipBox,r=m.inverted,q;if(u&&!aD(u)){u=a3[this.type].animation}q=["_sharedClip",u.duration,u.easing,t.height].join(",");p?(p=m[q],u=m[q+"m"],p||(m[q]=p=v.clipRect(aA(t,{width:0})),m[q+"m"]=u=v.clipRect(-99,r?-m.plotLeft:-m.plotTop,99,r?m.chartWidth:m.chartHeight)),this.group.clip(p),this.markerGroup.clip(u),this.sharedClipKey=q):((p=m[q])&&p.animate({width:m.plotSizeX},u),m[q+"m"]&&m[q+"m"].animate({width:m.plotSizeX+99},u),this.animate=null)},afterAnimate:function(){var p=this.chart,m=this.sharedClipKey,r=this.group,q=this.clipBox;if(r&&this.options.clip!==!1){if(!m||!q){r.clip(q?p.renderer.clipRect(q):p.clipRect)}this.markerGroup.clip()}bk(this,"afterAnimate");setTimeout(function(){m&&p[m]&&(q||(p[m]=p[m].destroy()),p[m+"m"]&&(p[m+"m"]=p[m+"m"].destroy()))},100)},drawPoints:function(){var E,D=this.points,C=this.chart,A,z,y,w,v,u,t,r;A=this.options.marker;var q=this.pointAttr[""],m,p=this.markerGroup,F=aE(A.enabled,this.activePointCount<0.5*this.xAxis.len/A.radius);if(A.enabled!==!1||this._hasPointMarkers){for(y=D.length;y--;){if(w=D[y],A=aZ(w.plotX),z=w.plotY,r=w.graphic,u=w.marker||{},E=F&&u.enabled===ay||u.enabled,m=C.isInsidePlot(ax(A),z,C.inverted),E&&z!==ay&&!isNaN(z)&&w.y!==null){if(E=w.pointAttr[w.selected?"select":""]||q,v=E.r,u=aE(u.symbol,this.symbol),t=u.indexOf("url")===0,r){r[m?"show":"hide"](!0).animate(aA({x:A-v,y:z-v},r.symbolName?{width:2*v,height:2*v}:{}))}else{if(m&&(v>0||t)){w.graphic=C.renderer.symbol(u,A-v,z-v,2*v,2*v).attr(E).add(p)}}}else{if(r){w.graphic=r.destroy()}}}}},convertAttribs:function(p,m,w,v){var u=this.pointAttrToOptions,t,r,q={},p=p||{},m=m||{},w=w||{},v=v||{};for(t in u){r=u[t],q[t]=aE(p[r],m[t],w[t],v[t])}return q},getAttribs:function(){var G=this,F=G.options,E=a3[G.type].marker?F.marker:F,D=E.states,C=D.hover,A,z=G.color;A={stroke:z,fill:z};var y=G.points||[],w,v=[],u,t=G.pointAttrToOptions;u=G.hasPointSpecificOptions;var p=F.negativeColor,q=E.lineColor,H=E.fillColor;w=F.turboThreshold;var r;F.marker?(C.radius=C.radius||E.radius+2,C.lineWidth=C.lineWidth||E.lineWidth+1):C.color=C.color||bN(C.color||z).brighten(C.brightness).get();v[""]=G.convertAttribs(E,A);aB(["hover","select"],function(m){v[m]=G.convertAttribs(D[m],v[""])});G.pointAttr=v;z=y.length;if(!w||z<w||u){for(;z--;){w=y[z];if((E=w.options&&w.options.marker||w.options)&&E.enabled===!1){E.radius=0}if(w.negative&&p){w.color=w.fillColor=p}u=F.colorByPoint||w.color;if(w.options){for(r in t){az(E[t[r]])&&(u=!0)}}if(u){E=E||{};u=[];D=E.states||{};A=D.hover=D.hover||{};if(!F.marker){A.color=A.color||!w.options.color&&C.color||bN(w.color).brighten(A.brightness||C.brightness).get()}A={color:w.color};if(!H){A.fillColor=w.color}if(!q){A.lineColor=w.color}u[""]=G.convertAttribs(aA(A,E),v[""]);u.hover=G.convertAttribs(D.hover,v.hover,u[""]);u.select=G.convertAttribs(D.select,v.select,u[""])}else{u=v}w.pointAttr=u}}},destroy:function(){var y=this,w=y.chart,v=/AppleWebKit\/533/.test(B),u,t,r=y.data||[],q,p,m;bk(y,"destroy");aV(y);aB(y.axisTypes||[],function(z){if(m=y[z]){ag(m.series,y),m.isDirty=m.forceRedraw=!0}});y.legendItem&&y.chart.legend.destroyItem(y);for(t=r.length;t--;){(q=r[t])&&q.destroy&&q.destroy()}y.points=null;clearTimeout(y.animationTimeout);aB("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(z){y[z]&&(u=v&&z==="group"?"hide":"destroy",y[z][u]())});if(w.hoverSeries===y){w.hoverSeries=null}ag(w.series,y);for(p in y){delete y[p]}},getSegmentPath:function(p){var m=this,r=[],q=m.options.step;aB(p,function(y,w){var v=y.plotX,u=y.plotY,t;m.getPointSpline?r.push.apply(r,m.getPointSpline(p,y,w)):(r.push(w?"L":"M"),q&&w&&(t=p[w-1],q==="right"?r.push(t.plotX,u):q==="center"?r.push((t.plotX+v)/2,t.plotY,(t.plotX+v)/2,u):r.push(v,t.plotY)),r.push(y.plotX,y.plotY))});return r},getGraphPath:function(){var p=this,m=[],r,q=[];aB(p.segments,function(t){r=p.getSegmentPath(t);t.length>1?m=m.concat(r):q.push(t[0])});p.singlePoints=q;return p.graphPath=m},drawGraph:function(){var p=this,m=this.options,w=[["graph",m.lineColor||this.color]],v=m.lineWidth,u=m.dashStyle,t=m.linecap!=="square",r=this.getGraphPath(),q=m.negativeColor;q&&w.push(["graphNeg",q]);aB(w,function(C,A){var z=C[0],y=p[z];if(y){a1(y),y.animate({d:r})}else{if(v&&r.length){y={stroke:C[1],"stroke-width":v,fill:a5,zIndex:1},u?y.dashstyle=u:t&&(y["stroke-linecap"]=y["stroke-linejoin"]="round"),p[z]=p.chart.renderer.path(r).attr(y).add(p.group).shadow(!A&&m.shadow)}}})},clipNeg:function(){var C=this.options,A=this.chart,z=A.renderer,y=C.negativeColor||C.negativeFillColor,w,v=this.graph,u=this.area,t=this.posClip,r=this.negClip;w=A.chartWidth;var q=A.chartHeight,p=aw(w,q),m=this.yAxis;if(y&&(v||u)){y=ax(m.toPixels(C.threshold||0,!0));y<0&&(p-=y);C={x:0,y:0,width:p,height:y};p={x:0,y:y,width:p,height:p};if(A.inverted){C.height=p.y=A.plotWidth-y,z.isVML&&(C={x:A.plotWidth-y-A.plotLeft,y:0,width:w,height:q},p={x:y+A.plotLeft-w,y:0,width:A.plotLeft+y,height:w})}m.reversed?(A=p,w=C):(A=C,w=p);t?(t.animate(A),r.animate(w)):(this.posClip=t=z.clipRect(A),this.negClip=r=z.clipRect(w),v&&this.graphNeg&&(v.clip(t),this.graphNeg.clip(r)),u&&(u.clip(t),this.areaNeg.clip(r)))}},invertGroups:function(){function p(){var r={width:m.yAxis.len,height:m.xAxis.len};aB(["group","markerGroup"],function(t){m[t]&&m[t].attr(r).invert()})}var m=this,q=m.chart;if(m.xAxis){a8(q,"resize",p),a8(m,"destroy",function(){aV(q,"resize",p)}),p(),m.invertGroups=p}},plotGroup:function(p,m,v,u,t){var r=this[p],q=!r;q&&(this[p]=r=this.chart.renderer.g(m).attr({visibility:v,zIndex:u||0.1}).add(t));r[q?"attr":"animate"](this.getPlotBox());return r},getPlotBox:function(){var p=this.chart,m=this.xAxis,q=this.yAxis;if(p.inverted){m=q,q=this.xAxis}return{translateX:m?m.left:p.plotLeft,translateY:q?q.top:p.plotTop,scaleX:1,scaleY:1}},render:function(){var y=this,w=y.chart,v,u=y.options,t=(v=u.animation)&&!!y.animate&&w.renderer.isSVG&&aE(v.duration,500)||0,r=y.visible?"visible":"hidden",q=u.zIndex,p=y.hasRendered,m=w.seriesGroup;v=y.plotGroup("group","series",r,q,m);y.markerGroup=y.plotGroup("markerGroup","markers",r,q,m);t&&y.animate(!0);y.getAttribs();v.inverted=y.isCartesian?w.inverted:!1;y.drawGraph&&(y.drawGraph(),y.clipNeg());y.drawDataLabels&&y.drawDataLabels();y.visible&&y.drawPoints();y.drawTracker&&y.options.enableMouseTracking!==!1&&y.drawTracker();w.inverted&&y.invertGroups();u.clip!==!1&&!y.sharedClipKey&&!p&&v.clip(w.clipRect);t&&y.animate();if(!p){t?y.animationTimeout=setTimeout(function(){y.afterAnimate()},t):y.afterAnimate()}y.isDirty=y.isDirtyData=!1;y.hasRendered=!0},redraw:function(){var p=this.chart,m=this.isDirtyData,t=this.group,r=this.xAxis,q=this.yAxis;t&&(p.inverted&&t.attr({width:p.plotWidth,height:p.plotHeight}),t.animate({translateX:aE(r&&r.left,p.plotLeft),translateY:aE(q&&q.top,p.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();m&&bk(this,"updatedData")}};bG.prototype={destroy:function(){bu(this,this.axis)},render:function(p){var m=this.options,q=m.format,q=q?bn(q,this):m.formatter.call(this);this.label?this.label.attr({text:q,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(q,null,null,m.useHTML).css(m.style).attr({align:this.textAlign,rotation:m.rotation,visibility:"hidden"}).add(p)},setOffset:function(y,w){var v=this.axis,u=v.chart,t=u.inverted,r=this.isNegative,q=v.translate(v.usePercentage?100:this.total,0,0,0,1),v=v.translate(0),v=a4(q-v),p=u.xAxis[0].translate(this.x)+y,m=u.plotHeight,r={x:t?r?q:q-v:p,y:t?m-p-w:r?m-q-v:m-q,width:t?v:w,height:t?w:v};if(t=this.label){t.align(this.alignOptions,null,r),r=t.alignAttr,t[this.options.crop===!1||u.isInsidePlot(r.x,r.y)?"show":"hide"](!0)}}};bX.prototype.buildStacks=function(){var p=this.series,m=aE(this.options.reversedStacks,!0),q=p.length;if(!this.isXAxis){for(this.usePercentage=!1;q--;){p[m?q:p.length-q-1].setStackedPoints()}if(this.usePercentage){for(q=0;q<p.length;q++){p[q].setPercentStacks()}}}};bX.prototype.renderStackTotals=function(){var p=this.chart,m=p.renderer,u=this.stacks,t,r,q=this.stackTotalGroup;if(!q){this.stackTotalGroup=q=m.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}q.translate(p.plotLeft,p.plotTop);for(t in u){for(r in p=u[t],p){p[r].render(q)}}};a6.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var P=this.processedXData,O=this.processedYData,N=[],M=O.length,L=this.options,K=L.threshold,I=L.stack,L=L.stacking,H=this.stackKey,G="-"+H,F=this.negStacks,E=this.yAxis,D=E.stacks,z=E.oldStacks,A,C,y,w,v,t;for(w=0;w<M;w++){v=P[w];t=O[w];y=this.index+","+w;C=(A=F&&t<K)?G:H;D[C]||(D[C]={});if(!D[C][v]){z[C]&&z[C][v]?(D[C][v]=z[C][v],D[C][v].total=null):D[C][v]=new bG(E,E.options.stackLabels,A,v,I)}C=D[C][v];C.points[y]=[C.cum||0];L==="percent"?(A=A?H:G,F&&D[A]&&D[A][v]?(A=D[A][v],C.total=A.total=aw(A.total,C.total)+a4(t)||0):C.total=ad(C.total+(a4(t)||0))):C.total=ad(C.total+(t||0));C.cum=(C.cum||0)+(t||0);C.points[y].push(C.cum);N[w]=C.cum}if(L==="percent"){E.usePercentage=!0}this.stackedYData=N;E.oldStacks={}}};a6.prototype.setPercentStacks=function(){var p=this,m=p.stackKey,r=p.yAxis.stacks,q=p.processedXData;aB([m,"-"+m],function(t){var y;for(var w=q.length,v,u;w--;){if(v=q[w],y=(u=r[t]&&r[t][v])&&u.points[p.index+","+w],v=y){u=u.total?100/u.total:0,v[0]=ad(v[0]*u),v[1]=ad(v[1]*u),p.stackedYData[w]=v[1]}}})};aA(d.prototype,{addSeries:function(p,m,t){var r,q=this;p&&(m=aE(m,!0),bk(q,"addSeries",{options:p},function(){r=q.initSeries(p);q.isDirtyLegend=!0;q.linkSeries();m&&q.redraw(t)}));return r},addAxis:function(p,m,u,t){var r=m?"xAxis":"yAxis",q=this.options;new bX(this,av(p,{index:this[r].length,isX:m}));q[r]=n(q[r]||{});q[r].push(p);aE(u,!0)&&this.redraw(t)},showLoading:function(p){var m=this.options,r=this.loadingDiv,q=m.loading;if(!r){this.loadingDiv=r=aT(aM,{className:"highcharts-loading"},aA(q.style,{zIndex:10,display:a5}),this.container),this.loadingSpan=aT("span",null,q.labelStyle,r)}this.loadingSpan.innerHTML=p||m.lang.loading;if(!this.loadingShown){bm(r,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),g(r,{opacity:q.style.opacity},{duration:q.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var p=this.options,m=this.loadingDiv;m&&g(m,{opacity:0},{duration:p.loading.hideDuration||100,complete:function(){bm(m,{display:a5})}});this.loadingShown=!1}});aA(ah.prototype,{update:function(z,y,w){var v=this,u=v.series,t=v.graphic,r,q=u.data,p=u.chart,m=u.options,y=aE(y,!0);v.firePointEvent("update",{options:z},function(){v.applyOptions(z);if(aD(z)){u.getAttribs();if(t){z&&z.marker&&z.marker.symbol?v.graphic=t.destroy():t.attr(v.pointAttr[v.state||""])}if(z&&z.dataLabels&&v.dataLabel){v.dataLabel=v.dataLabel.destroy()}}r=aI(v,q);u.updateParallelArrays(v,r);m.data[r]=v.options;u.isDirty=u.isDirtyData=!0;if(!u.fixedBox&&u.hasCartesianSeries){p.isDirtyBox=!0}m.legendType==="point"&&p.legend.destroyItem(v);y&&p.redraw(w)})},remove:function(p,m){var w=this,v=w.series,u=v.points,t=v.chart,r,q=v.data;ap(m,t);p=aE(p,!0);w.firePointEvent("remove",null,function(){r=aI(w,q);q.length===u.length&&u.splice(r,1);q.splice(r,1);v.options.data.splice(r,1);v.updateParallelArrays(w,"splice",r,1);w.destroy();v.isDirty=!0;v.isDirtyData=!0;p&&t.redraw()})}});aA(a6.prototype,{addPoint:function(E,D,C,A){var z=this.options,y=this.data,w=this.graph,v=this.area,u=this.chart,t=this.xAxis&&this.xAxis.names,r=w&&w.shift||0,q=z.data,m,p=this.xData;ap(A,u);C&&aB([w,v,this.graphNeg,this.areaNeg],function(F){if(F){F.shift=r+1}});if(v){v.isArea=!0}D=aE(D,!0);A={series:this};this.pointClass.prototype.applyOptions.apply(A,[E]);w=A.x;v=p.length;if(this.requireSorting&&w<p[v-1]){for(m=!0;v&&p[v-1]>w;){v--}}this.updateParallelArrays(A,"splice",v,0,0);this.updateParallelArrays(A,v);if(t){t[w]=A.name}q.splice(v,0,E);m&&(this.data.splice(v,0,null),this.processData());z.legendType==="point"&&this.generatePoints();C&&(y[0]&&y[0].remove?y[0].remove(!1):(y.shift(),this.updateParallelArrays(A,"shift"),q.shift()));this.isDirtyData=this.isDirty=!0;D&&(this.getAttribs(),u.redraw())},remove:function(p,m){var r=this,q=r.chart,p=aE(p,!0);if(!r.isRemoving){r.isRemoving=!0,bk(r,"remove",null,function(){r.destroy();q.isDirtyLegend=q.isDirtyBox=!0;q.linkSeries();p&&q.redraw(m)})}r.isRemoving=!1},update:function(p,m){var u=this.chart,t=this.type,r=bh[t].prototype,q,p=av(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},p);this.remove(!1);for(q in r){r.hasOwnProperty(q)&&(this[q]=ay)}aA(this,bh[p.type||t].prototype);this.init(u,p);aE(m,!0)&&u.redraw(!1)}});aA(bX.prototype,{update:function(p,m){var q=this.chart,p=q.options[this.coll][this.options.index]=av(this.userOptions,p);this.destroy(!0);this._addedPlotLB=ay;this.init(q,aA(p,{events:ay}));q.isDirtyBox=!0;aE(m,!0)&&q.redraw()},remove:function(p){for(var m=this.chart,t=this.coll,r=this.series,q=r.length;q--;){r[q]&&r[q].remove(!1)}ag(m.axes,this);ag(m[t],this);m.options[t].splice(this.options.index,1);aB(m[t],function(v,u){v.options.index=u});this.destroy();m.isDirtyBox=!0;aE(p,!0)&&m.redraw()},setTitle:function(p,m){this.update({title:p},m)},setCategories:function(p,m){this.update({categories:p},m)}});bC=i(a6);bh.line=bC;a3.area=av(a2,{threshold:0});var aj=i(a6,{type:"area",getSegments:function(){var E=[],D=[],C=[],A=this.xAxis,z=this.yAxis,y=z.stacks[this.stackKey],w={},v,u,t=this.points,r=this.options.connectNulls,q,m,p;if(this.options.stacking&&!this.cropped){for(m=0;m<t.length;m++){w[t[m].x]=t[m]}for(p in y){y[p].total!==null&&C.push(+p)}C.sort(function(G,F){return G-F});aB(C,function(F){if(!r||w[F]&&w[F].y!==null){w[F]?D.push(w[F]):(v=A.translate(F),q=y[F].percent?y[F].total?y[F].cum*100/y[F].total:0:y[F].cum,u=z.toPixels(q,!0),D.push({y:null,plotX:v,clientX:v,plotY:u,yBottom:u,onMouseOver:bK}))}});D.length&&E.push(D)}else{a6.prototype.getSegments.call(this),E=this.segments}this.segments=E},getSegmentPath:function(p){var m=a6.prototype.getSegmentPath.call(this,p),v=[].concat(m),u,t=this.options;u=m.length;var r=this.yAxis.getThreshold(t.threshold),q;u===3&&v.push("L",m[1],m[2]);if(t.stacking&&!this.closedStacks){for(u=p.length-1;u>=0;u--){q=aE(p[u].yBottom,r),u<p.length-1&&t.step&&v.push(p[u+1].plotX,q),v.push(p[u].plotX,q)}}else{this.closeSegment(v,p,r)}this.areaPath=this.areaPath.concat(v);return m},closeSegment:function(p,m,q){p.push("L",m[m.length-1].plotX,q,"L",m[0].plotX,q)},drawGraph:function(){this.areaPath=[];a6.prototype.drawGraph.apply(this);var p=this,m=this.areaPath,u=this.options,t=u.negativeColor,r=u.negativeFillColor,q=[["area",this.color,u.fillColor]];(t||r)&&q.push(["areaNeg",t,r]);aB(q,function(y){var w=y[0],v=p[w];v?v.animate({d:m}):p[w]=p.chart.renderer.path(m).attr({fill:aE(y[2],bN(y[1]).setOpacity(aE(u.fillOpacity,0.75)).get()),zIndex:0}).add(p.group)})},drawLegendSymbol:a7.drawRectangle});bh.area=aj;a3.spline=av(a2);bC=i(a6,{type:"spline",getPointSpline:function(C,A,z){var y=A.plotX,w=A.plotY,v=C[z-1],u=C[z+1],t,r,q,p;if(v&&u){C=v.plotY;q=u.plotX;var u=u.plotY,m;t=(1.5*y+v.plotX)/2.5;r=(1.5*w+C)/2.5;q=(1.5*y+q)/2.5;p=(1.5*w+u)/2.5;m=(p-r)*(q-y)/(q-t)+w-p;r+=m;p+=m;r>C&&r>w?(r=aw(C,w),p=2*w-r):r<C&&r<w&&(r=bo(C,w),p=2*w-r);p>u&&p>w?(p=aw(u,w),r=2*w-p):p<u&&p<w&&(p=bo(u,w),r=2*w-p);A.rightContX=q;A.rightContY=p}z?(A=["C",v.rightContX||v.plotX,v.rightContY||v.plotY,t||y,r||w,y,w],v.rightContX=v.rightContY=null):A=["M",y,w];return A}});bh.spline=bC;a3.areaspline=av(a3.area);aj=aj.prototype;bC=i(bC,{type:"areaspline",closedStacks:!0,getSegmentPath:aj.getSegmentPath,closeSegment:aj.closeSegment,drawGraph:aj.drawGraph,drawLegendSymbol:a7.drawRectangle});bh.areaspline=bC;a3.column=av(a2,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});bC=i(a6,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){a6.prototype.init.apply(this,arguments);var p=this,m=p.chart;m.hasRendered&&aB(m.series,function(q){if(q.type===p.type){q.isDirty=!0}})},getColumnMetrics:function(){var C=this,A=C.options,z=C.xAxis,y=C.yAxis,w=z.reversed,v,u={},t,r=0;A.grouping===!1?r=1:aB(C.chart.series,function(D){var F=D.options,E=D.yAxis;if(D.type===C.type&&D.visible&&y.len===E.len&&y.pos===E.pos){F.stacking?(v=D.stackKey,u[v]===ay&&(u[v]=r++),t=u[v]):F.grouping!==!1&&(t=r++),D.columnIndex=t}});var z=bo(a4(z.transA)*(z.ordinalSlope||A.pointRange||z.closestPointRange||z.tickInterval||1),z.len),q=z*A.groupPadding,p=(z-2*q)/r,m=A.pointWidth,A=az(m)?(p-m)/2:p*A.pointPadding,m=aE(m,p-2*A);return C.columnMetrics={width:m,offset:A+(q+((w?r-(C.columnIndex||0):C.columnIndex)||0)*p-z/2)*(w?-1:1)}},translate:function(){var C=this,A=C.chart,z=C.options,y=C.borderWidth=aE(z.borderWidth,C.activePointCount>0.5*C.xAxis.len?0:1),w=C.yAxis,v=C.translatedThreshold=w.getThreshold(z.threshold),u=aE(z.minPointLength,5),z=C.getColumnMetrics(),t=z.width,r=C.barW=al(aw(t,1+2*y)),q=C.pointXOffset=z.offset,p=-(y%2?0.5:0),m=y%2?0.5:1;A.renderer.isVML&&A.inverted&&(m+=1);a6.prototype.translate.apply(C);aB(C.points,function(K){var I=aE(K.yBottom,v),H=bo(aw(-999-I,K.plotY),w.len+999+I),G=K.plotX+q,F=r,E=bo(H,I),D;D=aw(H,I)-E;a4(D)<u&&u&&(D=u,E=ax(a4(E-v)>u?I-u:v-(w.translate(K.y,0,1,0,1)<=v?u:0)));K.barX=G;K.pointWidth=t;K.tooltipPos=A.inverted?[w.len-H,C.xAxis.len-G-F/2]:[G+F/2,H];I=a4(G)<0.5;F=ax(G+F)+p;G=ax(G)+p;F-=G;H=a4(E)<0.5;D=ax(E+D)+m;E=ax(E)+m;D-=E;I&&(G+=1,F-=1);H&&(E-=1,D+=1);K.shapeType="rect";K.shapeArgs={x:G,y:E,width:F,height:D}})},getSymbol:bK,drawLegendSymbol:a7.drawRectangle,drawGraph:bK,drawPoints:function(){var p=this,m=this.chart,w=p.options,v=m.renderer,u=w.animationLimit||250,t,r,q;aB(p.points,function(A){var z=A.plotY,y=A.graphic;if(z!==ay&&!isNaN(z)&&A.y!==null){t=A.shapeArgs,q=az(p.borderWidth)?{"stroke-width":p.borderWidth}:{},r=A.pointAttr[A.selected?"select":""]||p.pointAttr[""],y?(a1(y),y.attr(q)[m.pointCount<u?"animate":"attr"](av(t))):A.graphic=v[A.shapeType](t).attr(r).attr(q).add(p.group).shadow(w.shadow,null,w.stacking&&!w.borderRadius)}else{if(y){A.graphic=y.destroy()}}})},animate:function(p){var m=this.yAxis,t=this.options,r=this.chart.inverted,q={};if(bA){p?(q.scaleY=0.001,p=bo(m.pos+m.len,aw(m.pos,m.toPixels(t.threshold))),r?q.translateX=p-m.len:q.translateY=p,this.group.attr(q)):(q.scaleY=1,q[r?"translateX":"translateY"]=m.pos,this.group.animate(q,this.options.animation),this.animate=null)}},remove:function(){var p=this,m=p.chart;m.hasRendered&&aB(m.series,function(q){if(q.type===p.type){q.isDirty=!0}});a6.prototype.remove.apply(p,arguments)}});bh.column=bC;a3.bar=av(a3.column);aj=i(bC,{type:"bar",inverted:!0});bh.bar=aj;a3.scatter=av(a2,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});aj=i(a6,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&a6.prototype.drawGraph.call(this)}});bh.scatter=aj;a3.pie=av(a2,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,format:"{point.name}"},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});a2={type:"pie",isCartesian:!1,pointClass:i(ah,{init:function(){ah.prototype.init.apply(this,arguments);var p=this,m;if(p.y<0){p.y=null}aA(p,{visible:p.visible!==!1,name:aE(p.name,"Slice")});m=function(q){p.slice(q.type==="select")};a8(p,"select",m);a8(p,"unselect",m);return p},setVisible:function(p){var m=this,r=m.series,q=r.chart;m.visible=m.options.visible=p=p===ay?!m.visible:p;r.options.data[aI(m,r.data)]=m.options;aB(["graphic","dataLabel","connector","shadowGroup"],function(t){if(m[t]){m[t][p?"show":"hide"](!0)}});m.legendItem&&q.legend.colorizeItem(m,p);if(!r.isDirty&&r.options.ignoreHiddenPoint){r.isDirty=!0,q.redraw()}},slice:function(p,m,r){var q=this.series;ap(r,q.chart);aE(m,!0);this.sliced=this.options.sliced=p=az(p)?p:!this.sliced;q.options.data[aI(this,q.data)]=this.options;p=p?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(p);this.shadowGroup&&this.shadowGroup.animate(p)},haloPath:function(p){var m=this.shapeArgs,q=this.series.chart;return this.series.chart.renderer.symbols.arc(q.plotLeft+m.x,q.plotTop+m.y,m.r+p,m.r+p,{innerR:this.shapeArgs.r,start:m.start,end:m.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:bK,animate:function(p){var m=this,r=m.points,q=m.startAngleRad;if(!p){aB(r,function(t){var u=t.graphic,t=t.shapeArgs;u&&(u.attr({r:m.center[3]/2,start:q,end:q}),u.animate({r:t.r,start:t.start,end:t.end},m.options.animation))}),m.animate=null}},setData:function(p,m,r,q){a6.prototype.setData.call(this,p,!1,r,q);this.processData();this.generatePoints();aE(m,!0)&&this.chart.redraw(r)},generatePoints:function(){var p,m=0,u,t,r,q=this.options.ignoreHiddenPoint;a6.prototype.generatePoints.call(this);u=this.points;t=u.length;for(p=0;p<t;p++){r=u[p],m+=q&&!r.visible?0:r.y}this.total=m;for(p=0;p<t;p++){r=u[p],r.percentage=m>0?r.y/m*100:0,r.total=m}},translate:function(G){this.generatePoints();var F=0,E=this.options,D=E.slicedOffset,C=D+E.borderWidth,A,z,y,w=E.startAngle||0,v=this.startAngleRad=bH/180*(w-90),w=(this.endAngleRad=bH/180*(aE(E.endAngle,w+360)-90))-v,u=this.points,t=E.dataLabels.distance,E=E.ignoreHiddenPoint,q,r=u.length,m;if(!G){this.center=G=this.getCenter()}this.getX=function(p,H){y=aY.asin(bo((p-G[1])/(G[2]/2+t),1));return G[0]+(H?-1:1)*aS(y)*(G[2]/2+t)};for(q=0;q<r;q++){m=u[q];A=v+F*w;if(!E||m.visible){F+=m.percentage/100}z=v+F*w;m.shapeType="arc";m.shapeArgs={x:G[0],y:G[1],r:G[2]/2,innerR:G[3]/2,start:ax(A*1000)/1000,end:ax(z*1000)/1000};y=(z+A)/2;y>1.5*bH?y-=2*bH:y<-bH/2&&(y+=2*bH);m.slicedTranslation={translateX:ax(aS(y)*D),translateY:ax(f(y)*D)};A=aS(y)*G[2]/2;z=f(y)*G[2]/2;m.tooltipPos=[G[0]+A*0.7,G[1]+z*0.7];m.half=y<-bH/2||y>bH/2?1:0;m.angle=y;C=bo(C,t/2);m.labelPos=[G[0]+A+aS(y)*t,G[1]+z+f(y)*t,G[0]+A+aS(y)*C,G[1]+z+f(y)*C,G[0]+A,G[1]+z,t<0?"center":m.half?"right":"left",y]}},drawGraph:null,drawPoints:function(){var p=this,m=p.chart.renderer,v,u,t=p.options.shadow,r,q;if(t&&!p.shadowGroup){p.shadowGroup=m.g("shadow").add(p.group)}aB(p.points,function(w){u=w.graphic;q=w.shapeArgs;r=w.shadowGroup;if(t&&!r){r=w.shadowGroup=m.g("shadow").add(p.shadowGroup)}v=w.sliced?w.slicedTranslation:{translateX:0,translateY:0};r&&r.attr(v);u?u.animate(aA(q,v)):w.graphic=u=m[w.shapeType](q).setRadialReference(p.center).attr(w.pointAttr[w.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(v).add(p.group).shadow(t,r);w.visible!==void 0&&w.setVisible(w.visible)})},sortByAngle:function(p,m){p.sort(function(q,r){return q.angle!==void 0&&(r.angle-q.angle)*m})},drawLegendSymbol:a7.drawRectangle,getCenter:aU.getCenter,getSymbol:bK};a2=i(a6,a2);bh.pie=a2;a6.prototype.drawDataLabels=function(){var y=this,w=y.options,v=w.cursor,u=w.dataLabels,t=y.points,r,q,p,m;if(u.enabled||y._hasPointLabels){y.dlProcessOptions&&y.dlProcessOptions(u),m=y.plotGroup("dataLabelsGroup","data-labels","hidden",u.zIndex||6),!y.hasRendered&&aE(u.defer,!0)&&(m.attr({opacity:0}),a8(y,"afterAnimate",function(){y.dataLabelsGroup.show()[w.animation?"animate":"attr"]({opacity:1},{duration:200})})),q=u,aB(t,function(z){var E,A=z.dataLabel,F,G,D=z.connector,C=!0;r=z.options&&z.options.dataLabels;E=aE(r&&r.enabled,q.enabled);if(A&&!E){z.dataLabel=A.destroy()}else{if(E){u=av(q,r);E=u.rotation;F=z.getLabelConfig();p=u.format?bn(u.format,F):u.formatter.call(F,u);u.style.color=aE(u.color,u.style.color,y.color,"black");if(A){if(az(p)){A.attr({text:p}),C=!1}else{if(z.dataLabel=A=A.destroy(),D){z.connector=D.destroy()}}}else{if(az(p)){A={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:E,padding:u.padding,zIndex:1};for(G in A){A[G]===ay&&delete A[G]}A=z.dataLabel=y.chart.renderer[E?"text":"label"](p,0,-999,null,null,null,u.useHTML).attr(A).css(aA(u.style,v&&{cursor:v})).add(m).shadow(u.shadow)}}A&&y.alignDataLabel(z,A,u,null,C)}}})}};a6.prototype.alignDataLabel=function(z,y,w,v,u){var t=this.chart,r=t.inverted,q=aE(z.plotX,-999),p=aE(z.plotY,-999),m=y.getBBox();if(z=this.visible&&(z.series.forceDL||t.isInsidePlot(q,ax(p),r)||v&&t.isInsidePlot(q,r?v.x+1:v.y+v.height-1,r))){v=aA({x:r?t.plotWidth-p:q,y:ax(r?t.plotHeight-q:p),width:0,height:0},v),aA(w,{width:m.width,height:m.height}),w.rotation?(r={align:w.align,x:v.x+w.x+v.width/2,y:v.y+w.y+v.height/2},y[u?"attr":"animate"](r)):(y.align(w,null,v),r=y.alignAttr,aE(w.overflow,"justify")==="justify"?this.justifyDataLabel(y,w,r,m,v,u):aE(w.crop,!0)&&(z=t.isInsidePlot(r.x,r.y)&&t.isInsidePlot(r.x+m.width,r.y+m.height)))}if(!z){y.attr({y:-999}),y.placed=!1}};a6.prototype.justifyDataLabel=function(A,z,y,w,v,u){var t=this.chart,r=z.align,q=z.verticalAlign,p,m;p=y.x;if(p<0){r==="right"?z.align="left":z.x=-p,m=!0}p=y.x+w.width;if(p>t.plotWidth){r==="left"?z.align="right":z.x=t.plotWidth-p,m=!0}p=y.y;if(p<0){q==="bottom"?z.verticalAlign="top":z.y=-p,m=!0}p=y.y+w.height;if(p>t.plotHeight){q==="top"?z.verticalAlign="bottom":z.y=t.plotHeight-p,m=!0}if(m){A.placed=!u,A.align(z,null,v)}};if(bh.pie){bh.pie.prototype.drawDataLabels=function(){var ch=this,cg=ch.data,cf,ce=ch.chart,cd=ch.options.dataLabels,cc=aE(cd.connectorPadding,10),cb=aE(cd.connectorWidth,1),ca=ce.plotWidth,ce=ce.plotHeight,b9,b8,b7=aE(cd.softConnector,!0),b6=cd.distance,b4=ch.center,b5=b4[2]/2,bb=b4[1],ab=b6>0,Y,U,S,O,b3=[[],[]],M,aa,V,Z,ba,X=[0,0,0,0],u=function(r,q){return q.y-r.y};if(ch.visible&&(cd.enabled||ch._hasPointLabels)){a6.prototype.drawDataLabels.apply(ch);aB(cg,function(q){q.dataLabel&&q.visible&&b3[q.half].push(q)});for(Z=0;!O&&cg[Z];){O=cg[Z]&&cg[Z].dataLabel&&(cg[Z].dataLabel.getBBox().height||21),Z++}for(Z=2;Z--;){var cg=[],v=[],T=b3[Z],R=T.length,W;ch.sortByAngle(T,Z-0.5);if(b6>0){for(ba=bb-b5-b6;ba<=bb+b5+b6;ba+=O){cg.push(ba)}U=cg.length;if(R>U){cf=[].concat(T);cf.sort(u);for(ba=R;ba--;){cf[ba].rank=ba}for(ba=R;ba--;){T[ba].rank>=U&&T.splice(ba,1)}R=T.length}for(ba=0;ba<R;ba++){cf=T[ba];S=cf.labelPos;cf=9999;var m,p;for(p=0;p<U;p++){m=a4(cg[p]-S[1]),m<cf&&(cf=m,W=p)}if(W<ba&&cg[ba]!==null){W=ba}else{for(U<R-ba+W&&cg[ba]!==null&&(W=U-R+ba);cg[W]===null;){W++}}v.push({i:W,y:cg[W]});cg[W]=null}v.sort(u)}for(ba=0;ba<R;ba++){cf=T[ba];S=cf.labelPos;Y=cf.dataLabel;V=cf.visible===!1?"hidden":"visible";cf=S[1];if(b6>0){if(U=v.pop(),W=U.i,aa=U.y,cf>aa&&cg[W+1]!==null||cf<aa&&cg[W-1]!==null){aa=cf}}else{aa=cf}M=cd.justify?b4[0]+(Z?-1:1)*(b5+b6):ch.getX(W===0||W===cg.length-1?cf:aa,Z);Y._attr={visibility:V,align:S[6]};Y._pos={x:M+cd.x+({left:cc,right:-cc}[S[6]]||0),y:aa+cd.y-10};Y.connX=M;Y.connY=aa;if(this.options.size===null){U=Y.width,M-U<cc?X[3]=aw(ax(U-M+cc),X[3]):M+U>ca-cc&&(X[1]=aw(ax(M+U-ca+cc),X[1])),aa-O/2<0?X[0]=aw(ax(-aa+O/2),X[0]):aa+O/2>ce&&(X[2]=aw(ax(aa+O/2-ce),X[2]))}}}if(bE(X)===0||this.verifyDataLabelOverflow(X)){this.placeDataLabels(),ab&&cb&&aB(this.points,function(q){b9=q.connector;S=q.labelPos;if((Y=q.dataLabel)&&Y._pos){V=Y._attr.visibility,M=Y.connX,aa=Y.connY,b8=b7?["M",M+(S[6]==="left"?5:-5),aa,"C",M,aa,2*S[2]-S[4],2*S[3]-S[5],S[2],S[3],"L",S[4],S[5]]:["M",M+(S[6]==="left"?5:-5),aa,"L",S[2],S[3],"L",S[4],S[5]],b9?(b9.animate({d:b8}),b9.attr("visibility",V)):q.connector=b9=ch.chart.renderer.path(b8).attr({"stroke-width":cb,stroke:cd.connectorColor||q.color||"#606060",visibility:V}).add(ch.dataLabelsGroup)}else{if(b9){q.connector=b9.destroy()}}})}}},bh.pie.prototype.placeDataLabels=function(){aB(this.points,function(p){var p=p.dataLabel,m;if(p){(m=p._pos)?(p.attr(p._attr),p[p.moved?"animate":"attr"](m),p.moved=!0):p&&p.attr({y:-999})}})},bh.pie.prototype.alignDataLabel=bK,bh.pie.prototype.verifyDataLabelOverflow=function(p){var m=this.center,u=this.options,t=u.center,r=u=u.minSize||80,q;t[0]!==null?r=aw(m[2]-aw(p[1],p[3]),u):(r=aw(m[2]-p[1]-p[3],u),m[0]+=(p[3]-p[1])/2);t[1]!==null?r=aw(bo(r,m[2]-aw(p[0],p[2])),u):(r=aw(bo(r,m[2]-p[0]-p[2]),u),m[1]+=(p[0]-p[2])/2);r<m[2]?(m[2]=r,this.translate(m),aB(this.points,function(v){if(v.dataLabel){v.dataLabel._pos=null}}),this.drawDataLabels&&this.drawDataLabels()):q=!0;return q}}if(bh.column){bh.column.prototype.alignDataLabel=function(z,y,w,v,u){var t=this.chart,r=t.inverted,q=z.dlBox||z.shapeArgs,p=z.below||z.plotY>aE(this.translatedThreshold,t.plotSizeY),m=aE(w.inside,!!this.options.stacking);if(q&&(v=av(q),r&&(v={x:t.plotWidth-v.y-v.height,y:t.plotHeight-v.x-v.width,width:v.height,height:v.width}),!m)){r?(v.x+=p?0:v.width,v.width=0):(v.y+=p?v.height:0,v.height=0)}w.align=aE(w.align,!r||m?"center":p?"right":"left");w.verticalAlign=aE(w.verticalAlign,r||m?"middle":p?"top":"bottom");a6.prototype.alignDataLabel.call(this,z,y,w,v,u)}}a2=a0.TrackerMixin={drawTrackerPoint:function(){var p=this,m=p.chart,u=m.pointer,t=p.options.cursor,r=t&&{cursor:t},q=function(y){var w=y.target,v;if(m.hoverSeries!==p){p.onMouseOver()}for(;w&&!v;){v=w.point,w=w.parentNode}if(v!==ay&&v!==m.hoverPoint){v.onMouseOver(y)}};aB(p.points,function(v){if(v.graphic){v.graphic.element.point=v}if(v.dataLabel){v.dataLabel.element.point=v}});if(!p._hasTracking){aB(p.trackerGroups,function(v){if(p[v]&&(p[v].addClass("highcharts-tracker").on("mouseover",q).on("mouseout",function(w){u.onTrackerMouseOut(w)}).css(r),bp)){p[v].on("touchstart",q)}}),p._hasTracking=!0}},drawTrackerGraph:function(){var H=this,G=H.options,F=G.trackByArea,E=[].concat(F?H.areaPath:H.graphPath),D=E.length,C=H.chart,A=C.pointer,z=C.renderer,y=C.options.tooltip.snap,w=H.tracker,v=G.cursor,u=v&&{cursor:v},v=H.singlePoints,t,r=function(){if(C.hoverSeries!==H){H.onMouseOver()}},p="rgba(192,192,192,"+(bA?0.0001:0.002)+")";if(D&&!F){for(t=D+1;t--;){E[t]==="M"&&E.splice(t+1,0,E[t+1]-y,E[t+2],"L"),(t&&E[t]==="M"||t===D)&&E.splice(t,0,"L",E[t-2]+y,E[t-1])}}for(t=0;t<v.length;t++){D=v[t],E.push("M",D.plotX-y,D.plotY,"L",D.plotX+y,D.plotY)}w?w.attr({d:E}):(H.tracker=z.path(E).attr({"stroke-linejoin":"round",visibility:H.visible?"visible":"hidden",stroke:p,fill:F?p:a5,"stroke-width":G.lineWidth+(F?0:2*y),zIndex:2}).add(H.group),aB([H.tracker,H.markerGroup],function(m){m.addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(q){A.onTrackerMouseOut(q)}).css(u);if(bp){m.on("touchstart",r)}}))}};if(bh.column){bC.prototype.drawTracker=a2.drawTrackerPoint}if(bh.pie){bh.pie.prototype.drawTracker=a2.drawTrackerPoint}if(bh.scatter){aj.prototype.drawTracker=a2.drawTrackerPoint}if(bh.gauge){bh.gauge.prototype.drawTracker=a2.drawTrackerPoint}aA(bV.prototype,{setItemEvents:function(p,m,u,t,r){var q=this;(u?m:p.legendGroup).on("mouseover",function(){p.setState("hover");m.css(q.options.itemHoverStyle)}).on("mouseout",function(){m.css(p.visible?t:r);p.setState()}).on("click",function(v){var w=function(){p.setVisible()},v={browserEvent:v};p.firePointEvent?p.firePointEvent("legendItemClick",v,w):bk(p,"legendItemClick",v,w)})},createCheckboxForItem:function(m){m.checkbox=aT("input",{type:"checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container);a8(m.checkbox,"click",function(p){bk(m,"checkboxClick",{checked:p.target.checked},function(){m.select()})})}});bi.legend.itemStyle.cursor="pointer";aA(d.prototype,{showResetZoom:function(){var p=this,m=bi.lang,u=p.options.chart.resetZoomButton,t=u.theme,r=t.states,q=u.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=p.renderer.button(m.resetZoom,null,null,function(){p.zoomOut()},t,r&&r.hover).attr({align:u.position.align,title:m.resetZoomTitle}).add().align(u.position,!1,q)},zoomOut:function(){var m=this;bk(m,"selection",{resetSelection:!0},function(){m.zoom()})},zoom:function(p){var m,t=this.pointer,r=!1,q;!p||p.resetSelection?aB(this.axes,function(u){m=u.zoom()}):aB(p.xAxis.concat(p.yAxis),function(u){var w=u.axis,v=w.isXAxis;if(t[v?"zoomX":"zoomY"]||t[v?"pinchX":"pinchY"]){m=w.zoom(u.min,u.max),w.displayBtn&&(r=!0)}});q=this.resetZoomButton;if(r&&!q){this.showResetZoom()}else{if(!r&&aD(q)){this.resetZoomButton=q.destroy()}}m&&this.redraw(aE(this.options.chart.animation,p&&p.animation,this.pointCount<100))},pan:function(p,m){var t=this,r=t.hoverPoints,q;r&&aB(r,function(u){u.setState()});aB(m==="xy"?[1,0]:[1],function(u){var C=p[u?"chartX":"chartY"],A=t[u?"xAxis":"yAxis"][0],z=t[u?"mouseDownX":"mouseDownY"],y=(A.pointRange||0)/2,w=A.getExtremes(),v=A.toValue(z-C,!0)+y,z=A.toValue(z+t[u?"plotWidth":"plotHeight"]-C,!0)-y;A.series.length&&v>bo(w.dataMin,w.min)&&z<aw(w.dataMax,w.max)&&(A.setExtremes(v,z,!1,!1,{trigger:"pan"}),q=!0);t[u?"mouseDownX":"mouseDownY"]=C});q&&t.redraw(!1);bm(t.container,{cursor:"move"})}});aA(ah.prototype,{select:function(p,m){var t=this,r=t.series,q=r.chart,p=aE(p,!t.selected);t.firePointEvent(p?"select":"unselect",{accumulate:m},function(){t.selected=t.options.selected=p;r.options.data[aI(t,r.data)]=t.options;t.setState(p&&"select");m||aB(q.getSelectedPoints(),function(u){if(u.selected&&u!==t){u.selected=u.options.selected=!1,r.options.data[aI(u,r.data)]=u.options,u.setState(""),u.firePointEvent("unselect")}})})},onMouseOver:function(p){var m=this.series,t=m.chart,r=t.tooltip,q=t.hoverPoint;if(q&&q!==this){q.onMouseOut()}this.firePointEvent("mouseOver");r&&(!r.shared||m.noSharedTooltip)&&r.refresh(this,p);this.setState("hover");t.hoverPoint=this},onMouseOut:function(){var p=this.series.chart,m=p.hoverPoints;if(!m||aI(this,m)===-1){this.firePointEvent("mouseOut"),this.setState(),p.hoverPoint=null}},importEvents:function(){if(!this.hasImportedEvents){var p=av(this.series.options.point,this.options).events,m;this.events=p;for(m in p){a8(this,m,p[m])}this.hasImportedEvents=!0}},setState:function(H,G){var F=this.plotX,E=this.plotY,D=this.series,C=D.options.states,A=a3[D.type].marker&&D.options.marker,z=A&&!A.enabled,y=A&&A.states[H],w=y&&y.enabled===!1,v=D.stateMarkerGraphic,u=this.marker||{},t=D.chart,r=D.halo,q,H=H||"";q=this.pointAttr[H]||D.pointAttr[H];if(!(H===this.state&&!G||this.selected&&H!=="select"||C[H]&&C[H].enabled===!1||H&&(w||z&&y.enabled===!1)||H&&u.states&&u.states[H]&&u.states[H].enabled===!1)){if(this.graphic){A=A&&this.graphic.symbolName&&q.r,this.graphic.attr(av(q,A?{x:F-A,y:E-A,width:2*A,height:2*A}:{})),v&&v.hide()}else{if(H&&y){if(A=y.radius,u=u.symbol||D.symbol,v&&v.currentSymbol!==u&&(v=v.destroy()),v){v[G?"animate":"attr"]({x:F-A,y:E-A})}else{if(u){D.stateMarkerGraphic=v=t.renderer.symbol(u,F-A,E-A,2*A,2*A).attr(q).add(D.markerGroup),v.currentSymbol=u}}}if(v){v[H&&t.isInsidePlot(F,E,t.inverted)?"show":"hide"]()}}if((F=C[H]&&C[H].halo)&&F.size){if(!r){D.halo=r=t.renderer.path().add(D.seriesGroup)}r.attr(aA({fill:bN(this.color||D.color).setOpacity(F.opacity).get()},F.attributes))[G?"animate":"attr"]({d:this.haloPath(F.size)})}else{r&&r.attr({d:[]})}this.state=H}},haloPath:function(p){var m=this.series.chart;return m.renderer.symbols.circle(m.plotLeft+this.plotX-p,m.plotTop+this.plotY-p,p*2,p*2)}});aA(a6.prototype,{onMouseOver:function(){var p=this.chart,m=p.hoverSeries;if(m&&m!==this){m.onMouseOut()}this.options.events.mouseOver&&bk(this,"mouseOver");this.setState("hover");p.hoverSeries=this},onMouseOut:function(){var p=this.options,m=this.chart,r=m.tooltip,q=m.hoverPoint;if(q){q.onMouseOut()}this&&p.events.mouseOut&&bk(this,"mouseOut");r&&!p.stickyTracking&&(!r.shared||this.noSharedTooltip)&&r.hide();this.setState();m.hoverSeries=null},setState:function(p){var m=this.options,t=this.graph,r=this.graphNeg,q=m.states,m=m.lineWidth,p=p||"";if(this.state!==p){this.state=p,q[p]&&q[p].enabled===!1||(p&&(m=q[p].lineWidth||m+1),t&&!t.dashstyle&&(p={"stroke-width":m},t.attr(p),r&&r.attr(p)))}},setVisible:function(p,m){var w=this,v=w.chart,u=w.legendItem,t,r=v.options.chart.ignoreHiddenSeries,q=w.visible;t=(w.visible=p=w.userOptions.visible=p===ay?!q:p)?"show":"hide";aB(["group","dataLabelsGroup","markerGroup","tracker"],function(y){if(w[y]){w[y][t]()}});if(v.hoverSeries===w){w.onMouseOut()}u&&v.legend.colorizeItem(w,p);w.isDirty=!0;w.options.stacking&&aB(v.series,function(y){if(y.options.stacking&&y.visible){y.isDirty=!0}});aB(w.linkedSeries,function(y){y.setVisible(p,!1)});if(r){v.isDirtyBox=!0}m!==!1&&v.redraw();bk(w,t)},setTooltipPoints:function(z){var y=[],w,v,u=this.xAxis,t=u&&u.getExtremes(),r=u?u.tooltipLen||u.len:this.chart.plotSizeX,q,p,m=[];if(!(this.options.enableMouseTracking===!1||this.singularTooltips)){if(z){this.tooltipPoints=null}aB(this.segments||this.points,function(A){y=y.concat(A)});u&&u.reversed&&(y=y.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(y);z=y.length;for(p=0;p<z;p++){if(u=y[p],w=u.x,w>=t.min&&w<=t.max){q=y[p+1];w=v===ay?0:v+1;for(v=y[p+1]?bo(aw(0,aZ((u.clientX+(q?q.wrappedClientX||q.clientX:r))/2)),r):r;w>=0&&w<=v;){m[w++]=u}}}this.tooltipPoints=m}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(m){this.selected=m=m===ay?!this.selected:m;if(this.checkbox){this.checkbox.checked=m}bk(this,m?"select":"unselect")},drawTracker:a2.drawTrackerGraph});aA(a0,{Axis:bX,Chart:d,Color:bN,Point:ah,Tick:c,Renderer:bQ,Series:a6,SVGElement:aX,SVGRenderer:bs,arrayMin:bM,arrayMax:bE,charts:aW,dateFormat:aC,format:bn,pathAnim:aN,getOptions:function(){return bi},hasBidiBug:bL,isTouchDevice:aL,numberFormat:bY,seriesTypes:bh,setOptions:function(m){bi=av(!0,bi,m);bc();return bi},addEvent:a8,removeEvent:aV,createElement:aT,discardElement:aQ,css:bm,each:aB,extend:aA,map:by,merge:av,pick:aE,splat:n,extendClass:i,pInt:bq,wrap:b2,svg:bA,canvas:bT,vml:!bA&&!bT,product:"Highcharts",version:"4.0.0"})})();var highChartColors=[];if($(".wl-primelocation").length>0){highChartColors=["#63cb95","#003896","#63cb95","#594fbe","#5a5a5a"]}else{if($(".wl-alltheagents").length>0){highChartColors=["#DD1C1B","#99CC66","#66CCFF","#F38128","#5a5a5a"]}else{if($(".wl-smartnewhomes").length>0){highChartColors=["#007CBB","#229264","#58585b","#116031","#5a5a5a"]}else{highChartColors=["#d64521","#b2d235","#7ecdcd","#ffca05","#5a5a5a"]}}}Highcharts.setOptions({chart:{spacingTop:20,spacingBottom:20,spacingLeft:30,spacingRight:30,style:{fontFamily:"sans-serif",fontSize:"12px"},backgroundColor:"rgba(255, 255, 255, 0)"},colors:highChartColors});ZPG.highchart={config:{categories:"",colors:highChartColors,titleStyle:{color:"#999999",fontSize:"11px"},series:[],data:"",domId:"",width:583,height:300,lineColour:null,showDataPoints:true,xAxisType:"category",xAxis:{},yAxis:{},tooltip:{borderColor:"#dedede",backgroundColor:"#eee",color:"#000"},tooltip_formatter:function(){return this.y}},init:function(b){ZHC=ZPG.highchart;var c=$("#report");if(b&&typeof(b)=="object"){$.extend(ZHC.config,b)}var a=[];if(ZHC.config.showUkAverageLine){a=[{color:"#FF0000",width:2,value:100,label:{y:-5,align:"center",text:"UK Average",style:{color:"#999999",fontSize:"11px"},rotation:0},zIndex:2}]}ZHC.chart=new Highcharts.Chart({exporting:{enabled:false},chart:{renderTo:ZHC.config.domId,type:ZHC.config.chartType,width:ZHC.config.width,height:ZHC.config.height},colors:ZHC.config.colors,title:{text:ZHC.config.title||null,style:{color:ZHC.config.titleStyle.color,fontSize:ZHC.config.titleStyle.fontSize}},tooltip:{borderWidth:1,borderColor:ZHC.config.tooltip.borderColor,backgroundColor:ZHC.config.tooltip.backgroundColor,shadow:false,style:{color:ZHC.config.tooltip.color},formatter:ZHC.config.tooltip_formatter},plotOptions:{line:{marker:{lineColor:ZHC.config.lineColour,enabled:ZHC.config.showDataPoints}},series:{shadow:false},bar:{dataLabels:{enabled:false}}},credits:{style:{color:"#cccccc",fontSize:"9px"},text:ZHC.config.creditsText,href:""},xAxis:{lineColor:ZHC.config.xAxis.lineColor||"#dedede",lineWidth:ZHC.config.xAxis.lineWidth||1,gridLineWidth:ZHC.config.xAxis.gridLineWidth||0,gridLineColor:ZHC.config.yAxis.gridLineColor||"#dedede",type:ZHC.config.xAxisType,categories:ZHC.config.categories},yAxis:{lineColor:ZHC.config.yAxis.lineColor||"#dedede",lineWidth:ZHC.config.yAxis.lineWidth||0,gridLineDashStyle:ZHC.config.yAxis.gridLineDashStyle||"Solid",gridLineColor:ZHC.config.yAxis.gridLineColor||"#dedede",plotLines:a,title:{style:{color:"#999999"},text:ZHC.config.yAxisTitle},labels:{overflow:"justify"}},series:ZHC.config.series})}};